const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/RelatedProductsCarousel-Bn7SsFlj.js","assets/js/index-DYqoKnsa.js","assets/js/react-vendor-D-XgqoRR.js","assets/js/socket-vendor-CUkmNz_4.js","assets/js/ui-vendor-CK_V9qH3.js","assets/css/index-vGAFvZM8.css","assets/js/session-DZPRxyc_.js","assets/js/PricingDisplay-CfGQrzdR.js","assets/js/VerifiedBadge-DI9oniZv.js","assets/js/product_reviews-CPbJ1aXE.js","assets/js/RecentlyViewed-CXFVPoGR.js"])))=>i.map(i=>d[i]);
import{d as e,u as s,j as t,b as a,g as l,k as r,p as i,l as n,_ as o,m as c}from"./index-DYqoKnsa.js";import{r as d}from"./react-vendor-D-XgqoRR.js";import{d as m,a7 as x,ah as u,g as h,y as g,ai as p,X as y,ae as f,af as b}from"./ui-vendor-CK_V9qH3.js";import{u as v,V as j}from"./VerifiedBadge-DI9oniZv.js";import{b as w,g as N,a as k,h as S}from"./product_reviews-CPbJ1aXE.js";import"./socket-vendor-CUkmNz_4.js";function C({product:a,quantity:l=1,className:r=""}){const[i,n]=d.useState(!1),[o,c]=d.useState(!1),x=e(),{isAuthenticated:u}=s(),h=null==x?void 0:x.addItem;d.useEffect(()=>{const e=()=>{const e=window.scrollY||window.pageYOffset,s=window.innerHeight,t=document.documentElement.scrollHeight;e>300&&e<t-s-100?(n(!0),c(!0)):(n(!1),e<300&&c(!1))};return window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)},[]);return i?t.jsx("div",{className:`fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-50 transform transition-transform duration-300 ${i?"translate-y-0":"translate-y-full"} ${r}`,children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[a.listImage&&t.jsx("img",{src:a.listImage,alt:a.title,className:"w-16 h-16 object-cover rounded-lg"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"font-medium text-sm truncate",style:{color:"#1B4965"},children:a.title}),t.jsxs("p",{className:"text-sm font-semibold mt-1",style:{color:"#4B97C9"},children:["â‚¹","number"==typeof a.price?a.price.toFixed(2):a.price]})]})]}),t.jsxs("button",{onClick:()=>{if(u){if(h&&a.id)try{h({id:a.id,slug:a.slug,title:a.title,price:"number"==typeof a.price?String(a.price):a.price,listImage:a.listImage||"",pdpImages:[],description:""},l);const e=document.querySelector(".sticky-add-to-cart-btn");e&&(e.classList.add("animate-pulse"),setTimeout(()=>e.classList.remove("animate-pulse"),1e3))}catch(e){}}else window.location.hash="#/user/login"},className:"sticky-add-to-cart-btn flex items-center gap-2 px-6 py-3 text-white font-medium transition-all duration-300 rounded-lg shadow-md hover:shadow-lg hover:scale-105",style:{backgroundColor:"#4B97C9",minWidth:"160px"},children:[t.jsx(m,{className:"w-5 h-5"}),t.jsx("span",{children:"Add to Cart"})]})]})}):null}function I({productSlug:e,productTitle:s,productImage:a,className:l=""}){const[r,i]=d.useState(!1),[n,o]=d.useState(!1),c=`${window.location.origin}/#/user/product/${e}`,m=`Check out ${s} on Nefol!`;return t.jsxs("div",{className:`relative ${l}`,children:[t.jsxs("button",{onClick:()=>o(!n),className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors","aria-label":"Share product",children:[t.jsx(x,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Share"})]}),n&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>o(!1)}),t.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 z-50 py-2",children:[t.jsxs("button",{onClick:()=>{const e=`https://wa.me/?text=${encodeURIComponent(`${m} ${c}`)}`;window.open(e,"_blank")},className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center gap-3 text-sm",children:[t.jsx("span",{className:"text-xl",children:"ðŸ’¬"}),t.jsx("span",{children:"WhatsApp"})]}),t.jsxs("button",{onClick:()=>{const e=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(c)}`;window.open(e,"_blank","width=600,height=400")},className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center gap-3 text-sm",children:[t.jsx(u,{className:"w-4 h-4"}),t.jsx("span",{children:"Facebook"})]}),t.jsxs("button",{onClick:()=>{const e=`mailto:?subject=${encodeURIComponent(`Check out ${s}`)}&body=${encodeURIComponent(`${m}\n\n${c}`)}`;window.location.href=e},className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center gap-3 text-sm",children:[t.jsx(h,{className:"w-4 h-4"}),t.jsx("span",{children:"Email"})]}),t.jsx("button",{onClick:async()=>{try{if(navigator.clipboard&&navigator.clipboard.writeText)return await navigator.clipboard.writeText(c),i(!0),void setTimeout(()=>i(!1),2e3);const e=document.createElement("textarea");e.value=c,e.style.position="fixed",e.style.left="-999999px",e.style.top="-999999px",document.body.appendChild(e),e.focus(),e.select();try{if(!document.execCommand("copy"))throw new Error("execCommand copy failed");i(!0),setTimeout(()=>i(!1),2e3)}finally{document.body.removeChild(e)}}catch(e){alert("Unable to copy link. Please copy manually: "+c)}},className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center gap-3 text-sm",children:r?t.jsxs(t.Fragment,{children:[t.jsx(g,{className:"w-4 h-4 text-green-600"}),t.jsx("span",{className:"text-green-600",children:"Copied!"})]}):t.jsxs(t.Fragment,{children:[t.jsx(p,{className:"w-4 h-4"}),t.jsx("span",{children:"Copy Link"})]})})]})]})]})}function E({images:e,currentIndex:s,onClose:a,onIndexChange:l}){const[r,i]=d.useState(s),[n,o]=d.useState(1),[c,m]=d.useState({x:0,y:0}),[x,u]=d.useState(!1),h=d.useRef(null),g=d.useRef(null);d.useEffect(()=>{i(s)},[s]),d.useEffect(()=>{l&&l(r)},[r,l]),d.useEffect(()=>{const e=e=>{"Escape"===e.key&&a()},s=e=>{"ArrowLeft"===e.key?p():"ArrowRight"===e.key&&v()};return document.addEventListener("keydown",e),document.addEventListener("keydown",s),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",e),document.removeEventListener("keydown",s),document.body.style.overflow=""}},[]);const p=()=>{i(s=>s>0?s-1:e.length-1),o(1),m({x:0,y:0})},v=()=>{i(s=>s<e.length-1?s+1:0),o(1),m({x:0,y:0})};return e&&0!==e.length?t.jsx("div",{className:"fixed inset-0 bg-black/90 z-[100] flex items-center justify-center",onClick:a,children:t.jsxs("div",{className:"relative max-w-7xl w-full h-full flex items-center justify-center p-4",onClick:e=>e.stopPropagation(),children:[t.jsx("button",{onClick:a,className:"absolute top-4 right-4 z-50 text-white hover:text-gray-300 transition-colors bg-black/50 rounded-full p-2","aria-label":"Close",children:t.jsx(y,{className:"w-6 h-6"})}),e.length>1&&t.jsx("button",{onClick:p,className:"absolute left-4 z-50 text-white hover:text-gray-300 transition-colors bg-black/50 rounded-full p-2","aria-label":"Previous image",children:t.jsx(f,{className:"w-8 h-8"})}),t.jsxs("div",{ref:g,className:"relative max-w-full max-h-full flex items-center justify-center overflow-hidden",onMouseLeave:()=>{n>1&&(o(1),m({x:0,y:0}),u(!1))},children:[t.jsx("img",{ref:h,src:e[r],alt:`Product image ${r+1}`,className:"max-w-full max-h-[90vh] object-contain cursor-zoom-in select-none",style:{transform:`scale(${n}) translate(${c.x}px, ${c.y}px)`,transformOrigin:"center center",transition:1===n?"transform 0.2s ease-out":"none",willChange:n>1?"transform":"auto"},onClick:e=>{1===n?(o(2.5),u(!0)):(o(1),m({x:0,y:0}),u(!1))},onMouseMove:e=>{if(n>1&&h.current&&g.current){const s=h.current.getBoundingClientRect();g.current.getBoundingClientRect();const t=e.clientX-s.left,a=e.clientY-s.top,l=t/s.width,r=a/s.height,i=s.width*n,o=s.height*n,c=(l-.5)*(i-s.width),d=(r-.5)*(o-s.height),x=(i-s.width)/2,u=(o-s.height)/2;m({x:Math.max(-x,Math.min(x,c)),y:Math.max(-u,Math.min(u,d))})}},draggable:!1}),x&&t.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 bg-black/70 text-white px-3 py-1 rounded text-sm",children:"Click to zoom out"})]}),e.length>1&&t.jsx("button",{onClick:v,className:"absolute right-4 z-50 text-white hover:text-gray-300 transition-colors bg-black/50 rounded-full p-2","aria-label":"Next image",children:t.jsx(b,{className:"w-8 h-8"})}),e.length>1&&t.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2 max-w-full overflow-x-auto px-4",children:e.map((e,s)=>t.jsx("button",{onClick:()=>{i(s),o(1),m({x:0,y:0})},className:"flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden border-2 transition-all "+(r===s?"border-white scale-110":"border-transparent opacity-60 hover:opacity-100"),children:t.jsx("img",{src:e,alt:`Thumbnail ${s+1}`,className:"w-full h-full object-cover"})},s))}),e.length>1&&t.jsxs("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 text-white bg-black/50 rounded-full px-4 py-2 text-sm",children:[r+1," / ",e.length]})]})}):null}const M=d.lazy(()=>o(()=>import("./RelatedProductsCarousel-Bn7SsFlj.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]))),A=d.lazy(()=>o(()=>import("./RecentlyViewed-CXFVPoGR.js"),__vite__mapDeps([10,1,2,3,4,5,6,7,8,9])));let P=null,L=0;function $(){var o,c;const[m,x]=d.useState(null),[u,h]=d.useState(null),[g,p]=d.useState(!0),[y,$]=d.useState(1),[G,R]=d.useState({}),[_,O]=d.useState(new Date),[D,H]=d.useState(!1),[F,z]=d.useState(!1),[W,U]=d.useState(0),[K,q]=d.useState(0),[V,Q]=d.useState(Date.now()),[Y,J]=d.useState(!1),[X,Z]=d.useState(!1),[ee,se]=d.useState([]),[te,ae]=d.useState(!1),[le,re]=d.useState(5),[ie,ne]=d.useState(null),oe=d.useRef(!1),[ce,de]=d.useState({show:!1,x:0,y:0}),me=d.useRef(null),[xe,ue]=d.useState(""),[he,ge]=d.useState(!1),[pe,ye]=d.useState(null),[fe,be]=d.useState(null),ve=e(),{isAuthenticated:je,user:we}=s(),Ne=null==ve?void 0:ve.addItem,ke=async()=>{var e;if(6===xe.length){ge(!0),be(null),ye(null);try{const s=l(),t=(null==m?void 0:m.weight)||(null==(e=null==m?void 0:m.details)?void 0:e.weight)||(null==u?void 0:u["Weight (kg)"])||(null==u?void 0:u.Weight)||"0.5",a=parseFloat(String(t))||.5,r=await fetch(`${s}/api/public/shiprocket/serviceability?delivery_postcode=${encodeURIComponent(xe)}&cod=0&weight=${encodeURIComponent(a)}`);if(!r.ok){const e=await r.json().catch(()=>({}));throw new Error(e.message||"Failed to check delivery availability")}const i=await r.json();ye(i)}catch(s){be(s.message||"Unable to check delivery. Please try again later."),ye(null)}finally{ge(!1)}}else be("Please enter a valid 6-digit pincode")},Se=e=>{const s=new Date,t=new Date(s);return t.setDate(s.getDate()+e),t.toLocaleDateString("en-IN",{weekday:"short",year:"numeric",month:"short",day:"numeric"})};d.useEffect(()=>()=>{if((null==m?void 0:m.id)&&V){const e=Math.floor((Date.now()-V)/1e3);e>0&&a.recommendations.trackProductView(m.id,{viewDuration:e,source:"product_page_exit"}).catch(e=>{})}},[null==m?void 0:m.id,V]);const Ce=d.useCallback(async e=>{const s=Date.now();if(P&&s-L<3e5)return P;try{const t=await fetch(`${e}/api/products-csv`);if(t.ok){const e=await t.json();return P=e,L=s,e}}catch(t){}return[]},[]),Ie=d.useCallback(async e=>{if(!e)return;if(g&&(null==m?void 0:m.slug)===e)return;const s=l(),t=e=>{if(!e||"string"!=typeof e)return"";if(/^https?:\/\//i.test(e))return e;return`${s.replace(/\/$/,"")}${e.startsWith("/")?e:`/${e}`}`},o=(e,s)=>{if(!e||!Array.isArray(e))return[t(s||"")];const a=e.map(e=>e?"string"==typeof e?t(e):"object"==typeof e&&"string"==typeof e.url?t(e.url):"":"").filter(e=>e&&e.trim().length>0);return[...new Map(a.map((e,s)=>[e,s])).keys()]},c=e=>{if(!e||!Array.isArray(e))return[];const s=e.map(e=>e?"string"==typeof e?t(e):"object"==typeof e&&"string"==typeof e.url?t(e.url):"":"").filter(e=>e&&e.trim().length>0);return[...new Map(s.map((e,s)=>[e,s])).keys()]};try{p(!0);const[l,m]=await Promise.all([fetch(`${s}/api/products/slug/${e}`,{credentials:"include",cache:"default"}),Ce(s)]);if(l.ok){const s=await l.json();if(s){const l={id:s.id,slug:s.slug,title:s.title,category:s.category,price:s.price,listImage:t(s.list_image||""),pdpImages:o(s.pdp_images,s.list_image),bannerImages:c(s.banner_images),description:s.description||"",details:s.details};if(x(l),re(5),q(0),U(0),l.id){Promise.all([Promise.resolve(r.trackProductView(l.id,l.title,{category:l.category,price:l.price})),a.recommendations.trackProductView(l.id,{source:"product_page",viewDuration:void 0}).catch(e=>{})]).catch(()=>{});try{const e=JSON.parse(localStorage.getItem("recently_viewed")||"[]"),s=[String(l.id),...e.filter(e=>e!==String(l.id))].slice(0,20);localStorage.setItem("recently_viewed",JSON.stringify(s)),window.dispatchEvent(new CustomEvent("product-viewed",{detail:{productId:l.id}}))}catch(d){}if(Q(Date.now()),l&&i.viewContent(n(l)),l.id){const e=l.id;a.reviews.getProductReviews(e).then(e=>se(e||[])).catch(()=>se([]))}}if(m&&m.length>0){const s=m.find(s=>{var t;return(s.Slug||(null==(t=s["Product Name"])?void 0:t.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""))||"")===e});if(s)h(s);else if(l.details){const e="string"==typeof l.details?JSON.parse(l.details):l.details;h({"Product Name":l.title,Title:l.title,"Brand Name":e.brand||"NEFOL",SKU:e.sku||"","HSN Code":e.hsn||"","Subtitle / Tagline":e.subtitle||"","Product Description (Long)":e.longDescription||"","Skin/Hair Type":e.skinHairType||"","Net Quantity (Content)":e.netQuantity||"","Unit Count (Pack of)":e.unitCount||"","Package Content Details":e.packageContent||"","Inner Packaging Type":e.innerPackaging||"","Outer Packaging Type":e.outerPackaging||"","Net Weight (Product Only)":e.netWeight||"","Dead Weight (Packaging Only)":e.deadWeight||"","MRP ":e.mrp||l.price,"website price":e.websitePrice||"","GST %":e.gstPercent||"","Country of Origin":e.countryOfOrigin||"","Manufacturer / Packer / Importer":e.manufacturer||"","Key Ingredients":e.keyIngredients||"","Ingredient Benefits":e.ingredientBenefits||"","How to Use (Steps)":e.howToUse||"","Video Links":e.videoLinks||"","Hazardous / Fragile (Y/N)":e.hazardous||"","Special Attributes (Badges)":e.badges||""})}}}}}catch(u){}p(!1),O(new Date)},[Ce]),Ee=d.useCallback(async e=>{try{ae(!0);const s=await a.reviews.getProductReviews(e);se(s||[])}catch(s){se([])}finally{ae(!1)}},[]);d.useEffect(()=>{const e=(window.location.hash||"#/").match(/^#\/user\/product\/([^?#]+)/),s=(null==e?void 0:e[1])||null;ne(s)},[]),d.useEffect(()=>{const e=()=>{const e=(window.location.hash||"#/").match(/^#\/user\/product\/([^?#]+)/),s=(null==e?void 0:e[1])||null;ne(s)};return window.addEventListener("hashchange",e),()=>window.removeEventListener("hashchange",e)},[]),d.useEffect(()=>{ie?(null==m?void 0:m.slug)!==ie?(oe.current=!1,p(!0),x(null),h(null),Ie(ie)):oe.current||(oe.current=!0,Ie(ie)):p(!1)},[ie,null==m?void 0:m.slug,Ie]);const Me=d.useRef(new Map),Ae=d.useMemo(()=>[],[m]),Pe=d.useMemo(()=>Ae.map(e=>e.slug||"").filter(e=>e),[Ae]),{stats:Le}=v(Pe),[$e,Te]=d.useState(0),Be=Math.ceil(Ae.length/4),Ge=4*$e,Re=Ge+4,_e=Ae.slice(Ge,Re),Oe=$e>0,De=$e<Be-1,{allProductReviews:He,overallRating:Fe,reviewCount:ze}=d.useMemo(()=>{const e=(null==m?void 0:m.slug)||"";let s=[];if(Me.current.has(e))s=Me.current.get(e)||[];else try{s=w(e)||[],Me.current.set(e,s)}catch(i){s=[]}const t=ee.map(e=>({id:e.id,name:e.customer_name,rating:e.rating,date:new Date(e.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),comment:e.review_text||e.comment||"",title:e.title||"",isVerified:e.is_verified||!1,isFeatured:e.is_featured||!1})),a=new Set(t.map(e=>e.id)),l=s.filter(e=>!e.id||!a.has(e.id)),r=[...t,...l];return{allProductReviews:r,overallRating:(e=>{if(0===e.length)return 0;const s=e.reduce((e,s)=>e+(s.rating||0),0);return parseFloat((s/e.length).toFixed(2))})(r),reviewCount:r.length}},[null==m?void 0:m.slug,ee]);d.useEffect(()=>{const e=e=>{const s=e.detail;s&&s.id&&m&&m.id===s.id&&(async()=>{H(!0);const e=(window.location.hash||"#/").match(/^#\/user\/product\/([^?#]+)/),s=null==e?void 0:e[1];if(!s)return;const t=l();try{const e=await fetch(`${t}/api/products/slug/${s}?_=${Date.now()}`,{credentials:"include",cache:"no-store"});if(e.ok){const s=await e.json();if(s){const e=e=>e&&"string"==typeof e?/^https?:\/\//i.test(e)?e:`${t.replace(/\/$/,"")}${e.startsWith("/")?e:`/${e}`}`:"",a=t=>{if(!t||!Array.isArray(t))return[e(s.list_image||"")];const a=t.map(s=>s?"string"==typeof s?e(s):"object"==typeof s&&"string"==typeof s.url?e(s.url):"":"").filter(e=>e&&e.trim().length>0);return[...new Map(a.map((e,s)=>[e,s])).keys()]},l=s=>{if(!s||!Array.isArray(s))return[];const t=s.map(s=>s?"string"==typeof s?e(s):"object"==typeof s&&"string"==typeof s.url?e(s.url):"":"").filter(e=>e&&e.trim().length>0);return[...new Map(t.map((e,s)=>[e,s])).keys()]},r={id:s.id,slug:s.slug,title:s.title,category:s.category,price:s.price,listImage:e(s.list_image||""),pdpImages:a(s.pdp_images),bannerImages:l(s.banner_images),description:s.description||"",details:s.details};x(r)}}const a=await fetch(`${t}/api/products-csv`);if(a.ok){const e=(await a.json()).find(e=>{var t;return(e.Slug||(null==(t=e["Product Name"])?void 0:t.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""))||"")===s});e&&h(e)}O(new Date),(null==m?void 0:m.id)&&Ee(m.id)}catch(a){}finally{H(!1)}})()};return window.addEventListener("product-updated",e),window.addEventListener("refresh-products",e),()=>{window.removeEventListener("product-updated",e),window.removeEventListener("refresh-products",e)}},[null==m?void 0:m.id]);const We=e=>{R(s=>({...s,[e]:!s[e]}))};return g?t.jsx("main",{className:"py-10 bg-white",children:t.jsx("div",{className:"mx-auto max-w-7xl px-4",children:t.jsxs("div",{className:"animate-pulse",children:[t.jsx("div",{className:"h-8 w-3/4 bg-gray-200 rounded mb-4"}),t.jsx("div",{className:"h-4 w-1/2 bg-gray-200 rounded mb-8"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[t.jsx("div",{className:"h-96 bg-gray-200 rounded"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"h-6 bg-gray-200 rounded"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded"})]})]})]})})}):m?t.jsxs("div",{className:"overflow-x-hidden bg-white w-full max-w-full",children:[t.jsx("main",{className:"py-4 sm:py-6 md:py-8 bg-white w-full max-w-full",children:t.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 w-full",children:[t.jsx("nav",{className:"mb-4 sm:mb-6 text-xs sm:text-sm",children:t.jsxs("ol",{className:"flex items-center space-x-1 sm:space-x-2 text-gray-600 flex-wrap",children:[t.jsx("li",{children:t.jsx("a",{href:"#/user/",className:"hover:text-gray-900",children:"Home"})}),t.jsx("li",{children:"/"}),t.jsx("li",{children:t.jsx("a",{href:"#/user/shop",className:"hover:text-gray-900",children:"Shop"})}),t.jsx("li",{children:"/"}),t.jsx("li",{children:t.jsx("a",{href:`#/user/shop?category=${m.category}`,className:"hover:text-gray-900 truncate max-w-[100px] sm:max-w-none",children:m.category})}),t.jsx("li",{children:"/"}),t.jsx("li",{className:"text-gray-900 truncate max-w-[150px] sm:max-w-none",children:m.title})]})}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:gap-8 md:gap-12 lg:grid-cols-2 mb-8 sm:mb-12 md:mb-16 w-full",children:[t.jsxs("div",{className:"space-y-2 sm:space-y-4 relative",children:[(()=>{const e=m.listImage?[m.listImage,...m.pdpImages||[]]:m.pdpImages||[],s=[...new Map(e.map((e,s)=>[e,s])).keys()][K]||"";return s?t.jsxs("div",{ref:me,className:"aspect-square overflow-hidden rounded-lg border border-gray-200 flex items-center justify-center bg-gray-50 cursor-zoom-in group w-full relative",onMouseMove:e=>{if(!me.current)return;const s=me.current.getBoundingClientRect(),t=(e.clientX-s.left)/s.width*100,a=(e.clientY-s.top)/s.height*100;de({show:!0,x:t,y:a})},onMouseLeave:()=>de({show:!1,x:0,y:0}),children:[t.jsx("img",{src:s,alt:m.title,className:"w-full h-full object-contain transition-opacity duration-300 max-w-full",loading:0===K?"eager":"lazy",decoding:"async",...0===K?{fetchpriority:"high"}:{},onClick:()=>{U(K),z(!0)},onError:e=>{e.currentTarget.style.display="none"},draggable:!1}),ce.show&&t.jsx("div",{className:"absolute pointer-events-none z-20 rounded-full border-2 border-gray-300 shadow-2xl",style:{width:"200px",height:"200px",left:`calc(${ce.x}% - 100px)`,top:`calc(${ce.y}% - 100px)`,background:`url(${s})`,backgroundSize:"300%",backgroundPosition:`${ce.x}% ${ce.y}%`,backgroundRepeat:"no-repeat",transform:"scale(1.2)",transition:"transform 0.1s ease-out",boxShadow:"0 0 20px rgba(0,0,0,0.3)"}})]}):null})(),(()=>{const e=m.listImage?[m.listImage,...m.pdpImages||[]]:m.pdpImages||[],s=[...new Map(e.map((e,s)=>[e,s])).keys()];return s.length>1&&t.jsx("div",{className:"w-full",children:t.jsxs("div",{className:"flex gap-2 sm:gap-3 overflow-x-auto pb-2",style:{scrollbarWidth:"thin",scrollbarColor:"#cbd5e1 transparent",msOverflowStyle:"none"},children:[t.jsx("style",{children:"\n                        .thumb-scroll::-webkit-scrollbar {\n                          height: 4px;\n                        }\n                        .thumb-scroll::-webkit-scrollbar-track {\n                          background: transparent;\n                        }\n                        .thumb-scroll::-webkit-scrollbar-thumb {\n                          background: #cbd5e1;\n                          border-radius: 2px;\n                        }\n                        .thumb-scroll::-webkit-scrollbar-thumb:hover {\n                          background: #94a3b8;\n                        }\n                      "}),t.jsx("div",{className:"flex gap-2 sm:gap-3 thumb-scroll",children:s.map((e,a)=>t.jsx("button",{onClick:()=>{q(a),U(a)},className:"relative flex-shrink-0 aspect-square overflow-hidden rounded-lg border-2 transition-all duration-200 cursor-pointer "+(a===K?"border-gray-900 ring-2 ring-gray-300 opacity-100 scale-105":"border-gray-200 hover:border-gray-400 opacity-70 hover:opacity-100"),style:{width:"108px",height:"108px",marginBottom:"10px"},role:"group","aria-label":`${a+1} / ${s.length}`,children:/\.(mp4|webm|ogg)(\?|$)/i.test(e)?t.jsx("video",{src:e,className:"h-full w-full object-cover",muted:!0,onError:e=>{e.currentTarget.style.display="none"}}):t.jsx("img",{src:e,alt:`${m.title} ${a+1}`,className:"h-full w-full object-cover image-slider",loading:"lazy",decoding:"async",onError:e=>{e.currentTarget.style.display="none"}})},`${e}-${a}`))})]})})})()]}),t.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:(null==u?void 0:u["Product Title"])||(null==u?void 0:u["Product Name"])||m.title}),t.jsx("p",{className:"text-base sm:text-lg text-gray-600 mb-2",children:(null==u?void 0:u["Subtitle / Tagline"])||"Premium natural skincare for radiant skin"}),(null==u?void 0:u["Net Quantity (Content)"])&&t.jsxs("div",{className:"mb-4 text-sm text-gray-700",children:[t.jsx("span",{className:"font-medium",children:"Net Quantity:"})," ",u["Net Quantity (Content)"]]}),(null==u?void 0:u["Bullet Highlights (Short Desc.)"])&&t.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-md border border-blue-200",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-2 text-sm",children:"Key Highlights:"}),t.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-700",children:u["Bullet Highlights (Short Desc.)"].split("â€¢").filter(e=>e.trim()).map((e,s)=>t.jsx("li",{children:e.trim()},`bullet-${s}`))})]}),t.jsxs("div",{className:"flex items-center mb-4",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"text-2xl font-bold text-gray-900 mr-2",children:Fe>0?Fe.toFixed(2):"4.7"}),t.jsx("div",{className:"flex items-center",children:[...Array(5)].map((e,s)=>{const a=Fe||0,l=s<Math.round(a);return t.jsx("svg",{className:"w-5 h-5 "+(l?"text-yellow-400":"text-gray-300"),fill:l?"currentColor":"none",stroke:l?"none":"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},`main-rating-${s}`)})})]}),t.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Rating"}),t.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:[ze||0," review",1!==(ze||0)?"s":""]})]})]}),t.jsxs("div",{className:"space-y-2",children:[(null==u?void 0:u.discount)&&t.jsxs("div",{className:"inline-block px-3 py-1 bg-red-100 text-red-800 text-sm font-semibold rounded-md mb-2",children:[u.discount,"% OFF"]}),t.jsx("div",{className:"text-sm text-gray-600",children:"Discounted price"}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-2xl font-bold text-gray-900",children:(()=>{var e,s;const t=null==(e=null==m?void 0:m.details)?void 0:e.mrp,a=null==(s=null==m?void 0:m.details)?void 0:s.websitePrice,l=(null==u?void 0:u["MRP (â‚¹)"])||(null==u?void 0:u.MRP),r=(null==u?void 0:u["website price"])||(null==u?void 0:u["Website Price"]),i=t||l||m.price||"â‚¹599",n=a||r||"";return n&&n!==i?n:i})()}),(()=>{var e,s;const a=null==(e=null==m?void 0:m.details)?void 0:e.mrp,l=null==(s=null==m?void 0:m.details)?void 0:s.websitePrice,r=(null==u?void 0:u["MRP (â‚¹)"])||(null==u?void 0:u.MRP),i=(null==u?void 0:u["website price"])||(null==u?void 0:u["Website Price"]),n=a||r||m.price||"â‚¹599",o=l||i||"";return o&&o!==n?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"text-sm text-gray-600",children:"Regular price"}),t.jsxs("span",{className:"text-lg font-medium line-through opacity-60 text-gray-500",children:["â‚¹",n]}),t.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-sm font-medium rounded",children:["Save ",Math.round((parseFloat(n.toString().replace(/[â‚¹,]/g,""))-parseFloat(o.toString().replace(/[â‚¹,]/g,"")))/parseFloat(n.toString().replace(/[â‚¹,]/g,""))*100),"%"]})]}):null})()]}),t.jsx("div",{className:"text-sm text-gray-600",children:"Inclusive of GST"}),(null==u?void 0:u["Net Quantity (Content)"])&&t.jsxs("div",{className:"text-sm text-gray-600",children:["Net Vol: ",u["Net Quantity (Content)"]]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Check Delivery Availability"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"text",placeholder:"Enter Pincode",value:xe||"",onChange:e=>{const s=e.target.value.replace(/\D/g,"").slice(0,6);ue(s),be(null),ye(null)},onKeyPress:e=>{"Enter"===e.key&&6===xe.length&&ke()},className:"px-4 py-3 sm:px-3 sm:py-2 border border-gray-300 rounded-md text-base sm:text-sm flex-1 min-h-[44px] focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",maxLength:6,inputMode:"numeric"}),t.jsx("button",{onClick:ke,disabled:6!==xe.length||he,className:"px-5 py-3 sm:px-4 sm:py-2 bg-gray-900 text-white text-base sm:text-sm font-medium rounded-md hover:bg-gray-800 active:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed min-h-[44px] transition-colors touch-manipulation",children:he?"CHECKING...":"CHECK"})]}),fe&&t.jsx("div",{className:"text-sm text-red-600 mt-2",children:fe}),pe&&t.jsx("div",{className:"mt-3 p-3 bg-green-50 border border-green-200 rounded-md",children:(null==(o=pe.data)?void 0:o.available_courier_companies)&&pe.data.available_courier_companies.length>0?t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"text-sm font-semibold text-green-800",children:["âœ“ Delivery Available to ",xe]}),(()=>{const e=pe.data.available_courier_companies.map(e=>e.estimated_delivery_days).filter(e=>e&&e>0).sort((e,s)=>e-s);if(0===e.length)return t.jsx("div",{className:"text-sm text-green-700",children:"Delivery available"});const s=e[0],a=e[e.length-1],l=Se(s),r=a>s?Se(a):null;return t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"text-sm text-green-700 font-medium",children:["Expected delivery: ",l,r&&r!==l?` - ${r}`:""]}),t.jsxs("div",{className:"text-xs text-green-600",children:["(",s===a?`${s} ${1===s?"day":"days"}`:`${s}-${a} days`," from dispatch)"]}),t.jsx("div",{className:"text-xs text-green-600 mt-1",children:"Shipping from: Lucknow, Uttar Pradesh (226002)"})]})})()]}):t.jsx("div",{className:"text-sm text-orange-800",children:"âš ï¸ Delivery may not be available to this pincode. Please contact support."})})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Quantity:"}),t.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md",children:[t.jsx("button",{onClick:()=>$(Math.max(1,y-1)),className:"px-4 py-3 sm:px-3 sm:py-2 text-gray-600 hover:text-gray-900 active:bg-gray-100 min-h-[44px] min-w-[44px] flex items-center justify-center transition-colors","aria-label":"Decrease quantity",children:"-"}),t.jsx("span",{className:"px-4 py-2 text-gray-900 min-w-[3rem] text-center flex items-center justify-center min-h-[44px]",children:y}),t.jsx("button",{onClick:()=>$(y+1),className:"px-4 py-3 sm:px-3 sm:py-2 text-gray-600 hover:text-gray-900 active:bg-gray-100 min-h-[44px] min-w-[44px] flex items-center justify-center transition-colors","aria-label":"Increase quantity",children:"+"})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[t.jsx("button",{onClick:()=>{if(m&&Ne)try{Ne(m,y),i.addToCart({...n(m),quantity:y});const e=document.querySelector("[data-add-to-cart]");if(e){const s=e.textContent;e.textContent="Added to Cart!",e.classList.add("bg-green-600","hover:bg-green-700"),e.classList.remove("bg-gray-900","hover:bg-gray-800"),setTimeout(()=>{e.textContent=s,e.classList.remove("bg-green-600","hover:bg-green-700"),e.classList.add("bg-gray-900","hover:bg-gray-800")},2e3)}}catch(e){}},"data-add-to-cart":!0,className:"flex-1 rounded-md bg-gray-900 px-4 sm:px-6 py-3.5 sm:py-3 font-semibold text-white hover:bg-gray-800 active:bg-gray-700 transition-colors min-h-[48px] touch-manipulation text-base sm:text-sm",children:"ADD TO CART"}),t.jsx("button",{onClick:()=>{if(m&&Ne)try{Ne(m,y),window.location.hash="#/user/checkout"}catch(e){}},className:"flex-1 rounded-md bg-blue-600 px-4 sm:px-6 py-3.5 sm:py-3 font-semibold text-white hover:bg-blue-700 active:bg-blue-800 transition-colors min-h-[48px] touch-manipulation text-base sm:text-sm",children:"BUY NOW"})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx(I,{productSlug:m.slug,productTitle:m.title,productImage:m.listImage})}),t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Earn upto 249 points on this purchase"]}),pe&&(null==(c=pe.data)?void 0:c.available_courier_companies)&&pe.data.available_courier_companies.length>0?t.jsxs("div",{className:"text-sm text-green-700 bg-green-50 px-3 py-2 rounded-md border border-green-200",children:[t.jsx("div",{className:"font-semibold mb-1",children:"âœ“ Delivery Available"}),(()=>{const e=pe.data.available_courier_companies.map(e=>e.estimated_delivery_days).filter(e=>e&&e>0).sort((e,s)=>e-s);if(0===e.length)return t.jsxs("div",{children:["Delivery available to ",xe]});const s=e[0],a=e[e.length-1],l=Se(s),r=a>s?Se(a):null;return t.jsxs("div",{children:[t.jsxs("div",{className:"font-medium",children:["Expected delivery: ",l,r&&r!==l?` - ${r}`:""]}),t.jsxs("div",{className:"text-xs mt-1 text-green-600",children:["(",s===a?`${s} ${1===s?"day":"days"}`:`${s}-${a} days`," from dispatch)"]})]})})()]}):!xe||6!==xe.length||he||fe?t.jsxs("div",{className:"text-sm text-yellow-600 bg-yellow-50 px-3 py-2 rounded-md border border-yellow-200",children:[t.jsx("div",{className:"font-semibold mb-1",children:"ðŸ“¦ Shipping from Lucknow (226002)"}),t.jsx("div",{children:"Your order will be shipped out in 2-4 business days. Enter pincode above for exact delivery date."})]}):t.jsxs("div",{className:"text-sm text-blue-600 bg-blue-50 px-3 py-2 rounded-md border border-blue-200",children:[t.jsx("div",{className:"font-semibold mb-1",children:"ðŸ“¦ Shipping Information"}),t.jsx("div",{children:"Enter your pincode above to check delivery date and availability"})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"REASONS TO LOVE:"}),t.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[t.jsxs("li",{className:"flex items-start",children:[t.jsx("span",{className:"text-gray-400 mr-2",children:"â€¢"}),t.jsx("span",{children:"Natural Ingredients"})]}),t.jsxs("li",{className:"flex items-start",children:[t.jsx("span",{className:"text-gray-400 mr-2",children:"â€¢"}),t.jsx("span",{children:"Cruelty Free"})]}),t.jsxs("li",{className:"flex items-start",children:[t.jsx("span",{className:"text-gray-400 mr-2",children:"â€¢"}),t.jsx("span",{children:"Paraben Free"})]}),t.jsxs("li",{className:"flex items-start",children:[t.jsx("span",{className:"text-gray-400 mr-2",children:"â€¢"}),t.jsx("span",{children:"Suitable for All Skin Types"})]}),t.jsxs("li",{className:"flex items-start",children:[t.jsx("span",{className:"text-gray-400 mr-2",children:"â€¢"}),t.jsx("span",{children:"Dermatologically Tested"})]})]})]}),(null==u?void 0:u["Special Attributes (Badges)"])&&t.jsx("div",{className:"flex flex-wrap gap-3 mb-6",children:u["Special Attributes (Badges)"].split("|").filter(e=>e.trim()).map((e,s)=>t.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-gray-100 rounded-full",children:[t.jsx("div",{className:"w-6 h-6 rounded-full bg-green-100 flex items-center justify-center",children:t.jsx("svg",{className:"w-3 h-3 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),t.jsx("span",{className:"text-xs font-medium text-gray-700",children:e.trim()})]},`badge-${s}-${e.trim().substring(0,10)}`))}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"border-b border-gray-200",children:[t.jsxs("button",{onClick:()=>We("description"),className:"flex items-center justify-between w-full py-3 text-left font-semibold text-gray-900",children:[t.jsx("span",{children:"DESCRIPTION"}),t.jsx("svg",{className:"h-5 w-5 transition-transform "+(G.description?"rotate-45":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})]}),G.description&&t.jsxs("div",{className:"pb-4 text-sm text-gray-600",children:[(null==u?void 0:u["Bullet Highlights (Short Desc.)"])&&t.jsxs("div",{className:"mb-4",children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Key Highlights"}),t.jsx("ul",{className:"list-disc list-inside space-y-1",children:u["Bullet Highlights (Short Desc.)"].split("â€¢").filter(e=>e.trim()).map((e,s)=>t.jsx("li",{children:e.trim()},`highlight-${s}`))})]}),t.jsx("p",{className:"mb-4",children:(null==u?void 0:u["Product Description (Long)"])||(null==u?void 0:u["Long Description"])||m.description||"Premium natural skincare product designed for optimal skin health and radiance."}),(null==u?void 0:u["Subtitle / Tagline"])&&t.jsxs("div",{className:"mb-4",children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Key Features"}),t.jsx("p",{children:u["Subtitle / Tagline"]})]})]})]}),t.jsxs("div",{className:"border-b border-gray-200",children:[t.jsxs("button",{onClick:()=>We("suitablefor"),className:"flex items-center justify-between w-full py-3 text-left font-semibold text-gray-900",children:[t.jsx("span",{children:"SUITABLE FOR"}),t.jsx("svg",{className:"h-5 w-5 transition-transform "+(G.suitablefor?"rotate-45":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})]}),G.suitablefor&&t.jsxs("div",{className:"pb-4 text-sm text-gray-600",children:[t.jsx("p",{className:"mb-4",children:(null==u?void 0:u["Skin/Hair Type"])||"All Skin Types"}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),t.jsx("span",{children:"All Skin Types"})]},"skin-type-all"),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),t.jsx("span",{children:"Sensitive Skin"})]},"skin-type-sensitive"),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),t.jsx("span",{children:"Dry Skin"})]},"skin-type-dry"),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),t.jsx("span",{children:"Oily Skin"})]},"skin-type-oily")]})]})]}),t.jsxs("div",{className:"border-b border-gray-200",children:[t.jsxs("button",{onClick:()=>We("howtouse"),className:"flex items-center justify-between w-full py-3 text-left font-semibold text-gray-900",children:[t.jsx("span",{children:"HOW TO USE"}),t.jsx("svg",{className:"h-5 w-5 transition-transform "+(G.howtouse?"rotate-45":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})]}),G.howtouse&&t.jsx("div",{className:"pb-4 text-sm text-gray-600",children:t.jsx("ol",{className:"list-decimal list-inside space-y-1",children:(null==u?void 0:u["How to Use (Steps)"])?u["How to Use (Steps)"].split(",").filter(e=>e.trim()).map((e,s)=>t.jsx("li",{children:e.trim()},`howtouse-csv-${s}-${e.trim().substring(0,10)}`)):["Cleanse your face with a gentle cleanser","Apply a small amount to face and neck","Gently massage in circular motions","Use twice daily for best results"].map((e,s)=>t.jsx("li",{children:e},`howtouse-default-${s}-${e.substring(0,10)}`))})})]}),t.jsxs("div",{className:"border-b border-gray-200",children:[t.jsxs("button",{onClick:()=>We("specifications"),className:"flex items-center justify-between w-full py-3 text-left font-semibold text-gray-900",children:[t.jsx("span",{children:"PRODUCT SPECIFICATIONS"}),t.jsx("svg",{className:"h-5 w-5 transition-transform "+(G.specifications?"rotate-45":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})]}),G.specifications&&t.jsx("div",{className:"pb-4 text-sm text-gray-600",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[(null==u?void 0:u.SKU)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"SKU:"}),t.jsx("span",{className:"font-medium",children:u.SKU})]}),(null==u?void 0:u["HSN Code"])&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"HSN Code:"}),t.jsx("span",{className:"font-medium",children:u["HSN Code"]})]}),(null==u?void 0:u["Brand Name"])&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"Brand:"}),t.jsx("span",{className:"font-medium",children:u["Brand Name"]})]}),(null==u?void 0:u["Net Quantity (Content)"])&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"Net Quantity:"}),t.jsx("span",{className:"font-medium",children:u["Net Quantity (Content)"]})]}),(null==u?void 0:u["Unit Count (Pack of)"])&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"Unit Count:"}),t.jsx("span",{className:"font-medium",children:u["Unit Count (Pack of)"]})]}),(null==u?void 0:u["Product Category"])&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"Category:"}),t.jsx("span",{className:"font-medium",children:u["Product Category"]})]}),(null==u?void 0:u["Product Sub-Category"])&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"Sub-Category:"}),t.jsx("span",{className:"font-medium",children:u["Product Sub-Category"]})]}),(null==u?void 0:u["Product Type"])&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"Product Type:"}),t.jsx("span",{className:"font-medium",children:u["Product Type"]})]})]}),t.jsxs("div",{className:"space-y-2",children:[(null==u?void 0:u["Net Weight (Product Only)"])&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"Net Weight:"}),t.jsx("span",{className:"font-medium",children:u["Net Weight (Product Only)"]})]}),(null==u?void 0:u["Dead Weight (Packaging Only)"])&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"Packaging Weight:"}),t.jsx("span",{className:"font-medium",children:u["Dead Weight (Packaging Only)"]})]}),(null==u?void 0:u["GST %"])&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"GST:"}),t.jsxs("span",{className:"font-medium",children:[u["GST %"],"%"]})]}),(null==u?void 0:u["Country of Origin"])&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"Country of Origin:"}),t.jsx("span",{className:"font-medium",children:u["Country of Origin"]})]}),(null==u?void 0:u["Manufacturer / Packer / Importer"])&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"Manufacturer:"}),t.jsx("span",{className:"font-medium",children:u["Manufacturer / Packer / Importer"]})]}),(null==u?void 0:u.discount)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"Discount:"}),t.jsxs("span",{className:"font-medium text-green-600",children:[u.discount,"% OFF"]})]}),(null==u?void 0:u["Platform Category Mapping"])&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"Platform Category:"}),t.jsx("span",{className:"font-medium",children:u["Platform Category Mapping"]})]})]})]})})]}),t.jsxs("div",{className:"border-b border-gray-200",children:[t.jsxs("button",{onClick:()=>We("packaging"),className:"flex items-center justify-between w-full py-3 text-left font-semibold text-gray-900",children:[t.jsx("span",{children:"PACKAGING DETAILS"}),t.jsx("svg",{className:"h-5 w-5 transition-transform "+(G.packaging?"rotate-45":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})]}),G.packaging&&t.jsx("div",{className:"pb-4 text-sm text-gray-600",children:t.jsxs("div",{className:"space-y-2",children:[(null==u?void 0:u["Package Content Details"])&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"Package Content:"}),t.jsx("span",{className:"font-medium",children:u["Package Content Details"]})]}),(null==u?void 0:u["Inner Packaging Type"])&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"Inner Packaging:"}),t.jsx("span",{className:"font-medium",children:u["Inner Packaging Type"]})]}),(null==u?void 0:u["Outer Packaging Type"])&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"Outer Packaging:"}),t.jsx("span",{className:"font-medium",children:u["Outer Packaging Type"]})]}),(null==u?void 0:u["Hazardous / Fragile (Y/N)"])&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"Hazardous/Fragile:"}),t.jsx("span",{className:"font-medium",children:u["Hazardous / Fragile (Y/N)"]})]})]})})]}),(null==u?void 0:u["Video Links"])&&t.jsxs("div",{className:"border-b border-gray-200",children:[t.jsxs("button",{onClick:()=>We("videos"),className:"flex items-center justify-between w-full py-3 text-left font-semibold text-gray-900",children:[t.jsx("span",{children:"VIDEO LINKS"}),t.jsx("svg",{className:"h-5 w-5 transition-transform "+(G.videos?"rotate-45":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})]}),G.videos&&t.jsx("div",{className:"pb-4 text-sm text-gray-600",children:t.jsx("div",{className:"space-y-2",children:u["Video Links"].split(",").filter(e=>e.trim()).map((e,s)=>t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("svg",{className:"w-4 h-4 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"})}),t.jsxs("a",{href:e.trim(),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:["Watch Video ",s+1]})]},`video-${s}-${e.trim().substring(0,20)}`))})})]})]}),t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"KEY SPECIFICATIONS"}),t.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(null==u?void 0:u["Net Weight (Product Only)"])&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Net Weight:"}),t.jsx("span",{className:"font-medium",children:u["Net Weight (Product Only)"]})]}),(null==u?void 0:u["Net Quantity (Content)"])&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Quantity:"}),t.jsx("span",{className:"font-medium",children:u["Net Quantity (Content)"]})]}),(null==u?void 0:u.SKU)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"SKU:"}),t.jsx("span",{className:"font-medium",children:u.SKU})]}),(null==u?void 0:u["Brand Name"])&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Brand:"}),t.jsx("span",{className:"font-medium",children:u["Brand Name"]})]}),(null==u?void 0:u["Country of Origin"])&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Origin:"}),t.jsx("span",{className:"font-medium",children:u["Country of Origin"]})]}),(null==u?void 0:u["GST %"])&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"GST:"}),t.jsxs("span",{className:"font-medium",children:[u["GST %"],"%"]})]})]})]}),t.jsx("div",{className:"flex items-center justify-center mt-6",children:t.jsxs("div",{className:"flex items-center space-x-2 px-4 py-2 bg-green-100 rounded-full",children:[t.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:t.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),t.jsx("span",{className:"text-sm font-semibold text-green-800",children:"96.52% Plant Powered Science"})]})}),t.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[t.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Country Of Origin: ",(null==u?void 0:u["Country of Origin"])||"India"]}),t.jsxs("div",{className:"bg-gray-100 px-4 py-3 rounded-md",children:[t.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-1",children:"WELCOME OFFER"}),t.jsx("div",{className:"text-sm text-gray-600",children:"Use Code HELLO10 and enjoy flat 10% off on your first purchase."})]})]})]}),m.bannerImages&&m.bannerImages.length>0&&t.jsx("section",{className:"w-full overflow-hidden",children:(()=>{const e=m.bannerImages.filter(e=>e&&"string"==typeof e&&e.trim().length>0),s=[...new Map(e.map((e,s)=>[e,s])).keys()];return s.map((e,a)=>{const l=/\.(mp4|webm|ogg)(\?|$)/i.test(e);return t.jsx("div",{className:"w-full overflow-hidden",style:{marginBottom:a<s.length-1?"2px":"0"},children:l?t.jsx("video",{src:e,className:"w-full h-auto object-cover block",controls:!0,autoPlay:!0,muted:!0,loop:!0,onError:e=>{e.currentTarget.style.display="none"}}):t.jsx("img",{src:e,alt:`${m.title} Banner ${a+1}`,className:"w-full h-auto object-cover block",loading:"lazy",decoding:"async",onError:e=>{e.currentTarget.style.display="none"}})},`${e}-${a}`)})})()}),(null==u?void 0:u["Key Ingredients"])&&(()=>{const e=l(),s=s=>{if(!s||"string"!=typeof s)return"";if(/^https?:\/\//i.test(s))return s;return`${e.replace(/\/$/,"")}${s.startsWith("/")?s:`/${s}`}`},a=u["Key Ingredients"].split(",").map(e=>e.trim()).filter(e=>e),r=u["Ingredient Benefits"]?u["Ingredient Benefits"].split(",").map(e=>e.trim()).filter(e=>e):[],i={};return a.forEach((e,s)=>{r[s]&&(i[e]=r[s])}),t.jsx("section",{className:"py-16 bg-gray-50 w-full overflow-hidden",children:t.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 w-full",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 text-center mb-8 sm:mb-12 px-4",children:"INGREDIENTS"}),t.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4 sm:gap-6 w-full",children:a.map((e,a)=>{const l=(e=>{let t=e.trim().toLowerCase();t=t.replace(/\([^)]*\)/g,"").trim();const a={"blue tea":"/IMAGES/blue pea.webp",aprajita:"/IMAGES/blue pea.webp","blue pea":"/IMAGES/blue pea.webp",charcoal:"/IMAGES/charcoal.webp","activated charcoal":"/IMAGES/charcoal.webp",yuja:"/IMAGES/yuja.webp",citron:"/IMAGES/yuja.webp",papaya:"/IMAGES/papaya.webp","shea butter":"/IMAGES/shea butter.webp","coconut oil":"/IMAGES/coconut-oil.webp",coconut:"/IMAGES/coconut-oil.webp",mulberry:"/IMAGES/mulberry.webp",grapeseed:"/IMAGES/grapseed.webp","grape seed":"/IMAGES/grapseed.webp","aha & bha":"/IMAGES/AHA & BHA.webp",aha:"/IMAGES/AHA & BHA.webp",bha:"/IMAGES/AHA & BHA.webp","alpha hydroxy acid":"/IMAGES/AHA & BHA.webp","beta hydroxy acid":"/IMAGES/AHA & BHA.webp",amla:"/IMAGES/Amla.webp","indian gooseberry":"/IMAGES/Amla.webp","argan oil":"/IMAGES/Argan Oils.webp","argan oils":"/IMAGES/Argan Oils.webp",biotin:"/IMAGES/Biotin.webp",blueberry:"/IMAGES/Blueberry.webp",brahmi:"/IMAGES/Brahmi.webp",flaxseed:"/IMAGES/Flaxseed.webp","flax seed":"/IMAGES/Flaxseed.webp","green tea":"/IMAGES/Green Tea.webp","juniper berry":"/IMAGES/Juniper Berry.webp","kakadu plum":"/IMAGES/Kakadu Plum.webp","kale leaf":"/IMAGES/Kale Leaf.webp",kale:"/IMAGES/Kale Leaf.webp","kaolin clay":"/IMAGES/Kaolin Clay.webp",kaolin:"/IMAGES/Kaolin Clay.webp",mustard:"/IMAGES/Mustard.webp","olive squalane":"/IMAGES/Olive Squalane.webp",squalane:"/IMAGES/Olive Squalane.webp",palmetto:"/IMAGES/Palmetto.webp","saw palmetto":"/IMAGES/Palmetto.webp",quinoa:"/IMAGES/Quinoa.webp","rice powder":"/IMAGES/Rice Powder.webp",saffron:"/IMAGES/Saffron.webp",sesame:"/IMAGES/Sesame.webp","sesame seed":"/IMAGES/Sesame.webp","tapioca starch":"/IMAGES/Tapioca Starch.webp",tapioca:"/IMAGES/Tapioca Starch.webp","tea tree":"/IMAGES/Tea Tree.webp","tea tree oil":"/IMAGES/Tea Tree.webp","vitamin c & b5":"/IMAGES/Vitamin C & B5.webp","vitamin c":"/IMAGES/Vitamin C & B5.webp","vitamin b5":"/IMAGES/Vitamin C & B5.webp","pantothenic acid":"/IMAGES/Vitamin C & B5.webp","white tea":"/IMAGES/white tea.webp","yellow dragon":"/IMAGES/Yellow Dragon.webp"};if(a[t])return s(a[t]);for(const[r,i]of Object.entries(a))if(t.includes(r)||r.includes(t))return s(i);const l=e.trim().toLowerCase();for(const[r,i]of Object.entries(a))if(l.includes(r))return s(i);return null})(e),r=i[e]||"";return t.jsxs("div",{className:"text-center w-full",children:[t.jsx("div",{className:"w-20 sm:w-24 md:w-28 mx-auto mb-4 bg-white rounded-full shadow-md overflow-hidden relative",style:{aspectRatio:"1 / 1",borderRadius:"50%",flexShrink:0},children:l?t.jsx("img",{src:l,alt:e,className:"absolute inset-0 object-cover rounded-full",style:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center",borderRadius:"50%"},loading:"lazy",decoding:"async",onError:e=>{const s=e.target;s.style.display="none";const t=s.parentElement;t&&(t.innerHTML='\n                                      <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center">\n                                        <svg class="w-6 h-6 text-green-600" fill="currentColor" viewBox="0 0 20 20">\n                                          <path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd" />\n                                        </svg>\n                                      </div>\n                                    ')}}):t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:t.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})})})}),t.jsx("h3",{className:"font-semibold text-gray-900 text-xs sm:text-sm md:text-base px-2 break-words mb-1",children:e.trim()}),r&&t.jsx("p",{className:"text-xs text-gray-600 px-2 break-words",children:r})]},`ingredient-${a}-${e.substring(0,10)}`)})})]})})})(),t.jsx("section",{className:"py-16 bg-white",children:t.jsx("div",{className:"mx-auto max-w-7xl px-4",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"PLANT-BASED SKINCARE THAT WORKS FOR EVERY SKIN TYPE"}),t.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Our carefully curated ingredients work together to provide effective, natural skincare solutions that deliver real results for all skin types."})]})})}),t.jsxs("section",{className:"border-t border-gray-200 pt-12 mb-16",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 text-center mb-8",children:"YOU MAY ALSO LIKE"}),t.jsxs("div",{className:"relative",children:[t.jsx("button",{onClick:()=>Te(e=>Math.max(0,e-1)),className:"absolute left-2 top-1/2 -translate-y-1/2 z-30 bg-white rounded-full p-3 shadow-lg hover:shadow-xl transition-all duration-300 "+(Oe?"opacity-100 hover:scale-110 cursor-pointer":"opacity-0 pointer-events-none"),style:{backgroundColor:"#fff"},"aria-label":"Previous",disabled:!Oe,children:t.jsx(f,{className:"w-6 h-6",style:{color:"#1B4965"}})}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:_e.map((e,s)=>t.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:t.jsxs("a",{href:`#/user/product/${e.slug}`,children:[t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:e.image,alt:e.title,className:"w-full h-48 object-cover"}),t.jsx("div",{className:"absolute top-2 left-2",children:t.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-xs font-medium rounded",children:"NEW LAUNCH"})}),t.jsx("button",{className:"absolute top-2 right-2 p-1 bg-white rounded-full shadow-md",children:t.jsx("svg",{className:"h-4 w-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})]}),t.jsxs("div",{className:"p-4",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2",children:e.title}),(()=>{const a=e.slug||"",l=Le[a],r=(null==l?void 0:l.average_rating)>0?l.average_rating:N(a),i=(null==l?void 0:l.review_count)>0?l.review_count:k(a),n=(null==l?void 0:l.verified_count)>0||S(a);return r>0?t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((a,l)=>{const i=l<Math.round(r);return t.jsx("svg",{className:"w-4 h-4 "+(i?"text-yellow-400":"text-gray-300"),fill:i?"currentColor":"none",stroke:i?"none":"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},`related-${e.id||e.slug||s}-rating-${l}`)})}),t.jsxs("span",{className:"text-sm text-gray-600 ml-2",children:[r.toFixed(1)," (",i,")"]}),n&&t.jsx(j,{size:"sm",className:"ml-1.5"})]}):null})(),t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-sm line-through text-gray-500",children:e.originalPrice}),t.jsx("span",{className:"font-bold text-gray-900",children:e.price})]}),t.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs font-medium rounded",children:[e.discount,"% OFF"]})]}),t.jsx("button",{className:"w-full py-2 bg-gray-900 text-white font-medium rounded-md hover:bg-gray-800",children:"ADD TO CART"})]})]})},`related-product-${e.id||e.slug||"no-id"}-${s}`))}),t.jsx("button",{onClick:()=>Te(e=>Math.min(Be-1,e+1)),className:"absolute right-2 top-1/2 -translate-y-1/2 z-30 bg-white rounded-full p-3 shadow-lg hover:shadow-xl transition-all duration-300 "+(De?"opacity-100 hover:scale-110 cursor-pointer":"opacity-0 pointer-events-none"),style:{backgroundColor:"#fff"},"aria-label":"Next",disabled:!De,children:t.jsx(b,{className:"w-6 h-6",style:{color:"#1B4965"}})})]})]}),m.id&&t.jsxs(t.Fragment,{children:[t.jsx(d.Suspense,{fallback:t.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:"Loading related products..."}),children:t.jsx(M,{productId:m.id,type:"related",title:"Complete the Routine"})}),t.jsx(d.Suspense,{fallback:t.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:"Loading recommendations..."}),children:t.jsx(M,{productId:m.id,type:"recommended",title:"You May Also Like"})})]}),t.jsx(d.Suspense,{fallback:t.jsx("div",{className:"h-64 flex items-center justify-center",children:"Loading recently viewed..."}),children:t.jsx(A,{limit:8})}),t.jsxs("section",{className:"border-t border-gray-200 pt-12 mb-16",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 text-center mb-8",children:"Customer Reviews"}),t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((e,s)=>{const a=Fe||0,l=s<Math.round(a),r=s<a&&s+1>a;return t.jsx("svg",{className:"h-5 w-5 "+(l?"fill-current":r?"fill-current opacity-50":"text-gray-300"),viewBox:"0 0 20 20",children:t.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},`reviews-overall-${s}`)})}),t.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:[Fe>0?Fe.toFixed(2):"0.00"," out of 5"]}),t.jsxs("span",{className:"text-sm text-gray-600",children:["Based on ",ze," review",1!==ze?"s":""]})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{onClick:()=>{if(!je)return alert("Please login to write a review"),void(window.location.hash="#/user/login");J(!0)},className:"px-4 py-2 bg-gray-900 text-white text-sm font-medium rounded-md hover:bg-gray-800 transition-colors",children:"Write a review"}),t.jsx("button",{onClick:()=>Z(!0),className:"px-4 py-2 border border-gray-300 text-gray-900 text-sm font-medium rounded-md hover:bg-gray-50 transition-colors",children:"Ask a question"})]})]}),t.jsx("div",{className:"space-y-4",children:te?t.jsx("p",{className:"text-gray-600 text-center py-8",children:"Loading reviews..."}):0===He.length?t.jsx("p",{className:"text-gray-600 text-center py-8",children:"No reviews yet. Be the first to review this product!"}):He.slice(0,le).map((e,s)=>t.jsxs("div",{className:"p-4 border rounded-lg "+(e.isFeatured?"border-yellow-300 bg-yellow-50":"border-gray-200"),children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center",children:t.jsx("span",{className:"text-sm font-semibold text-gray-600",children:e.name.charAt(0).toUpperCase()})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:e.name}),e.isVerified&&t.jsx(j,{size:"sm",className:"ml-1"}),e.isFeatured&&t.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-700 px-2 py-0.5 rounded",children:"Featured"})]}),t.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((a,l)=>t.jsx("svg",{className:"h-4 w-4 "+(l<(e.rating||0)?"fill-current":"text-gray-300"),viewBox:"0 0 20 20",children:t.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},`review-${e.id||s}-rating-${l}`))})]})]}),t.jsx("span",{className:"text-sm text-gray-600",children:e.date})]}),e.title&&t.jsx("h5",{className:"font-semibold text-gray-900 mb-1",children:e.title}),t.jsx("p",{className:"text-gray-700",children:e.comment})]},`review-${e.id||"no-id"}-${s}`))}),He.length>le&&t.jsx("div",{className:"text-center mt-8",children:t.jsx("button",{onClick:()=>re(le+5),className:"px-6 py-2 bg-gray-900 text-white font-medium rounded-md hover:bg-gray-800 transition-colors",children:"Load More"})})]}),t.jsxs("section",{className:"border-t border-gray-200 pt-12 mb-16",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 text-center mb-8",children:"NEED HELP? FREQUENTLY ASKED QUESTIONS"}),t.jsx("div",{className:"max-w-3xl mx-auto space-y-2",children:[].map((e,s)=>t.jsxs("div",{className:"border-b border-gray-200",children:[t.jsxs("button",{onClick:()=>We(`faq-${s}`),className:"flex items-center justify-between w-full py-4 text-left font-semibold text-gray-900",children:[t.jsx("span",{children:e.question}),t.jsx("svg",{className:"h-5 w-5 transition-transform "+(G[`faq-${s}`]?"rotate-45":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})]}),G[`faq-${s}`]&&t.jsx("div",{className:"pb-4 text-sm text-gray-600",children:e.answer})]},`faq-${s}-${e.question.substring(0,10)}`))})]})]})}),m&&t.jsx(C,{product:{id:m.id,title:m.title,price:m.price,slug:m.slug,listImage:m.listImage},quantity:y}),F&&m&&t.jsx(E,{images:(()=>{const e=m.listImage?[m.listImage,...m.pdpImages||[]]:m.pdpImages||[];return[...new Map(e.filter(Boolean).map((e,s)=>[e,s])).keys()]})(),currentIndex:W,onClose:()=>z(!1),onIndexChange:e=>{U(e)}}),Y&&m&&t.jsx(T,{product:m,user:we,onClose:()=>J(!1),onSuccess:()=>{J(!1),(null==m?void 0:m.id)&&Ee(m.id)}}),X&&m&&t.jsx(B,{product:m,user:we,onClose:()=>Z(!1)})]}):t.jsx("main",{className:"py-10 bg-white",children:t.jsx("div",{className:"mx-auto max-w-7xl px-4",children:t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Product not found"})})})}function T({product:e,user:s,onClose:l,onSuccess:r}){const[i,n]=d.useState(0),[c,m]=d.useState(0),[x,u]=d.useState(""),[h,g]=d.useState(""),[p,y]=d.useState(!1),[f,b]=d.useState("");return t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",onClick:l,children:t.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Write a Review"}),t.jsx("button",{onClick:l,className:"text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),t.jsx("div",{className:"mb-4",children:t.jsxs("p",{className:"text-gray-600",children:["Reviewing: ",t.jsx("span",{className:"font-semibold text-gray-900",children:e.title})]})}),t.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),b(""),i)if(x.trim())if(h.trim())if(y(!0),e.id)try{await a.reviews.createProductReview({product_id:e.id,customer_email:(null==s?void 0:s.email)||"",customer_name:(null==s?void 0:s.name)||"",rating:i,title:x.trim()||void 0,review_text:h.trim()||void 0,images:[]});try{const{invalidateReviewStatsCache:e}=await o(async()=>{const{invalidateReviewStatsCache:e}=await import("./VerifiedBadge-DI9oniZv.js").then(e=>e.a);return{invalidateReviewStatsCache:e}},__vite__mapDeps([8,2,1,3,4,5]));e()}catch(l){}alert("Review submitted successfully! Thank you for your feedback."),r()}catch(n){b(n.message||"Failed to submit review. Please try again.")}finally{y(!1)}else b("Product ID is missing");else b("Please enter your review");else b("Please enter a review title");else b("Please select a rating")},className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Rating ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[[1,2,3,4,5].map(e=>t.jsx("button",{type:"button",onClick:()=>n(e),onMouseEnter:()=>m(e),onMouseLeave:()=>m(0),className:"focus:outline-none",children:t.jsx("svg",{className:"w-10 h-10 transition-colors "+(e<=(c||i)?"text-yellow-400 fill-current":"text-gray-300"),fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})},e)),i>0&&t.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[1===i&&"Poor",2===i&&"Fair",3===i&&"Good",4===i&&"Very Good",5===i&&"Excellent"]})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Review Title ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:x,onChange:e=>u(e.target.value),placeholder:"Give your review a title",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900",maxLength:100})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Your Review ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{value:h,onChange:e=>g(e.target.value),placeholder:"Share your experience with this product...",rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 resize-none",maxLength:1e3}),t.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[h.length,"/1000 characters"]})]}),f&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:t.jsx("p",{className:"text-sm text-red-600",children:f})}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:l,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",disabled:p,children:"Cancel"}),t.jsx("button",{type:"submit",className:"px-6 py-2 bg-gray-900 text-white rounded-md hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:p,children:p?"Submitting...":"Submit Review"})]})]})]})})})}function B({product:e,user:s,onClose:a}){const[l,r]=d.useState((null==s?void 0:s.name)||""),[i,n]=d.useState((null==s?void 0:s.email)||""),[o,m]=d.useState((null==s?void 0:s.phone)||""),[x,u]=d.useState(""),[h,g]=d.useState(!1),[p,y]=d.useState("");return t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",onClick:a,children:t.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Ask a Question"}),t.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),t.jsx("div",{className:"mb-4",children:t.jsxs("p",{className:"text-gray-600",children:["Question about: ",t.jsx("span",{className:"font-semibold text-gray-900",children:e.title})]})}),t.jsxs("form",{onSubmit:async s=>{if(s.preventDefault(),y(""),l.trim())if(i.trim())if(x.trim())if(e.id){g(!0);try{await c.createQuestion({product_id:e.id,customer_name:l.trim(),customer_email:i.trim(),customer_phone:o.trim()||void 0,question:x.trim()}),alert("Question submitted successfully! We'll get back to you soon."),a()}catch(t){y(t.message||"Failed to submit question. Please try again.")}finally{g(!1)}}else y("Product ID is missing");else y("Please enter your question");else y("Please enter your email");else y("Please enter your name")},className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Your Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:l,onChange:e=>r(e.target.value),placeholder:"Enter your name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Your Email ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"email",value:i,onChange:e=>n(e.target.value),placeholder:"Enter your email",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Phone (Optional)"}),t.jsx("input",{type:"tel",value:o,onChange:e=>m(e.target.value),placeholder:"Enter your phone number",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Your Question ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{value:x,onChange:e=>u(e.target.value),placeholder:"Ask your question about this product...",rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 resize-none",required:!0,maxLength:500}),t.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[x.length,"/500 characters"]})]}),p&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:t.jsx("p",{className:"text-sm text-red-600",children:p})}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[t.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",disabled:h,children:"Cancel"}),t.jsx("button",{type:"submit",className:"px-6 py-2 bg-gray-900 text-white rounded-md hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:h,children:h?"Submitting...":"Submit Question"})]})]})]})})})}export{$ as default};
