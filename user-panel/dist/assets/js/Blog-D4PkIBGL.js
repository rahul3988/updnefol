import{j as e,g as t}from"./index-Cl7XhzGX.js";import{r as s}from"./react-vendor-D-XgqoRR.js";import{J as a,X as l,ag as r,C as i,I as o,U as n,x as d}from"./ui-vendor-CApkTAVE.js";import"./socket-vendor-CUkmNz_4.js";function c({onClose:o,onSubmitSuccess:n}){const[d,c]=s.useState({title:"",content:"",excerpt:"",author_name:"",author_email:"",images:[]}),[m,u]=s.useState(!1),[x,g]=s.useState("idle"),[h,p]=s.useState(""),b=e=>{const{name:t,value:s}=e.target;c(e=>({...e,[t]:s}))};return"success"===x?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6 text-center",children:[e.jsx(a,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Request Submitted!"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Your blog post request has been submitted successfully. Our team will review it and notify you once it's approved."}),e.jsx("p",{className:"text-sm text-gray-500",children:"You'll receive an email confirmation shortly."})]})}):e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl p-6 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Submit Blog Post Request"}),e.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded-full",disabled:m,children:e.jsx(l,{className:"w-6 h-6"})})]}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),u(!0),g("idle"),p("");try{const e=t(),s=new FormData;s.append("title",d.title),s.append("content",d.content),s.append("excerpt",d.excerpt),s.append("author_name",d.author_name),s.append("author_email",d.author_email),d.images.forEach((e,t)=>{s.append("images",e)});const a=await fetch(`${e}/api/blog/request`,{method:"POST",body:s});if(a.ok)g("success"),setTimeout(()=>{null==n||n(),o()},2e3);else{const e=await a.json();g("error"),p(e.message||"Failed to submit blog request")}}catch(s){g("error"),p("Network error. Please try again.")}finally{u(!1)}},className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Name *"}),e.jsx("input",{type:"text",name:"author_name",value:d.author_name,onChange:b,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your full name",required:!0,disabled:m})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),e.jsx("input",{type:"email",name:"author_email",value:d.author_email,onChange:b,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"your.email@domain.com",required:!0,disabled:m})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Blog Post Title *"}),e.jsx("input",{type:"text",name:"title",value:d.title,onChange:b,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter an engaging title for your blog post",required:!0,disabled:m})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Short Excerpt *"}),e.jsx("textarea",{name:"excerpt",value:d.excerpt,onChange:b,rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Write a brief summary of your blog post (2-3 sentences)",required:!0,disabled:m})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Blog Content *"}),e.jsx("textarea",{name:"content",value:d.content,onChange:b,rows:8,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Write your full blog post content here...",required:!0,disabled:m}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"You can use basic HTML tags like <p>, <strong>, <em>, <ul>, <li> for formatting."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Images (Optional)"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[e.jsx(r,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Drag and drop images here, or click to select"}),e.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:e=>{const t=Array.from(e.target.files||[]);c(e=>({...e,images:[...e.images,...t]}))},className:"hidden",id:"image-upload",disabled:m}),e.jsx("label",{htmlFor:"image-upload",className:"inline-block px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer disabled:opacity-50",children:"Choose Images"}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Supported formats: JPG, PNG, GIF. Max 5MB per image."})]}),d.images.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Uploaded Images:"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:d.images.map((t,s)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:URL.createObjectURL(t),alt:`Preview ${s+1}`,className:"w-full h-24 object-cover rounded-lg"}),e.jsx("button",{type:"button",onClick:()=>(e=>{c(t=>({...t,images:t.images.filter((t,s)=>s!==e)}))})(s),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",disabled:m,children:e.jsx(l,{className:"w-4 h-4"})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:t.name})]},s))})]})]}),"error"===x&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx(i,{className:"w-5 h-5 text-red-500"}),e.jsx("p",{className:"text-sm text-red-700",children:h})]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx("button",{type:"button",onClick:o,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",disabled:m,children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",disabled:m,children:m?e.jsx(e.Fragment,{children:"Submitting..."}):"Submit Request"})]})]})]})})}function m(){const[a,l]=s.useState([]),[r,i]=s.useState(!0),[m,u]=s.useState(!1),[x,g]=s.useState(""),h=async()=>{try{const e=t(),s=await fetch(`${e}/api/blog/posts`);if(s.ok){const t=(await s.json()).filter(e=>"approved"===e.status).map(t=>({...t,images:t.images.map(t=>t.startsWith("/uploads/")?`${e}${t}`:t)}));l(t)}else g("Failed to load blog posts")}catch(e){g("Network error loading blog posts")}finally{i(!1)}};s.useEffect(()=>{h()},[]);const p=a.length>0?a:[{id:"origin-blue-tea",title:"The Origin of Blue Tea Flower",excerpt:"Blue tea, commonly known as butterfly pea flower tea, originates from Southeast Asia, particularly Thailand, Vietnam, Malaysia, and India. The tea is derived from the Clitoria ternatea plant...",content:"",author_name:"Nefol Team",author_email:"",images:["/IMAGES/FACE SERUM (5).jpg"],created_at:"2025-05-01",updated_at:"2025-05-01",status:"approved",featured:!0},{id:"diy-skincare-tips",title:"DIY Skincare Tips Using Blue Pea Flower Extract",excerpt:"While professional skincare products provide formulated benefits, incorporating DIY treatments can enhance your routine. Here are some simple recipes using Blue Pea Flower extract...",content:"",author_name:"Nefol Team",author_email:"",images:["/IMAGES/HYDRATING MOISTURIZER (5).jpg"],created_at:"2025-05-01",updated_at:"2025-05-01",status:"approved",featured:!1},{id:"combat-skin-issues",title:"How to Combat Common Skin Issues with Nefol's Skincare Line",excerpt:"Everyone's skin is unique, but many of us face similar challenges. Whether it's acne, dryness, or signs of aging, Nefol's Blue Pea Flower-infused products can help address these concerns...",content:"",author_name:"Nefol Team",author_email:"",images:["/IMAGES/FACE MASK (5).jpg"],created_at:"2025-05-01",updated_at:"2025-05-01",status:"approved",featured:!1},{id:"skincare-routine-guide",title:"A Comprehensive Guide to Nefol's Skincare Routine",excerpt:"Achieving healthy, glowing skin doesn't have to be complicated. With the right products and a consistent routine, you can nurture your skin effectively...",content:"",author_name:"Nefol Team",author_email:"",images:["/IMAGES/FACE CLEANSER (5).jpg"],created_at:"2025-05-01",updated_at:"2025-05-01",status:"approved",featured:!1},{id:"natural-ingredients",title:"Natural Ingredients for Glowing Skin: The Power of Blue Pea Flower and More",excerpt:"Natural skincare offers a path to healthier, more radiant skin. By choosing products infused with powerful botanicals like the Blue Pea Flower...",content:"",author_name:"Nefol Team",author_email:"",images:["/IMAGES/BODY LOTION (5).jpg"],created_at:"2025-05-01",updated_at:"2025-05-01",status:"approved",featured:!1},{id:"blue-pea-benefits",title:"Top 5 Skincare Benefits of Using Blue Pea Flower-Infused Products",excerpt:"When it comes to skincare, natural ingredients are becoming increasingly popular for their gentle yet effective properties. The Blue Pea Flower stands out as a powerhouse ingredient...",content:"",author_name:"Nefol Team",author_email:"",images:["/IMAGES/HAIR MASK (5).jpg"],created_at:"2025-05-01",updated_at:"2025-05-01",status:"approved",featured:!1}],b=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return e.jsxs("main",{className:"min-h-screen py-10",style:{backgroundColor:"#F4F9F9"},children:[e.jsxs("div",{className:"mx-auto max-w-7xl px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-serif mb-4",style:{color:"#1B4965"},children:"BLOG"}),e.jsx("p",{className:"text-lg font-light max-w-2xl mx-auto mb-6",style:{color:"#9DB4C0"},children:"Discover the latest insights on natural skincare, beauty tips, and the science behind our ingredients."})]}),r?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{style:{color:"#9DB4C0"},children:"Loading blog posts..."})}):x?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-red-600 mb-4",children:x}),e.jsx("p",{className:"text-sm text-gray-500",children:"No posts available at the moment"})]}):null,p.filter(e=>e.featured).map(t=>e.jsx("div",{className:"mb-16",children:e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-0",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:t.images[0]||"/IMAGES/default-blog.jpg",alt:t.title,className:"w-full h-96 lg:h-full object-cover"}),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx("span",{className:"text-white px-3 py-1 text-xs font-medium tracking-wide uppercase rounded-full",style:{backgroundColor:"#4B97C9"},children:"FEATURED"})})]}),e.jsxs("div",{className:"p-8 flex flex-col justify-center",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-4 text-sm",style:{color:"#9DB4C0"},children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(o,{className:"w-4 h-4"}),b(t.created_at)]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(n,{className:"w-4 h-4"}),t.author_name]})]}),e.jsx("h2",{className:"text-3xl font-serif mb-4",style:{color:"#1B4965"},children:t.title}),e.jsx("p",{className:"text-lg font-light mb-6 leading-relaxed",style:{color:"#9DB4C0"},children:t.excerpt}),e.jsx("a",{href:`#/user/blog/${t.id}`,className:"inline-block px-8 py-4 text-white font-medium transition-all duration-300 text-sm tracking-wide uppercase shadow-lg",style:{backgroundColor:"#1B4965"},children:"READ MORE"})]})]})})},t.id)),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:p.filter(e=>!e.featured).map(t=>e.jsxs("article",{className:"bg-white rounded-lg shadow-sm group overflow-hidden",children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("img",{src:t.images[0]||"/IMAGES/default-blog.jpg",alt:t.title,className:"w-full h-64 object-cover transition-transform duration-500 group-hover:scale-105"}),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx("span",{className:"text-white px-3 py-1 text-xs font-medium tracking-wide uppercase rounded-full",style:{backgroundColor:"#4B97C9"},children:"BLOG"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-3 flex items-center gap-4 text-sm",style:{color:"#9DB4C0"},children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(o,{className:"w-4 h-4"}),b(t.created_at)]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(n,{className:"w-4 h-4"}),t.author_name]})]}),e.jsx("h3",{className:"text-xl font-serif mb-3",style:{color:"#1B4965"},children:t.title}),e.jsx("p",{className:"text-sm font-light mb-4 leading-relaxed",style:{color:"#9DB4C0"},children:t.excerpt}),e.jsx("a",{href:`#/user/blog/${t.id}`,className:"inline-block px-6 py-3 text-white font-medium transition-all duration-300 text-xs tracking-wide uppercase shadow-lg",style:{backgroundColor:"#4B97C9"},children:"READ MORE"})]})]},t.id))}),e.jsx("div",{className:"mt-16",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[e.jsx("h3",{className:"text-2xl font-serif mb-4",style:{color:"#1B4965"},children:"Stay Updated"}),e.jsx("p",{className:"text-lg font-light mb-6",style:{color:"#9DB4C0"},children:"Subscribe to our WhatsApp updates for the latest beauty tips, product updates, and exclusive offers."}),e.jsxs("form",{onSubmit:e=>e.preventDefault(),className:"flex flex-col sm:flex-row gap-4 max-w-md mx-auto",children:[e.jsx("input",{type:"tel",placeholder:"Enter your WhatsApp number",className:"flex-1 h-12 rounded-lg border border-gray-300 px-4 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",required:!0}),e.jsx("button",{type:"submit",className:"px-8 py-3 text-white font-medium transition-all duration-300 text-sm tracking-wide uppercase shadow-lg rounded-lg",style:{backgroundColor:"#1B4965"},children:"SUBSCRIBE"})]})]})}),e.jsx("div",{className:"mt-16 text-center",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[e.jsx("h3",{className:"text-2xl font-serif mb-4",style:{color:"#1B4965"},children:"Share Your Story"}),e.jsx("p",{className:"text-lg font-light mb-6",style:{color:"#9DB4C0"},children:"Have a skincare tip, beauty secret, or personal journey to share? Submit your blog post and inspire our community."}),e.jsxs("button",{onClick:()=>u(!0),className:"inline-flex items-center gap-2 px-8 py-4 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors text-sm tracking-wide uppercase shadow-lg",children:[e.jsx(d,{className:"w-5 h-5"}),"Submit Your Blog Post"]})]})})]}),m&&e.jsx(c,{onClose:()=>u(!1),onSubmitSuccess:()=>{h()}})]})}export{m as default};
