import{g as e,j as t}from"./index-BcSM4fAK.js";import{r as s}from"./react-vendor-D-XgqoRR.js";import{k as a,y as l,z as r,F as d}from"./ui-vendor-D0H4cakl.js";import"./socket-vendor-CUkmNz_4.js";function n(){const[n,i]=s.useState([]),[c,o]=s.useState(!0),[x,m]=s.useState(!1),[u,h]=s.useState({card_number:"",expiry:"",cvv:"",name:"",type:"Visa"});s.useEffect(()=>{b()},[]);const b=async()=>{try{o(!0);const t=localStorage.getItem("token"),s=e(),a=await fetch(`${s}/api/users/saved-cards`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(a.ok){const e=await a.json();i(e.data||e||[])}}catch(t){}finally{o(!1)}},p=e=>{const t=e.replace(/\s/g,"");return t.length<=4?t:"**** **** **** "+t.slice(-4)},g=e=>{switch(e.toLowerCase()){case"visa":return"V";case"mastercard":return"MC";case"amex":return"AX";default:return"CC"}},j=e=>{switch(e.toLowerCase()){case"visa":return"from-blue-500 to-blue-700";case"mastercard":return"from-orange-500 to-red-600";case"amex":return"from-green-500 to-green-700";default:return"from-gray-500 to-gray-700"}};return c?t.jsx("main",{className:"py-10 dark:bg-slate-900 min-h-screen",children:t.jsx("div",{className:"mx-auto max-w-4xl px-4",children:t.jsx("div",{className:"text-center",children:t.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Loading your cards..."})})})}):t.jsx("main",{className:"py-10 dark:bg-slate-900 min-h-screen",children:t.jsxs("div",{className:"mx-auto max-w-4xl px-4",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 mb-4",children:t.jsx(a,{className:"w-10 h-10 text-white"})}),t.jsx("h1",{className:"text-5xl font-bold text-slate-900 dark:text-slate-100 mb-4",children:"Saved Cards"}),t.jsx("p",{className:"text-xl text-slate-600 dark:text-slate-400",children:"Manage your payment methods"})]}),t.jsx("div",{className:"mb-8",children:t.jsxs("button",{onClick:()=>m(!x),className:"flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:[t.jsx(l,{className:"w-5 h-5"}),"Add New Card"]})}),x&&t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-6 mb-8",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-slate-100 mb-4",children:"Add New Card"}),t.jsxs("form",{onSubmit:async e=>{e.preventDefault(),alert("Card addition functionality coming soon!"),m(!1),h({card_number:"",expiry:"",cvv:"",name:"",type:"Visa"})},className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Card Number"}),t.jsx("input",{type:"text",value:u.card_number,onChange:e=>h({...u,card_number:e.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-slate-700",placeholder:"1234 5678 9012 3456"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Expiry Date"}),t.jsx("input",{type:"text",value:u.expiry,onChange:e=>h({...u,expiry:e.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-slate-700",placeholder:"MM/YY"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"CVV"}),t.jsx("input",{type:"text",value:u.cvv,onChange:e=>h({...u,cvv:e.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-slate-700",placeholder:"123"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Cardholder Name"}),t.jsx("input",{type:"text",value:u.name,onChange:e=>h({...u,name:e.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-slate-700",placeholder:"John Doe"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Card Type"}),t.jsxs("select",{value:u.type,onChange:e=>h({...u,type:e.target.value}),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-slate-700",children:[t.jsx("option",{value:"Visa",children:"Visa"}),t.jsx("option",{value:"MasterCard",children:"MasterCard"}),t.jsx("option",{value:"Amex",children:"American Express"})]})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Save Card"}),t.jsx("button",{type:"button",onClick:()=>m(!1),className:"flex-1 bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 px-6 py-2 rounded-lg hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",children:"Cancel"})]})]})]}),0===n.length?t.jsxs("div",{className:"text-center py-16",children:[t.jsx(a,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 mb-2",children:"No Cards Saved"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"Add a card to make checkout faster"}),t.jsx("button",{onClick:()=>m(!0),className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Add Your First Card"})]}):t.jsx("div",{className:"space-y-4",children:n.map(e=>t.jsxs("div",{className:`bg-gradient-to-r ${j(e.type)} rounded-xl shadow-lg p-6 text-white relative`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center font-bold",children:g(e.type)}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold",children:e.type}),t.jsx("p",{className:"text-sm text-white/80",children:p(e.card_number)})]})]}),e.is_default&&t.jsxs("div",{className:"flex items-center gap-2 bg-white/20 px-3 py-1 rounded-full",children:[t.jsx(r,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm",children:"Default"})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-white/80",children:"Expires"}),t.jsx("p",{className:"font-semibold",children:e.expiry})]}),t.jsx("button",{onClick:()=>(async()=>{confirm("Are you sure you want to delete this card?")&&alert("Card deletion functionality coming soon!")})(e.id),className:"text-white/80 hover:text-white transition-colors",children:t.jsx(d,{className:"w-5 h-5"})})]})]},e.id))})]})})}export{n as default};
