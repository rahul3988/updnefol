const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/RelatedProductsCarousel-BveP76pM.js","assets/js/index-DHQYPLw0.js","assets/js/react-vendor-D-XgqoRR.js","assets/js/socket-vendor-CUkmNz_4.js","assets/js/ui-vendor-upD1L4Zc.js","assets/css/index-C9XaOa3h.css","assets/js/session-DZPRxyc_.js","assets/js/PricingDisplay-BhUAu90f.js","assets/js/VerifiedBadge-BHfgN61c.js","assets/js/product_reviews-C18bXWrN.js","assets/js/RecentlyViewed-DssDdIlc.js"])))=>i.map(i=>d[i]);
import{d as e,u as t,j as s,b as a,g as l,k as r,p as i,l as n,_ as o,m as c}from"./index-DHQYPLw0.js";import{r as d}from"./react-vendor-D-XgqoRR.js";import{d as m,ab as u,F as x,g as h,z as g,al as p,X as y,ai as f,aj as b}from"./ui-vendor-upD1L4Zc.js";import{u as j,V as v}from"./VerifiedBadge-BHfgN61c.js";import{b as w,g as N,a as k,h as S}from"./product_reviews-C18bXWrN.js";import"./socket-vendor-CUkmNz_4.js";function C({product:a,quantity:l=1,className:r=""}){const[i,n]=d.useState(!1),[o,c]=d.useState(!1),u=e(),{isAuthenticated:x}=t(),h=null==u?void 0:u.addItem;d.useEffect(()=>{const e=()=>{const e=window.scrollY||window.pageYOffset,t=window.innerHeight,s=document.documentElement.scrollHeight;e>300&&e<s-t-100?(n(!0),c(!0)):(n(!1),e<300&&c(!1))};return window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)},[]);return i?s.jsx("div",{className:`fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-50 transform transition-transform duration-300 ${i?"translate-y-0":"translate-y-full"} ${r}`,children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[a.listImage&&s.jsx("img",{src:a.listImage,alt:a.title,className:"w-16 h-16 object-cover rounded-lg"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-medium text-sm truncate",style:{color:"#1B4965"},children:a.title}),s.jsxs("p",{className:"text-sm font-semibold mt-1",style:{color:"#4B97C9"},children:["₹","number"==typeof a.price?a.price.toFixed(2):a.price]})]})]}),s.jsxs("button",{onClick:()=>{if(x){if(h&&a.id)try{h({id:a.id,slug:a.slug,title:a.title,price:"number"==typeof a.price?String(a.price):a.price,listImage:a.listImage||"",pdpImages:[],description:""},l);const e=document.querySelector(".sticky-add-to-cart-btn");e&&(e.classList.add("animate-pulse"),setTimeout(()=>e.classList.remove("animate-pulse"),1e3))}catch(e){}}else window.location.hash="#/user/login"},className:"sticky-add-to-cart-btn flex items-center gap-2 px-6 py-3 text-white font-medium transition-all duration-300 rounded-lg shadow-md hover:shadow-lg hover:scale-105",style:{backgroundColor:"rgb(75,151,201)",minWidth:"160px"},children:[s.jsx(m,{className:"w-5 h-5"}),s.jsx("span",{children:"Add to Cart"})]})]})}):null}function I({productSlug:e,productTitle:t,productImage:a,productDescription:l,className:r=""}){const[i,n]=d.useState(!1),[o,c]=d.useState(!1),[m,y]=d.useState(!1),f=`${window.location.origin}/#/user/product/${e}`,b=`Check out ${t} on Nefol!`,j=a?/^https?:\/\//i.test(a)?a:`${window.location.origin}${a.startsWith("/")?"":"/"}${a}`:void 0;d.useEffect(()=>{try{const e=document.head;if(!e)return;const s=(t,s,a)=>{if(!a)return;let l=e.querySelector(`meta[${t}="${s}"]`);l||(l=document.createElement("meta"),l.setAttribute(t,s),e.appendChild(l)),l.setAttribute("content",a)},a=l||"Discover premium skincare from Nefol.";s("property","og:type","product"),s("property","og:title",t),s("property","og:description",a),s("property","og:url",f),j&&s("property","og:image",j),s("name","twitter:card","summary_large_image"),s("name","twitter:title",t),s("name","twitter:description",a),j&&s("name","twitter:image",j)}catch(e){}},[e,t,l,f,j]);return s.jsxs("div",{className:`relative ${r}`,children:[s.jsxs("button",{onClick:()=>{c(!o),y(!0)},className:"flex items-center justify-center rounded-full text-sm font-medium transition-colors "+(m?"p-2":"px-4 py-2 gap-2"),"aria-label":"Share product",style:{backgroundColor:"rgb(75,151,201)",color:"#FFFFFF"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="rgb(60,120,160)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="rgb(75,151,201)",children:[s.jsx(u,{className:"w-4 h-4"}),!m&&s.jsx("span",{children:"Share"})]}),o&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>c(!1)}),s.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 z-50 py-2",children:[s.jsxs("button",{onClick:()=>{const e=`https://wa.me/?text=${encodeURIComponent(`${b} ${f}`)}`;window.open(e,"_blank")},className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center gap-3 text-sm",children:[s.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-[#25D366]",children:s.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4 text-white","aria-hidden":"true",children:s.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.472-.148-.672.15-.198.297-.768.966-.94 1.164-.173.199-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.372-.025-.521-.075-.149-.672-1.62-.921-2.221-.242-.58-.487-.502-.672-.512l-.573-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.262.489 1.694.626.712.227 1.36.195 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 3.505h-.004a8.348 8.348 0 01-4.258-1.157l-.305-.181-3.172.832.847-3.094-.199-.317a8.345 8.345 0 01-1.277-4.43c.001-4.602 3.745-8.346 8.35-8.346 2.233 0 4.332.87 5.912 2.449a8.303 8.303 0 012.444 5.898c-.003 4.602-3.747 8.345-8.348 8.345M20.52 3.48A11.815 11.815 0 0012.057 0C5.495 0 .16 5.335.157 11.897c0 2.096.547 4.142 1.588 5.945L0 24l6.305-1.631a11.88 11.88 0 005.71 1.455h.005c6.56 0 11.895-5.335 11.898-11.897A11.821 11.821 0 0020.52 3.48"})})}),s.jsx("span",{children:"WhatsApp"})]}),s.jsxs("button",{onClick:()=>{const e=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(f)}`;window.open(e,"_blank","width=600,height=400")},className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center gap-3 text-sm",children:[s.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-[#1877F2]",children:s.jsx(x,{className:"w-4 h-4 text-white"})}),s.jsx("span",{children:"Facebook"})]}),s.jsxs("button",{onClick:()=>{const e=`mailto:?subject=${encodeURIComponent(`Check out ${t}`)}&body=${encodeURIComponent(`${b}\n\n${f}`)}`;window.location.href=e},className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center gap-3 text-sm",children:[s.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-[#EA4335]",children:s.jsx(h,{className:"w-4 h-4 text-white"})}),s.jsx("span",{children:"Email"})]}),s.jsx("button",{onClick:async()=>{try{if(navigator.clipboard&&navigator.clipboard.writeText)return await navigator.clipboard.writeText(f),n(!0),void setTimeout(()=>n(!1),2e3);const e=document.createElement("textarea");e.value=f,e.style.position="fixed",e.style.left="-999999px",e.style.top="-999999px",document.body.appendChild(e),e.focus(),e.select();try{if(!document.execCommand("copy"))throw new Error("execCommand copy failed");n(!0),setTimeout(()=>n(!1),2e3)}finally{document.body.removeChild(e)}}catch(e){alert("Unable to copy link. Please copy manually: "+f)}},className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center gap-3 text-sm",children:i?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-green-500",children:s.jsx(g,{className:"w-4 h-4 text-white"})}),s.jsx("span",{className:"text-green-600",children:"Copied!"})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full bg-gray-200",children:s.jsx(p,{className:"w-4 h-4 text-gray-700"})}),s.jsx("span",{children:"Copy Link"})]})})]})]})]})}function E({images:e,currentIndex:t,onClose:a,onIndexChange:l}){const[r,i]=d.useState(t),[n,o]=d.useState(1),[c,m]=d.useState({x:0,y:0}),[u,x]=d.useState(!1),h=d.useRef(null),g=d.useRef(null);d.useEffect(()=>{i(t)},[t]),d.useEffect(()=>{l&&l(r)},[r,l]),d.useEffect(()=>{const e=e=>{"Escape"===e.key&&a()},t=e=>{"ArrowLeft"===e.key?p():"ArrowRight"===e.key&&j()};return document.addEventListener("keydown",e),document.addEventListener("keydown",t),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",e),document.removeEventListener("keydown",t),document.body.style.overflow=""}},[]);const p=()=>{i(t=>t>0?t-1:e.length-1),o(1),m({x:0,y:0})},j=()=>{i(t=>t<e.length-1?t+1:0),o(1),m({x:0,y:0})};return e&&0!==e.length?s.jsx("div",{className:"fixed inset-0 bg-black/90 z-[100] flex items-center justify-center",onClick:a,children:s.jsxs("div",{className:"relative max-w-7xl w-full h-full flex items-center justify-center p-4",onClick:e=>e.stopPropagation(),children:[s.jsx("button",{onClick:a,className:"absolute top-4 right-4 z-50 text-white hover:text-gray-300 transition-colors bg-black/50 rounded-full p-2","aria-label":"Close",children:s.jsx(y,{className:"w-6 h-6"})}),e.length>1&&s.jsx("button",{onClick:p,className:"absolute left-4 z-50 text-white hover:text-gray-300 transition-colors bg-black/50 rounded-full p-2","aria-label":"Previous image",children:s.jsx(f,{className:"w-8 h-8"})}),s.jsxs("div",{ref:g,className:"relative max-w-full max-h-full flex items-center justify-center overflow-hidden",onMouseLeave:()=>{n>1&&(o(1),m({x:0,y:0}),x(!1))},children:[s.jsx("img",{ref:h,src:e[r],alt:`Product image ${r+1}`,className:"max-w-full max-h-[90vh] object-contain cursor-zoom-in select-none",style:{transform:`scale(${n}) translate(${c.x}px, ${c.y}px)`,transformOrigin:"center center",transition:1===n?"transform 0.2s ease-out":"none",willChange:n>1?"transform":"auto"},onClick:e=>{1===n?(o(2.5),x(!0)):(o(1),m({x:0,y:0}),x(!1))},onMouseMove:e=>{if(n>1&&h.current&&g.current){const t=h.current.getBoundingClientRect();g.current.getBoundingClientRect();const s=e.clientX-t.left,a=e.clientY-t.top,l=s/t.width,r=a/t.height,i=t.width*n,o=t.height*n,c=(l-.5)*(i-t.width),d=(r-.5)*(o-t.height),u=(i-t.width)/2,x=(o-t.height)/2;m({x:Math.max(-u,Math.min(u,c)),y:Math.max(-x,Math.min(x,d))})}},draggable:!1}),u&&s.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 bg-black/70 text-white px-3 py-1 rounded text-sm",children:"Click to zoom out"})]}),e.length>1&&s.jsx("button",{onClick:j,className:"absolute right-4 z-50 text-white hover:text-gray-300 transition-colors bg-black/50 rounded-full p-2","aria-label":"Next image",children:s.jsx(b,{className:"w-8 h-8"})}),e.length>1&&s.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2 max-w-full overflow-x-auto px-4",children:e.map((e,t)=>s.jsx("button",{onClick:()=>{i(t),o(1),m({x:0,y:0})},className:"flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden border-2 transition-all "+(r===t?"border-white scale-110":"border-transparent opacity-60 hover:opacity-100"),children:s.jsx("img",{src:e,alt:`Thumbnail ${t+1}`,className:"w-full h-full object-cover"})},t))}),e.length>1&&s.jsxs("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 text-white bg-black/50 rounded-full px-4 py-2 text-sm",children:[r+1," / ",e.length]})]})}):null}const A=d.lazy(()=>o(()=>import("./RelatedProductsCarousel-BveP76pM.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]))),M=d.lazy(()=>o(()=>import("./RecentlyViewed-DssDdIlc.js"),__vite__mapDeps([10,1,2,3,4,5,6,7,8,9])));let P=null,L=0;function $(){var o,c;const[m,u]=d.useState(null),[x,h]=d.useState(null),[g,p]=d.useState(!0),[y,$]=d.useState(1),[G,O]=d.useState({}),[B,R]=d.useState(new Date),[_,D]=d.useState(!1),[z,W]=d.useState(!1),[H,U]=d.useState(0),[K,Q]=d.useState(0),[V,q]=d.useState(Date.now()),[Y,J]=d.useState(!1),[X,Z]=d.useState(!1),[ee,te]=d.useState([]),[se,ae]=d.useState(!1),[le,re]=d.useState(5),[ie,ne]=d.useState(null),oe=d.useRef(!1),[ce,de]=d.useState({show:!1,x:0,y:0}),me=d.useRef(null),[ue,xe]=d.useState(""),[he,ge]=d.useState(!1),[pe,ye]=d.useState(null),[fe,be]=d.useState(null),je=e(),{isAuthenticated:ve,user:we}=t(),Ne=null==je?void 0:je.addItem,ke=async()=>{var e;if(6===ue.length){ge(!0),be(null),ye(null);try{const t=l(),s=(null==m?void 0:m.weight)||(null==(e=null==m?void 0:m.details)?void 0:e.weight)||(null==x?void 0:x["Weight (kg)"])||(null==x?void 0:x.Weight)||"0.5",a=parseFloat(String(s))||.5,r=await fetch(`${t}/api/public/shiprocket/serviceability?delivery_postcode=${encodeURIComponent(ue)}&cod=0&weight=${encodeURIComponent(a)}`);if(!r.ok){const e=await r.json().catch(()=>({}));throw new Error(e.message||"Failed to check delivery availability")}const i=await r.json();ye(i)}catch(t){be(t.message||"Unable to check delivery. Please try again later."),ye(null)}finally{ge(!1)}}else be("Please enter a valid 6-digit pincode")};d.useEffect(()=>()=>{if((null==m?void 0:m.id)&&V){const e=Math.floor((Date.now()-V)/1e3);e>0&&a.recommendations.trackProductView(m.id,{viewDuration:e,source:"product_page_exit"}).catch(e=>{})}},[null==m?void 0:m.id,V]);const Se=d.useCallback(async e=>{const t=Date.now();if(P&&t-L<3e5)return P;try{const s=await fetch(`${e}/api/products-csv`);if(s.ok){const e=await s.json();return P=e,L=t,e}}catch(s){}return[]},[]),Ce=d.useCallback(async e=>{if(!e)return;if(g&&(null==m?void 0:m.slug)===e)return;const t=l(),s=e=>{if(!e||"string"!=typeof e)return"";if(/^https?:\/\//i.test(e))return e;return`${t.replace(/\/$/,"")}${e.startsWith("/")?e:`/${e}`}`},o=(e,t)=>{if(!e||!Array.isArray(e))return[s(t||"")];const a=e.map(e=>e?"string"==typeof e?s(e):"object"==typeof e&&"string"==typeof e.url?s(e.url):"":"").filter(e=>e&&e.trim().length>0);return[...new Map(a.map((e,t)=>[e,t])).keys()]},c=e=>{if(!e||!Array.isArray(e))return[];const t=e.map(e=>e?"string"==typeof e?s(e):"object"==typeof e&&"string"==typeof e.url?s(e.url):"":"").filter(e=>e&&e.trim().length>0);return[...new Map(t.map((e,t)=>[e,t])).keys()]};try{p(!0);const[l,m]=await Promise.all([fetch(`${t}/api/products/slug/${e}`,{credentials:"include",cache:"default"}),Se(t)]);if(l.ok){const t=await l.json();if(t){const l={id:t.id,slug:t.slug,title:t.title,category:t.category,price:t.price,listImage:s(t.list_image||""),pdpImages:o(t.pdp_images,t.list_image),bannerImages:c(t.banner_images),description:t.description||"",details:t.details};if(u(l),re(5),Q(0),U(0),l.id){Promise.all([Promise.resolve(r.trackProductView(l.id,l.title,{category:l.category,price:l.price})),a.recommendations.trackProductView(l.id,{source:"product_page",viewDuration:void 0}).catch(e=>{})]).catch(()=>{});try{const e=JSON.parse(localStorage.getItem("recently_viewed")||"[]"),t=[String(l.id),...e.filter(e=>e!==String(l.id))].slice(0,20);localStorage.setItem("recently_viewed",JSON.stringify(t)),window.dispatchEvent(new CustomEvent("product-viewed",{detail:{productId:l.id}}))}catch(d){}if(q(Date.now()),l&&i.viewContent(n(l)),l.id&&"number"==typeof l.id&&l.id>0){const e=l.id;a.reviews.getProductReviews(e).then(e=>te(e||[])).catch(()=>te([]))}}if(m&&m.length>0){const t=m.find(t=>{var s;return(t.Slug||(null==(s=t["Product Name"])?void 0:s.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""))||"")===e});if(t)h(t);else if(l.details){const e="string"==typeof l.details?JSON.parse(l.details):l.details;h({"Product Name":l.title,Title:l.title,"Brand Name":e.brand||"NEFOL",SKU:e.sku||"","HSN Code":e.hsn||"","Subtitle / Tagline":e.subtitle||"","Product Description (Long)":e.longDescription||"","Skin/Hair Type":e.skinHairType||"","Net Quantity (Content)":e.netQuantity||"","Unit Count (Pack of)":e.unitCount||"","Package Content Details":e.packageContent||"","Inner Packaging Type":e.innerPackaging||"","Outer Packaging Type":e.outerPackaging||"","Net Weight (Product Only)":e.netWeight||"","Dead Weight (Packaging Only)":e.deadWeight||"","MRP ":e.mrp||l.price,"website price":e.websitePrice||"","GST %":e.gstPercent||e.gst||"","Country of Origin":e.countryOfOrigin||"","Manufacturer / Packer / Importer":e.manufacturer||"","Key Ingredients":e.keyIngredients||"","Ingredient Benefits":e.ingredientBenefits||"","How to Use (Steps)":e.howToUse||"","Video Links":e.videoLinks||"","Hazardous / Fragile (Y/N)":e.hazardous||"","Special Attributes (Badges)":e.badges||""})}}}}}catch(x){}p(!1),R(new Date)},[Se]),Ie=d.useCallback(async e=>{if(!e||"number"!=typeof e||e<=0)te([]);else try{ae(!0);const t=await a.reviews.getProductReviews(e);te(t||[])}catch(t){te([])}finally{ae(!1)}},[]);d.useEffect(()=>{const e=(window.location.hash||"#/").match(/^#\/user\/product\/([^?#]+)/),t=(null==e?void 0:e[1])||null;ne(t)},[]),d.useEffect(()=>{const e=()=>{const e=(window.location.hash||"#/").match(/^#\/user\/product\/([^?#]+)/),t=(null==e?void 0:e[1])||null;ne(t)};return window.addEventListener("hashchange",e),()=>window.removeEventListener("hashchange",e)},[]),d.useEffect(()=>{ie?(null==m?void 0:m.slug)!==ie?(oe.current=!1,p(!0),u(null),h(null),Ce(ie)):oe.current||(oe.current=!0,Ce(ie)):p(!1)},[ie,null==m?void 0:m.slug,Ce]);const Ee=d.useRef(new Map),Ae=d.useMemo(()=>[],[m]),Me=d.useMemo(()=>Ae.map(e=>e.slug||"").filter(e=>e),[Ae]),{stats:Pe}=j(Me),[Le,$e]=d.useState(0),Te=Math.ceil(Ae.length/4),Fe=4*Le,Ge=Fe+4,Oe=Ae.slice(Fe,Ge),Be=Le>0,Re=Le<Te-1,{allProductReviews:_e,overallRating:De,reviewCount:ze}=d.useMemo(()=>{const e=(null==m?void 0:m.slug)||"";let t=[];if(Ee.current.has(e))t=Ee.current.get(e)||[];else try{t=w(e)||[],Ee.current.set(e,t)}catch(i){t=[]}const s=ee.map(e=>({id:e.id,name:e.customer_name,rating:e.rating,date:new Date(e.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),comment:e.review_text||e.comment||"",title:e.title||"",isVerified:e.is_verified||!1,isFeatured:e.is_featured||!1})),a=new Set(s.map(e=>e.id)),l=t.filter(e=>!e.id||!a.has(e.id)),r=[...s,...l];return{allProductReviews:r,overallRating:(e=>{if(0===e.length)return 0;const t=e.reduce((e,t)=>e+(t.rating||0),0);return parseFloat((t/e.length).toFixed(2))})(r),reviewCount:r.length}},[null==m?void 0:m.slug,ee]);d.useEffect(()=>{const e=e=>{const t=e.detail;t&&t.id&&m&&m.id===t.id&&(async()=>{D(!0);const e=(window.location.hash||"#/").match(/^#\/user\/product\/([^?#]+)/),t=null==e?void 0:e[1];if(!t)return;const s=l();try{const e=await fetch(`${s}/api/products/slug/${t}?_=${Date.now()}`,{credentials:"include",cache:"no-store"});if(e.ok){const t=await e.json();if(t){const e=e=>e&&"string"==typeof e?/^https?:\/\//i.test(e)?e:`${s.replace(/\/$/,"")}${e.startsWith("/")?e:`/${e}`}`:"",a=s=>{if(!s||!Array.isArray(s))return[e(t.list_image||"")];const a=s.map(t=>t?"string"==typeof t?e(t):"object"==typeof t&&"string"==typeof t.url?e(t.url):"":"").filter(e=>e&&e.trim().length>0);return[...new Map(a.map((e,t)=>[e,t])).keys()]},l=t=>{if(!t||!Array.isArray(t))return[];const s=t.map(t=>t?"string"==typeof t?e(t):"object"==typeof t&&"string"==typeof t.url?e(t.url):"":"").filter(e=>e&&e.trim().length>0);return[...new Map(s.map((e,t)=>[e,t])).keys()]},r={id:t.id,slug:t.slug,title:t.title,category:t.category,price:t.price,listImage:e(t.list_image||""),pdpImages:a(t.pdp_images),bannerImages:l(t.banner_images),description:t.description||"",details:t.details};u(r)}}const a=await fetch(`${s}/api/products-csv`);if(a.ok){const e=(await a.json()).find(e=>{var s;return(e.Slug||(null==(s=e["Product Name"])?void 0:s.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""))||"")===t});e&&h(e)}R(new Date),(null==m?void 0:m.id)&&Ie(m.id)}catch(a){}finally{D(!1)}})()};return window.addEventListener("product-updated",e),window.addEventListener("refresh-products",e),()=>{window.removeEventListener("product-updated",e),window.removeEventListener("refresh-products",e)}},[null==m?void 0:m.id]);const We=e=>{O(t=>({...t,[e]:!t[e]}))};return g?s.jsx("main",{className:"py-10 bg-white",children:s.jsx("div",{className:"mx-auto max-w-7xl px-4",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 w-3/4 bg-gray-200 rounded mb-4"}),s.jsx("div",{className:"h-4 w-1/2 bg-gray-200 rounded mb-8"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsx("div",{className:"h-96 bg-gray-200 rounded"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded"})]})]})]})})}):m?s.jsxs("div",{className:"overflow-x-hidden bg-white w-full max-w-full",children:[s.jsx("main",{className:"py-4 sm:py-6 md:py-8 bg-white w-full max-w-full",children:s.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 w-full",children:[s.jsx("nav",{className:"mb-4 sm:mb-6 text-xs sm:text-sm",children:s.jsxs("ol",{className:"flex items-center space-x-1 sm:space-x-2 text-gray-600 flex-wrap",children:[s.jsx("li",{children:s.jsx("a",{href:"#/user/",className:"hover:text-gray-900",children:"Home"})}),s.jsx("li",{children:"/"}),s.jsx("li",{children:s.jsx("a",{href:"#/user/shop",className:"hover:text-gray-900",children:"Shop"})}),s.jsx("li",{children:"/"}),s.jsx("li",{children:s.jsx("a",{href:`#/user/shop?category=${m.category}`,className:"hover:text-gray-900 truncate max-w-[100px] sm:max-w-none",children:m.category})}),s.jsx("li",{children:"/"}),s.jsx("li",{className:"text-gray-900 truncate max-w-[150px] sm:max-w-none",children:m.title})]})}),s.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:gap-8 md:gap-12 lg:grid-cols-2 mb-8 sm:mb-12 md:mb-16 w-full",children:[s.jsxs("div",{className:"space-y-2 sm:space-y-4 relative",children:[(()=>{const e=m.listImage?[m.listImage,...m.pdpImages||[]]:m.pdpImages||[],t=[...new Map(e.map((e,t)=>[e,t])).keys()][K]||"";return t?s.jsxs("div",{ref:me,className:"aspect-square overflow-hidden rounded-lg border border-gray-200 flex items-center justify-center bg-gray-50 cursor-zoom-in group w-full relative",onMouseMove:e=>{if(!me.current)return;const t=me.current.getBoundingClientRect(),s=(e.clientX-t.left)/t.width*100,a=(e.clientY-t.top)/t.height*100;de({show:!0,x:s,y:a})},onMouseLeave:()=>de({show:!1,x:0,y:0}),children:[s.jsx("img",{src:t,alt:m.title,className:"w-full h-full object-contain transition-opacity duration-300 max-w-full",loading:0===K?"eager":"lazy",decoding:"async",...0===K?{fetchpriority:"high"}:{},onClick:()=>{U(K),W(!0)},onError:e=>{e.currentTarget.style.display="none"},draggable:!1}),ce.show&&s.jsx("div",{className:"absolute pointer-events-none z-20 rounded-full border-2 border-gray-300 shadow-2xl",style:{width:"200px",height:"200px",left:`calc(${ce.x}% - 100px)`,top:`calc(${ce.y}% - 100px)`,background:`url(${t})`,backgroundSize:"300%",backgroundPosition:`${ce.x}% ${ce.y}%`,backgroundRepeat:"no-repeat",transform:"scale(1.2)",transition:"transform 0.1s ease-out",boxShadow:"0 0 20px rgba(0,0,0,0.3)"}})]}):null})(),(()=>{const e=m.listImage?[m.listImage,...m.pdpImages||[]]:m.pdpImages||[],t=[...new Map(e.map((e,t)=>[e,t])).keys()];return t.length>1&&s.jsx("div",{className:"w-full",children:s.jsxs("div",{className:"flex gap-2 sm:gap-3 overflow-x-auto pb-2",style:{scrollbarWidth:"thin",scrollbarColor:"#cbd5e1 transparent",msOverflowStyle:"none"},children:[s.jsx("style",{children:"\n                        .thumb-scroll::-webkit-scrollbar {\n                          height: 4px;\n                        }\n                        .thumb-scroll::-webkit-scrollbar-track {\n                          background: transparent;\n                        }\n                        .thumb-scroll::-webkit-scrollbar-thumb {\n                          background: #cbd5e1;\n                          border-radius: 2px;\n                        }\n                        .thumb-scroll::-webkit-scrollbar-thumb:hover {\n                          background: #94a3b8;\n                        }\n                      "}),s.jsx("div",{className:"flex gap-2 sm:gap-3 thumb-scroll",children:t.map((e,a)=>s.jsx("button",{onClick:()=>{Q(a),U(a)},className:"relative flex-shrink-0 aspect-square overflow-hidden rounded-lg border-2 transition-all duration-200 cursor-pointer "+(a===K?"border-gray-900 ring-2 ring-gray-300 opacity-100 scale-105":"border-gray-200 hover:border-gray-400 opacity-70 hover:opacity-100"),style:{width:"108px",height:"108px",marginBottom:"10px"},role:"group","aria-label":`${a+1} / ${t.length}`,children:/\.(mp4|webm|ogg)(\?|$)/i.test(e)?s.jsx("video",{src:e,className:"h-full w-full object-cover",muted:!0,onError:e=>{e.currentTarget.style.display="none"}}):s.jsx("img",{src:e,alt:`${m.title} ${a+1}`,className:"h-full w-full object-cover image-slider",loading:"lazy",decoding:"async",onError:e=>{e.currentTarget.style.display="none"}})},`${e}-${a}`))})]})})})()]}),s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:(null==x?void 0:x["Product Title"])||(null==x?void 0:x["Product Name"])||m.title}),s.jsx("p",{className:"text-base sm:text-lg text-gray-600 mb-2",children:(null==x?void 0:x["Subtitle / Tagline"])||"Premium natural skincare for radiant skin"}),(null==x?void 0:x["Net Quantity (Content)"])&&s.jsxs("div",{className:"mb-4 text-sm text-gray-700",children:[s.jsx("span",{className:"font-medium",children:"Net Quantity:"})," ",x["Net Quantity (Content)"]]}),(null==x?void 0:x["Bullet Highlights (Short Desc.)"])&&s.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-md border border-blue-200",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2 text-sm",children:"Key Highlights:"}),s.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-700",children:x["Bullet Highlights (Short Desc.)"].split("•").filter(e=>e.trim()).map((e,t)=>s.jsx("li",{children:e.trim()},`bullet-${t}`))})]}),s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-2xl font-bold text-gray-900 mr-2",children:De>0?De.toFixed(2):"4.7"}),s.jsx("div",{className:"flex items-center",children:[...Array(5)].map((e,t)=>{const a=De||0,l=t<Math.round(a);return s.jsx("svg",{className:"w-5 h-5 "+(l?"text-yellow-400":"text-gray-300"),fill:l?"currentColor":"none",stroke:l?"none":"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},`main-rating-${t}`)})})]}),s.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Rating"}),s.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:[ze||0," review",1!==(ze||0)?"s":""]})]})]}),(()=>{var e;const t=(null==x?void 0:x["Net Quantity (Content)"])||((null==m?void 0:m.details)&&"object"==typeof m.details?m.details.netQuantity:null)||((null==m?void 0:m.details)&&"string"==typeof m.details?null==(e=JSON.parse(m.details))?void 0:e.netQuantity:null);return t?s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Quantity"}),s.jsx("div",{className:"text-base font-medium text-gray-900",children:t})]}):null})(),s.jsxs("div",{className:"space-y-2",children:[(null==x?void 0:x.discount)&&s.jsxs("div",{className:"inline-block px-3 py-1 bg-red-100 text-red-800 text-sm font-semibold rounded-md mb-2",children:[x.discount,"% OFF"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Discounted price"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-2xl font-bold text-gray-900",children:(()=>{var e,t;const s=null==(e=null==m?void 0:m.details)?void 0:e.mrp,a=null==(t=null==m?void 0:m.details)?void 0:t.websitePrice,l=(null==x?void 0:x["MRP (₹)"])||(null==x?void 0:x.MRP),r=(null==x?void 0:x["website price"])||(null==x?void 0:x["Website Price"]),i=s||l||m.price||"₹599",n=a||r||"";return n&&n!==i?n:i})()}),(()=>{var e,t;const a=null==(e=null==m?void 0:m.details)?void 0:e.mrp,l=null==(t=null==m?void 0:m.details)?void 0:t.websitePrice,r=(null==x?void 0:x["MRP (₹)"])||(null==x?void 0:x.MRP),i=(null==x?void 0:x["website price"])||(null==x?void 0:x["Website Price"]),n=a||r||m.price||"₹599",o=l||i||"";return o&&o!==n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Regular price"}),s.jsxs("span",{className:"text-lg font-medium line-through opacity-60 text-gray-500",children:["₹",n]}),s.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-sm font-medium rounded",children:["Save ",Math.round((parseFloat(n.toString().replace(/[₹,]/g,""))-parseFloat(o.toString().replace(/[₹,]/g,"")))/parseFloat(n.toString().replace(/[₹,]/g,""))*100),"%"]})]}):null})()]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Inclusive of GST"}),(null==x?void 0:x["Net Quantity (Content)"])&&s.jsxs("div",{className:"text-sm text-gray-600",children:["Net Vol: ",x["Net Quantity (Content)"]]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Check Delivery Availability"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"text",placeholder:"Enter Pincode",value:ue||"",onChange:e=>{const t=e.target.value.replace(/\D/g,"").slice(0,6);xe(t),be(null),ye(null)},onKeyPress:e=>{"Enter"===e.key&&6===ue.length&&ke()},className:"px-4 py-3 sm:px-3 sm:py-2 border border-gray-300 rounded-md text-base sm:text-sm flex-1 min-h-[44px] focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",maxLength:6,inputMode:"numeric"}),s.jsx("button",{onClick:ke,disabled:6!==ue.length||he,className:"px-5 py-3 sm:px-4 sm:py-2 bg-gray-900 text-white text-base sm:text-sm font-medium rounded-md hover:bg-gray-800 active:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed min-h-[44px] transition-colors touch-manipulation",children:he?"CHECKING...":"CHECK"})]}),fe&&s.jsx("div",{className:"text-sm text-red-600 mt-2",children:fe}),pe&&s.jsx("div",{className:"mt-3 p-3 bg-green-50 border border-green-200 rounded-md",children:(null==(o=pe.data)?void 0:o.available_courier_companies)&&pe.data.available_courier_companies.length>0?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"text-sm font-semibold text-green-800",children:["✓ Delivery Available to ",ue]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-sm text-green-700 font-medium",children:"Dispatch: Next working day"}),s.jsx("div",{className:"text-sm text-green-700 font-medium",children:"Delivered in: 3-5 days"})]})]}):s.jsx("div",{className:"text-sm text-orange-800",children:"⚠️ Delivery may not be available to this pincode. Please contact support."})})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Quantity:"}),s.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md",children:[s.jsx("button",{onClick:()=>$(Math.max(1,y-1)),className:"px-4 py-3 sm:px-3 sm:py-2 text-gray-600 hover:text-gray-900 active:bg-gray-100 min-h-[44px] min-w-[44px] flex items-center justify-center transition-colors","aria-label":"Decrease quantity",children:"-"}),s.jsx("span",{className:"px-4 py-2 text-gray-900 min-w-[3rem] text-center flex items-center justify-center min-h-[44px]",children:y}),s.jsx("button",{onClick:()=>$(y+1),className:"px-4 py-3 sm:px-3 sm:py-2 text-gray-600 hover:text-gray-900 active:bg-gray-100 min-h-[44px] min-w-[44px] flex items-center justify-center transition-colors","aria-label":"Increase quantity",children:"+"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsx("button",{onClick:()=>{if(m&&Ne)try{Ne(m,y),i.addToCart({...n(m),quantity:y});const e=document.querySelector("[data-add-to-cart]");if(e){const t=e.textContent;e.textContent="Added to Cart!",e.classList.add("bg-green-600","hover:bg-green-700"),e.classList.remove("bg-gray-900","hover:bg-gray-800"),setTimeout(()=>{e.textContent=t,e.classList.remove("bg-green-600","hover:bg-green-700"),e.classList.add("bg-gray-900","hover:bg-gray-800")},2e3)}}catch(e){}},"data-add-to-cart":!0,className:"flex-1 rounded-md px-4 sm:px-6 py-3.5 sm:py-3 font-semibold text-white transition-colors min-h-[48px] touch-manipulation text-base sm:text-sm",style:{backgroundColor:"rgb(75,151,201)",color:"#FFFFFF"},children:"ADD TO CART"}),s.jsx("button",{onClick:()=>{if(m&&Ne)try{Ne(m,y),window.location.hash="#/user/checkout"}catch(e){}},className:"flex-1 rounded-md px-4 sm:px-6 py-3.5 sm:py-3 font-semibold text-white transition-colors min-h-[48px] touch-manipulation text-base sm:text-sm",style:{backgroundColor:"rgb(75,151,201)",color:"#FFFFFF"},children:"BUY NOW"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(I,{productSlug:m.slug,productTitle:m.title,productImage:m.listImage,productDescription:m.description})}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"KEY SPECIFICATIONS"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(null==x?void 0:x["Net Weight (Product Only)"])&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Net Weight:"}),s.jsx("span",{className:"font-medium",children:x["Net Weight (Product Only)"]})]}),(null==x?void 0:x["Net Quantity (Content)"])&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Quantity:"}),s.jsx("span",{className:"font-medium",children:x["Net Quantity (Content)"]})]}),(null==x?void 0:x.SKU)&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"SKU:"}),s.jsx("span",{className:"font-medium",children:x.SKU})]}),(null==x?void 0:x["Brand Name"])&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Brand:"}),s.jsx("span",{className:"font-medium",children:x["Brand Name"]})]}),(null==x?void 0:x["Country of Origin"])&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Origin:"}),s.jsx("span",{className:"font-medium",children:x["Country of Origin"]})]}),(null==x?void 0:x["GST %"])&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"GST:"}),s.jsxs("span",{className:"font-medium",children:[x["GST %"],"%"]})]})]})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Earn upto 249 points on this purchase"]}),pe&&(null==(c=pe.data)?void 0:c.available_courier_companies)&&pe.data.available_courier_companies.length>0?s.jsxs("div",{className:"text-sm text-green-700 bg-green-50 px-3 py-2 rounded-md border border-green-200",children:[s.jsx("div",{className:"font-semibold mb-1",children:"✓ Delivery Available"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"Dispatch: Next working day"}),s.jsx("div",{className:"font-medium",children:"Delivered in: 3-5 days"})]})]}):null,s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"REASONS TO LOVE:"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-gray-400 mr-2",children:"•"}),s.jsx("span",{children:"Natural Ingredients"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-gray-400 mr-2",children:"•"}),s.jsx("span",{children:"Cruelty Free"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-gray-400 mr-2",children:"•"}),s.jsx("span",{children:"Paraben Free"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-gray-400 mr-2",children:"•"}),s.jsx("span",{children:"Suitable for All Skin Types"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-gray-400 mr-2",children:"•"}),s.jsx("span",{children:"Dermatologically Tested"})]})]})]}),(null==x?void 0:x["Special Attributes (Badges)"])&&s.jsx("div",{className:"flex flex-wrap gap-3 mb-6",children:x["Special Attributes (Badges)"].split("|").filter(e=>e.trim()).map((e,t)=>s.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-gray-100 rounded-full",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx("svg",{className:"w-3 h-3 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),s.jsx("span",{className:"text-xs font-medium text-gray-700",children:e.trim()})]},`badge-${t}-${e.trim().substring(0,10)}`))}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"border-b border-gray-200",children:[s.jsxs("button",{onClick:()=>We("description"),className:"flex items-center justify-between w-full py-3 text-left font-semibold text-gray-900",children:[s.jsx("span",{children:"DESCRIPTION"}),s.jsx("svg",{className:"h-5 w-5 transition-transform "+(G.description?"rotate-45":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})]}),G.description&&s.jsxs("div",{className:"pb-4 text-sm text-gray-600",children:[(null==x?void 0:x["Bullet Highlights (Short Desc.)"])&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Key Highlights"}),s.jsx("ul",{className:"list-disc list-inside space-y-1",children:x["Bullet Highlights (Short Desc.)"].split("•").filter(e=>e.trim()).map((e,t)=>s.jsx("li",{children:e.trim()},`highlight-${t}`))})]}),s.jsx("p",{className:"mb-4",children:(null==x?void 0:x["Product Description (Long)"])||(null==x?void 0:x["Long Description"])||m.description||"Premium natural skincare product designed for optimal skin health and radiance."}),(null==x?void 0:x["Subtitle / Tagline"])&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Key Features"}),s.jsx("p",{children:x["Subtitle / Tagline"]})]})]})]}),s.jsxs("div",{className:"border-b border-gray-200",children:[s.jsxs("button",{onClick:()=>We("suitablefor"),className:"flex items-center justify-between w-full py-3 text-left font-semibold text-gray-900",children:[s.jsx("span",{children:"SUITABLE FOR"}),s.jsx("svg",{className:"h-5 w-5 transition-transform "+(G.suitablefor?"rotate-45":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})]}),G.suitablefor&&s.jsxs("div",{className:"pb-4 text-sm text-gray-600",children:[s.jsx("p",{className:"mb-4",children:(null==x?void 0:x["Skin/Hair Type"])||"All Skin Types"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{children:"All Skin Types"})]},"skin-type-all"),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{children:"Sensitive Skin"})]},"skin-type-sensitive"),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{children:"Dry Skin"})]},"skin-type-dry"),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{children:"Oily Skin"})]},"skin-type-oily")]})]})]}),s.jsxs("div",{className:"border-b border-gray-200",children:[s.jsxs("button",{onClick:()=>We("howtouse"),className:"flex items-center justify-between w-full py-3 text-left font-semibold text-gray-900",children:[s.jsx("span",{children:"HOW TO USE"}),s.jsx("svg",{className:"h-5 w-5 transition-transform "+(G.howtouse?"rotate-45":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})]}),G.howtouse&&s.jsx("div",{className:"pb-4 text-sm text-gray-600",children:s.jsx("ol",{className:"list-decimal list-inside space-y-1",children:(null==x?void 0:x["How to Use (Steps)"])?x["How to Use (Steps)"].split(",").filter(e=>e.trim()).map((e,t)=>s.jsx("li",{children:e.trim()},`howtouse-csv-${t}-${e.trim().substring(0,10)}`)):["Cleanse your face with a gentle cleanser","Apply a small amount to face and neck","Gently massage in circular motions","Use twice daily for best results"].map((e,t)=>s.jsx("li",{children:e},`howtouse-default-${t}-${e.substring(0,10)}`))})})]}),s.jsxs("div",{className:"border-b border-gray-200",children:[s.jsxs("button",{onClick:()=>We("specifications"),className:"flex items-center justify-between w-full py-3 text-left font-semibold text-gray-900",children:[s.jsx("span",{children:"PRODUCT SPECIFICATIONS"}),s.jsx("svg",{className:"h-5 w-5 transition-transform "+(G.specifications?"rotate-45":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})]}),G.specifications&&s.jsx("div",{className:"pb-4 text-sm text-gray-600",children:(()=>{const e=(null==m?void 0:m.details)?"string"==typeof m.details?JSON.parse(m.details):m.details:null,t=(t,s)=>(null==x?void 0:x[t])||(null==e?void 0:e[s])||null;return x||e?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[t("SKU","sku")&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"SKU:"}),s.jsx("span",{className:"font-medium",children:t("SKU","sku")})]}),t("HSN Code","hsn")&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"HSN Code:"}),s.jsx("span",{className:"font-medium",children:t("HSN Code","hsn")})]}),t("Brand Name","brand")&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Brand:"}),s.jsx("span",{className:"font-medium",children:t("Brand Name","brand")})]}),t("Net Quantity (Content)","netQuantity")&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Net Quantity:"}),s.jsx("span",{className:"font-medium",children:t("Net Quantity (Content)","netQuantity")})]}),t("Unit Count (Pack of)","unitCount")&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Unit Count:"}),s.jsx("span",{className:"font-medium",children:t("Unit Count (Pack of)","unitCount")})]}),((null==x?void 0:x["Product Category"])||(null==m?void 0:m.category))&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Category:"}),s.jsx("span",{className:"font-medium",children:(null==x?void 0:x["Product Category"])||(null==m?void 0:m.category)})]}),t("Product Sub-Category","subCategory")&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Sub-Category:"}),s.jsx("span",{className:"font-medium",children:t("Product Sub-Category","subCategory")})]}),t("Product Type","productType")&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Product Type:"}),s.jsx("span",{className:"font-medium",children:t("Product Type","productType")})]})]}),s.jsxs("div",{className:"space-y-2",children:[t("Net Weight (Product Only)","netWeight")&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Net Weight:"}),s.jsx("span",{className:"font-medium",children:t("Net Weight (Product Only)","netWeight")})]}),t("Dead Weight (Packaging Only)","deadWeight")&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Packaging Weight:"}),s.jsx("span",{className:"font-medium",children:t("Dead Weight (Packaging Only)","deadWeight")})]}),(t("GST %","gstPercent")||t("GST %","gst"))&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"GST:"}),s.jsxs("span",{className:"font-medium",children:[t("GST %","gstPercent")||t("GST %","gst"),"%"]})]}),t("Country of Origin","countryOfOrigin")&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Country of Origin:"}),s.jsx("span",{className:"font-medium",children:t("Country of Origin","countryOfOrigin")})]}),t("Manufacturer / Packer / Importer","manufacturer")&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Manufacturer:"}),s.jsx("span",{className:"font-medium",children:t("Manufacturer / Packer / Importer","manufacturer")})]}),((null==x?void 0:x.discount)||(null==e?void 0:e.discount))&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Discount:"}),s.jsxs("span",{className:"font-medium text-green-600",children:[(null==x?void 0:x.discount)||(null==e?void 0:e.discount),"% OFF"]})]}),t("Platform Category Mapping","platformCategory")&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Platform Category:"}),s.jsx("span",{className:"font-medium",children:t("Platform Category Mapping","platformCategory")})]})]})]}):s.jsx("div",{className:"text-gray-500 italic",children:"No specifications available for this product."})})()})]}),s.jsxs("div",{className:"border-b border-gray-200",children:[s.jsxs("button",{onClick:()=>We("packaging"),className:"flex items-center justify-between w-full py-3 text-left font-semibold text-gray-900",children:[s.jsx("span",{children:"PACKAGING DETAILS"}),s.jsx("svg",{className:"h-5 w-5 transition-transform "+(G.packaging?"rotate-45":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})]}),G.packaging&&s.jsx("div",{className:"pb-4 text-sm text-gray-600",children:(()=>{const e=(null==m?void 0:m.details)?"string"==typeof m.details?JSON.parse(m.details):m.details:null,t=(t,s)=>(null==x?void 0:x[t])||(null==e?void 0:e[s])||null;return x||e?s.jsxs("div",{className:"space-y-2",children:[t("Package Content Details","packageContent")&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Package Content:"}),s.jsx("span",{className:"font-medium",children:t("Package Content Details","packageContent")})]}),t("Inner Packaging Type","innerPackaging")&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Inner Packaging:"}),s.jsx("span",{className:"font-medium",children:t("Inner Packaging Type","innerPackaging")})]}),t("Outer Packaging Type","outerPackaging")&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Outer Packaging:"}),s.jsx("span",{className:"font-medium",children:t("Outer Packaging Type","outerPackaging")})]}),t("Hazardous / Fragile (Y/N)","hazardous")&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Hazardous/Fragile:"}),s.jsx("span",{className:"font-medium",children:t("Hazardous / Fragile (Y/N)","hazardous")})]})]}):s.jsx("div",{className:"text-gray-500 italic",children:"No packaging details available for this product."})})()})]}),(null==x?void 0:x["Video Links"])&&s.jsxs("div",{className:"border-b border-gray-200",children:[s.jsxs("button",{onClick:()=>We("videos"),className:"flex items-center justify-between w-full py-3 text-left font-semibold text-gray-900",children:[s.jsx("span",{children:"VIDEO LINKS"}),s.jsx("svg",{className:"h-5 w-5 transition-transform "+(G.videos?"rotate-45":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})]}),G.videos&&s.jsx("div",{className:"pb-4 text-sm text-gray-600",children:s.jsx("div",{className:"space-y-2",children:x["Video Links"].split(",").filter(e=>e.trim()).map((e,t)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("svg",{className:"w-4 h-4 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"})}),s.jsxs("a",{href:e.trim(),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:["Watch Video ",t+1]})]},`video-${t}-${e.trim().substring(0,20)}`))})})]})]}),s.jsx("div",{className:"flex items-center justify-center mt-6",children:s.jsxs("div",{className:"flex items-center space-x-2 px-4 py-2 bg-green-100 rounded-full",children:[s.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),s.jsx("span",{className:"text-sm font-semibold text-green-800",children:"Nature's Finest, Blended with Care"})]})}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Country Of Origin: ",(null==x?void 0:x["Country of Origin"])||"India"]}),s.jsxs("div",{className:"bg-gray-100 px-4 py-3 rounded-md",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-1",children:"WELCOME OFFER"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Use Code HELLO10 and enjoy flat 10% off on your first purchase."})]})]})]}),m.bannerImages&&m.bannerImages.length>0&&s.jsx("section",{className:"w-full overflow-hidden",children:(()=>{const e=m.bannerImages.filter(e=>e&&"string"==typeof e&&e.trim().length>0),t=[...new Map(e.map((e,t)=>[e,t])).keys()];return t.map((e,a)=>{const l=/\.(mp4|webm|ogg)(\?|$)/i.test(e);return s.jsx("div",{className:"w-full overflow-hidden",style:{marginBottom:a<t.length-1?"2px":"0"},children:l?s.jsx("video",{src:e,className:"w-full h-auto object-cover block",controls:!0,autoPlay:!0,muted:!0,loop:!0,onError:e=>{e.currentTarget.style.display="none"}}):s.jsx("img",{src:e,alt:`${m.title} Banner ${a+1}`,className:"w-full h-auto object-cover block",loading:"lazy",decoding:"async",onError:e=>{e.currentTarget.style.display="none"}})},`${e}-${a}`)})})()}),(null==x?void 0:x["Key Ingredients"])&&(()=>{const e=l(),t=t=>{if(!t||"string"!=typeof t)return"";if(/^https?:\/\//i.test(t))return t;return`${e.replace(/\/$/,"")}${t.startsWith("/")?t:`/${t}`}`},a=x["Key Ingredients"].split(",").map(e=>e.trim()).filter(e=>e),r=x["Ingredient Benefits"]?x["Ingredient Benefits"].split(",").map(e=>e.trim()).filter(e=>e):[],i={};return a.forEach((e,t)=>{r[t]&&(i[e]=r[t])}),s.jsx("section",{className:"py-16 bg-gray-50 w-full overflow-hidden",children:s.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 w-full",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 text-center mb-8 sm:mb-12 px-4",children:"INGREDIENTS"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4 sm:gap-6 w-full",children:a.map((e,a)=>{const l=(e=>{let s=e.trim().toLowerCase();s=s.replace(/\([^)]*\)/g,"").trim();const a={"blue tea":"/IMAGES/blue pea.webp",aprajita:"/IMAGES/blue pea.webp","blue pea":"/IMAGES/blue pea.webp",charcoal:"/IMAGES/charcoal.webp","activated charcoal":"/IMAGES/charcoal.webp",yuja:"/IMAGES/yuja.webp",citron:"/IMAGES/yuja.webp",papaya:"/IMAGES/papaya.webp","shea butter":"/IMAGES/shea butter.webp","coconut oil":"/IMAGES/coconut-oil.webp",coconut:"/IMAGES/coconut-oil.webp",mulberry:"/IMAGES/mulberry.webp",grapeseed:"/IMAGES/grapseed.webp","grape seed":"/IMAGES/grapseed.webp","aha & bha":"/IMAGES/AHA & BHA.webp",aha:"/IMAGES/AHA & BHA.webp",bha:"/IMAGES/AHA & BHA.webp","alpha hydroxy acid":"/IMAGES/AHA & BHA.webp","beta hydroxy acid":"/IMAGES/AHA & BHA.webp",amla:"/IMAGES/Amla.webp","indian gooseberry":"/IMAGES/Amla.webp","argan oil":"/IMAGES/Argan Oils.webp","argan oils":"/IMAGES/Argan Oils.webp",biotin:"/IMAGES/Biotin.webp",blueberry:"/IMAGES/Blueberry.webp",brahmi:"/IMAGES/Brahmi.webp",flaxseed:"/IMAGES/Flaxseed.webp","flax seed":"/IMAGES/Flaxseed.webp","green tea":"/IMAGES/Green Tea.webp","juniper berry":"/IMAGES/Juniper Berry.webp","kakadu plum":"/IMAGES/Kakadu Plum.webp","kale leaf":"/IMAGES/Kale Leaf.webp",kale:"/IMAGES/Kale Leaf.webp","kaolin clay":"/IMAGES/Kaolin Clay.webp",kaolin:"/IMAGES/Kaolin Clay.webp",mustard:"/IMAGES/Mustard.webp","olive squalane":"/IMAGES/Olive Squalane.webp",squalane:"/IMAGES/Olive Squalane.webp",palmetto:"/IMAGES/Palmetto.webp","saw palmetto":"/IMAGES/Palmetto.webp",quinoa:"/IMAGES/Quinoa.webp","rice powder":"/IMAGES/Rice Powder.webp",saffron:"/IMAGES/Saffron.webp",sesame:"/IMAGES/Sesame.webp","sesame seed":"/IMAGES/Sesame.webp","tapioca starch":"/IMAGES/Tapioca Starch.webp",tapioca:"/IMAGES/Tapioca Starch.webp","tea tree":"/IMAGES/Tea Tree.webp","tea tree oil":"/IMAGES/Tea Tree.webp","vitamin c & b5":"/IMAGES/Vitamin C & B5.webp","vitamin c":"/IMAGES/Vitamin C & B5.webp","vitamin b5":"/IMAGES/Vitamin C & B5.webp","pantothenic acid":"/IMAGES/Vitamin C & B5.webp","white tea":"/IMAGES/white tea.webp","yellow dragon":"/IMAGES/Yellow Dragon.webp"};if(a[s])return t(a[s]);for(const[r,i]of Object.entries(a))if(s.includes(r)||r.includes(s))return t(i);const l=e.trim().toLowerCase();for(const[r,i]of Object.entries(a))if(l.includes(r))return t(i);return null})(e),r=i[e]||"";return s.jsxs("div",{className:"text-center w-full",children:[s.jsx("div",{className:"w-20 sm:w-24 md:w-28 mx-auto mb-4 bg-white rounded-full shadow-md overflow-hidden relative",style:{aspectRatio:"1 / 1",borderRadius:"50%",flexShrink:0},children:l?s.jsx("img",{src:l,alt:e,className:"absolute inset-0 object-cover rounded-full",style:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center",borderRadius:"50%"},loading:"lazy",decoding:"async",onError:e=>{const t=e.target;t.style.display="none";const s=t.parentElement;s&&(s.innerHTML='\n                                      <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center">\n                                        <svg class="w-6 h-6 text-green-600" fill="currentColor" viewBox="0 0 20 20">\n                                          <path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd" />\n                                        </svg>\n                                      </div>\n                                    ')}}):s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})})})}),s.jsx("h3",{className:"font-semibold text-gray-900 text-xs sm:text-sm md:text-base px-2 break-words mb-1",children:e.trim()}),r&&s.jsx("p",{className:"text-xs text-gray-600 px-2 break-words",children:r})]},`ingredient-${a}-${e.substring(0,10)}`)})})]})})})(),s.jsx("section",{className:"py-16 bg-white",children:s.jsx("div",{className:"mx-auto max-w-7xl px-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"PLANT-BASED SKINCARE THAT WORKS FOR EVERY SKIN TYPE"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Our carefully curated ingredients work together to provide effective, natural skincare solutions that deliver real results for all skin types."})]})})}),s.jsxs("section",{className:"border-t border-gray-200 pt-12 mb-16",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 text-center mb-8",children:"YOU MAY ALSO LIKE"}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>$e(e=>Math.max(0,e-1)),className:"absolute left-2 top-1/2 -translate-y-1/2 z-30 bg-white rounded-full p-3 shadow-lg hover:shadow-xl transition-all duration-300 "+(Be?"opacity-100 hover:scale-110 cursor-pointer":"opacity-0 pointer-events-none"),style:{backgroundColor:"#fff"},"aria-label":"Previous",disabled:!Be,children:s.jsx(f,{className:"w-6 h-6",style:{color:"rgb(75,151,201)"}})}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:Oe.map((e,t)=>s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:s.jsxs("a",{href:`#/user/product/${e.slug}`,children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:e.image,alt:e.title,className:"w-full h-48 object-cover"}),s.jsx("div",{className:"absolute top-2 left-2",children:s.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-xs font-medium rounded",children:"NEW LAUNCH"})}),s.jsx("button",{className:"absolute top-2 right-2 p-1 bg-white rounded-full shadow-md",children:s.jsx("svg",{className:"h-4 w-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2",children:e.title}),(()=>{const a=e.slug||"",l=Pe[a],r=(null==l?void 0:l.average_rating)>0?l.average_rating:N(a),i=(null==l?void 0:l.review_count)>0?l.review_count:k(a),n=(null==l?void 0:l.verified_count)>0||S(a);return r>0?s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((a,l)=>{const i=l<Math.round(r);return s.jsx("svg",{className:"w-4 h-4 "+(i?"text-yellow-400":"text-gray-300"),fill:i?"currentColor":"none",stroke:i?"none":"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},`related-${e.id||e.slug||t}-rating-${l}`)})}),s.jsxs("span",{className:"text-sm text-gray-600 ml-2",children:[r.toFixed(1)," (",i,")"]}),n&&s.jsx(v,{size:"sm",className:"ml-1.5"})]}):null})(),s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm line-through text-gray-500",children:e.originalPrice}),s.jsx("span",{className:"font-bold text-gray-900",children:e.price})]}),s.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs font-medium rounded",children:[e.discount,"% OFF"]})]}),s.jsx("button",{className:"w-full py-2 font-medium rounded-md",style:{backgroundColor:"rgb(75,151,201)",color:"#FFFFFF"},children:"ADD TO CART"})]})]})},`related-product-${e.id||e.slug||"no-id"}-${t}`))}),s.jsx("button",{onClick:()=>$e(e=>Math.min(Te-1,e+1)),className:"absolute right-2 top-1/2 -translate-y-1/2 z-30 bg-white rounded-full p-3 shadow-lg hover:shadow-xl transition-all duration-300 "+(Re?"opacity-100 hover:scale-110 cursor-pointer":"opacity-0 pointer-events-none"),style:{backgroundColor:"#fff"},"aria-label":"Next",disabled:!Re,children:s.jsx(b,{className:"w-6 h-6",style:{color:"rgb(75,151,201)"}})})]})]}),m.id&&s.jsxs(s.Fragment,{children:[s.jsx(d.Suspense,{fallback:s.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:"Loading related products..."}),children:s.jsx(A,{productId:m.id,type:"related",title:"Complete the Routine"})}),s.jsx(d.Suspense,{fallback:s.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:"Loading recommendations..."}),children:s.jsx(A,{productId:m.id,type:"recommended",title:"You May Also Like"})})]}),s.jsx(d.Suspense,{fallback:s.jsx("div",{className:"h-64 flex items-center justify-center",children:"Loading recently viewed..."}),children:s.jsx(M,{limit:8})}),s.jsxs("section",{className:"border-t border-gray-200 pt-12 mb-16",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 text-center mb-8",children:"Customer Reviews"}),s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((e,t)=>{const a=De||0,l=t<Math.round(a),r=t<a&&t+1>a;return s.jsx("svg",{className:"h-5 w-5 "+(l?"fill-current":r?"fill-current opacity-50":"text-gray-300"),viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},`reviews-overall-${t}`)})}),s.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:[De>0?De.toFixed(2):"0.00"," out of 5"]}),s.jsxs("span",{className:"text-sm text-gray-600",children:["Based on ",ze," review",1!==ze?"s":""]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>{if(!ve)return alert("Please login to write a review"),void(window.location.hash="#/user/login");J(!0)},className:"px-4 py-2 bg-gray-900 text-white text-sm font-medium rounded-md hover:bg-gray-800 transition-colors",children:"Write a review"}),s.jsx("button",{onClick:()=>Z(!0),className:"px-4 py-2 border border-gray-300 text-gray-900 text-sm font-medium rounded-md hover:bg-gray-50 transition-colors",children:"Ask a question"})]})]}),s.jsx("div",{className:"space-y-4",children:se?s.jsx("p",{className:"text-gray-600 text-center py-8",children:"Loading reviews..."}):0===_e.length?s.jsx("p",{className:"text-gray-600 text-center py-8",children:"No reviews yet. Be the first to review this product!"}):_e.slice(0,le).map((e,t)=>s.jsxs("div",{className:"p-4 border rounded-lg "+(e.isFeatured?"border-yellow-300 bg-yellow-50":"border-gray-200"),children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-semibold text-gray-600",children:e.name.charAt(0).toUpperCase()})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:e.name}),e.isVerified&&s.jsx(v,{size:"sm",className:"ml-1"}),e.isFeatured&&s.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-700 px-2 py-0.5 rounded",children:"Featured"})]}),s.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((a,l)=>s.jsx("svg",{className:"h-4 w-4 "+(l<(e.rating||0)?"fill-current":"text-gray-300"),viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},`review-${e.id||t}-rating-${l}`))})]})]}),s.jsx("span",{className:"text-sm text-gray-600",children:e.date})]}),e.title&&s.jsx("h5",{className:"font-semibold text-gray-900 mb-1",children:e.title}),s.jsx("p",{className:"text-gray-700",children:e.comment})]},`review-${e.id||"no-id"}-${t}`))}),_e.length>le&&s.jsx("div",{className:"text-center mt-8",children:s.jsx("button",{onClick:()=>re(le+5),className:"px-6 py-2 bg-gray-900 text-white font-medium rounded-md hover:bg-gray-800 transition-colors",children:"Load More"})})]})]})}),m&&s.jsx(C,{product:{id:m.id,title:m.title,price:m.price,slug:m.slug,listImage:m.listImage},quantity:y}),z&&m&&s.jsx(E,{images:(()=>{const e=m.listImage?[m.listImage,...m.pdpImages||[]]:m.pdpImages||[];return[...new Map(e.filter(Boolean).map((e,t)=>[e,t])).keys()]})(),currentIndex:H,onClose:()=>W(!1),onIndexChange:e=>{U(e)}}),Y&&m&&s.jsx(T,{product:m,user:we,onClose:()=>J(!1),onSuccess:()=>{J(!1),(null==m?void 0:m.id)&&Ie(m.id)}}),X&&m&&s.jsx(F,{product:m,user:we,onClose:()=>Z(!1)})]}):s.jsx("main",{className:"py-10 bg-white",children:s.jsx("div",{className:"mx-auto max-w-7xl px-4",children:s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Product not found"})})})}function T({product:e,user:t,onClose:l,onSuccess:r}){const[i,n]=d.useState(0),[c,m]=d.useState(0),[u,x]=d.useState(""),[h,g]=d.useState(""),[p,y]=d.useState(!1),[f,b]=d.useState("");return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",onClick:l,children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Write a Review"}),s.jsx("button",{onClick:l,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"mb-4",children:s.jsxs("p",{className:"text-gray-600",children:["Reviewing: ",s.jsx("span",{className:"font-semibold text-gray-900",children:e.title})]})}),s.jsxs("form",{onSubmit:async s=>{if(s.preventDefault(),b(""),i)if(u.trim())if(h.trim())if(y(!0),e.id)try{await a.reviews.createProductReview({product_id:e.id,customer_email:(null==t?void 0:t.email)||"",customer_name:(null==t?void 0:t.name)||"",rating:i,title:u.trim()||void 0,review_text:h.trim()||void 0,images:[]});try{const{invalidateReviewStatsCache:e}=await o(async()=>{const{invalidateReviewStatsCache:e}=await import("./VerifiedBadge-BHfgN61c.js").then(e=>e.a);return{invalidateReviewStatsCache:e}},__vite__mapDeps([8,2,1,3,4,5]));e()}catch(l){}alert("Review submitted successfully! Thank you for your feedback."),r()}catch(n){b(n.message||"Failed to submit review. Please try again.")}finally{y(!1)}else b("Product ID is missing");else b("Please enter your review");else b("Please enter a review title");else b("Please select a rating")},className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Rating ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[[1,2,3,4,5].map(e=>s.jsx("button",{type:"button",onClick:()=>n(e),onMouseEnter:()=>m(e),onMouseLeave:()=>m(0),className:"focus:outline-none",children:s.jsx("svg",{className:"w-10 h-10 transition-colors "+(e<=(c||i)?"text-yellow-400 fill-current":"text-gray-300"),fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})},e)),i>0&&s.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[1===i&&"Poor",2===i&&"Fair",3===i&&"Good",4===i&&"Very Good",5===i&&"Excellent"]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Review Title ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:u,onChange:e=>x(e.target.value),placeholder:"Give your review a title",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900",maxLength:100})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Your Review ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{value:h,onChange:e=>g(e.target.value),placeholder:"Share your experience with this product...",rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 resize-none",maxLength:1e3}),s.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[h.length,"/1000 characters"]})]}),f&&s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:s.jsx("p",{className:"text-sm text-red-600",children:f})}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:l,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",disabled:p,children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-6 py-2 bg-gray-900 text-white rounded-md hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:p,children:p?"Submitting...":"Submit Review"})]})]})]})})})}function F({product:e,user:t,onClose:a}){const[l,r]=d.useState((null==t?void 0:t.name)||""),[i,n]=d.useState((null==t?void 0:t.email)||""),[o,m]=d.useState((null==t?void 0:t.phone)||""),[u,x]=d.useState(""),[h,g]=d.useState(!1),[p,y]=d.useState("");return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",onClick:a,children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Ask a Question"}),s.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"mb-4",children:s.jsxs("p",{className:"text-gray-600",children:["Question about: ",s.jsx("span",{className:"font-semibold text-gray-900",children:e.title})]})}),s.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),y(""),l.trim())if(i.trim())if(u.trim())if(e.id){g(!0);try{await c.createQuestion({product_id:e.id,customer_name:l.trim(),customer_email:i.trim(),customer_phone:o.trim()||void 0,question:u.trim()}),alert("Question submitted successfully! We'll get back to you soon."),a()}catch(s){y(s.message||"Failed to submit question. Please try again.")}finally{g(!1)}}else y("Product ID is missing");else y("Please enter your question");else y("Please enter your email");else y("Please enter your name")},className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Your Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:l,onChange:e=>r(e.target.value),placeholder:"Enter your name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Your Email ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"email",value:i,onChange:e=>n(e.target.value),placeholder:"Enter your email",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Phone (Optional)"}),s.jsx("input",{type:"tel",value:o,onChange:e=>m(e.target.value),placeholder:"Enter your phone number",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Your Question ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{value:u,onChange:e=>x(e.target.value),placeholder:"Ask your question about this product...",rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 resize-none",required:!0,maxLength:500}),s.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[u.length,"/500 characters"]})]}),p&&s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:s.jsx("p",{className:"text-sm text-red-600",children:p})}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",disabled:h,children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-6 py-2 bg-gray-900 text-white rounded-md hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:h,children:h?"Submitting...":"Submit Question"})]})]})]})})})}export{$ as default};
