import{u as e,j as r}from"./index-DHQYPLw0.js";import{r as t}from"./react-vendor-D-XgqoRR.js";import{C as a,U as s,g as n,l as o,h as l,E as d,i,d as c}from"./ui-vendor-upD1L4Zc.js";function u({children:u,fallback:x}){const{isAuthenticated:m,isLoading:g}=e(),[b,y]=t.useState(!1),[h,p]=t.useState(!1),[f,j]=t.useState(""),[k,v]=t.useState(""),[w,N]=t.useState(!1),[C,S]=t.useState({name:"",email:"",password:"",confirmPassword:"",phone:"",address:{street:"",city:"",state:"",zip:""}}),[P,T]=t.useState(!1),[z,E]=t.useState(""),{login:L,signup:q,error:A}=e();return g?r.jsx("div",{className:"flex items-center justify-center min-h-[200px]"}):m?r.jsx(r.Fragment,{children:u}):x?r.jsx(r.Fragment,{children:x}):r.jsxs(r.Fragment,{children:[b&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-orange-100 dark:bg-orange-900 rounded-full flex items-center justify-center",children:r.jsx(a,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Login Required"}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Please login or signup to continue"})]})]}),r.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("div",{className:"flex rounded-lg bg-gray-100 dark:bg-gray-700 p-1 mb-6",children:[r.jsx("button",{onClick:()=>p(!1),className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors "+(h?"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white":"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm"),children:"Sign In"}),r.jsx("button",{onClick:()=>p(!0),className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors "+(h?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:"Sign Up"})]}),h?r.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),E(""),C.password===C.confirmPassword){T(!0);try{await q({name:C.name,email:C.email,password:C.password,phone:C.phone,address:{street:"",city:"",state:"",zip:""}})?(y(!1),S({name:"",email:"",password:"",confirmPassword:"",phone:"",address:{street:"",city:"",state:"",zip:""}})):E(A||"Signup failed")}catch(r){E("Signup failed. Please try again.")}finally{T(!1)}}else E("Passwords do not match")},className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Full Name"}),r.jsxs("div",{className:"relative",children:[r.jsx(s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 z-10 pointer-events-none"}),r.jsx("input",{type:"text",required:!0,value:C.name,onChange:e=>S(r=>({...r,name:e.target.value})),className:"pl-11 pr-3 w-full rounded-md border border-gray-300 dark:border-gray-600 py-2.5 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter your full name"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),r.jsxs("div",{className:"relative",children:[r.jsx(n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 z-10 pointer-events-none"}),r.jsx("input",{type:"email",required:!0,value:C.email,onChange:e=>S(r=>({...r,email:e.target.value})),className:"pl-11 pr-3 w-full rounded-md border border-gray-300 dark:border-gray-600 py-2.5 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter your email"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number"}),r.jsxs("div",{className:"relative",children:[r.jsx(o,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 z-10 pointer-events-none"}),r.jsx("input",{type:"tel",required:!0,value:C.phone,onChange:e=>S(r=>({...r,phone:e.target.value})),className:"pl-11 pr-3 w-full rounded-md border border-gray-300 dark:border-gray-600 py-2.5 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter your phone number"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(l,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 z-10 pointer-events-none"}),r.jsx("input",{type:w?"text":"password",required:!0,value:C.password,onChange:e=>S(r=>({...r,password:e.target.value})),className:"pl-11 pr-11 w-full rounded-md border border-gray-300 dark:border-gray-600 py-2.5 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Create a password"}),r.jsx("button",{type:"button",onClick:()=>N(!w),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 z-10",children:w?r.jsx(d,{className:"h-4 w-4"}):r.jsx(i,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(l,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 z-10 pointer-events-none"}),r.jsx("input",{type:"password",required:!0,value:C.confirmPassword,onChange:e=>S(r=>({...r,confirmPassword:e.target.value})),className:"pl-11 pr-3 w-full rounded-md border border-gray-300 dark:border-gray-600 py-2.5 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Confirm your password"})]})]}),z&&r.jsx("div",{className:"text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 p-3 rounded-lg text-sm",children:z}),r.jsx("button",{type:"submit",disabled:P,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"rgb(75,151,201)"},onMouseEnter:e=>!e.currentTarget.disabled&&(e.currentTarget.style.backgroundColor="rgb(60,120,160)"),onMouseLeave:e=>!e.currentTarget.disabled&&(e.currentTarget.style.backgroundColor="rgb(75,151,201)"),onFocus:e=>e.currentTarget.style.outline="2px solid rgb(75,151,201)",onBlur:e=>e.currentTarget.style.outline="none",children:P?"Creating Account...":"Create Account"})]}):r.jsxs("form",{onSubmit:async e=>{e.preventDefault(),E(""),T(!0);try{await L(f,k)?(y(!1),j(""),v("")):E(A||"Login failed")}catch(r){E("Login failed. Please try again.")}finally{T(!1)}},className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),r.jsxs("div",{className:"relative",children:[r.jsx(n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 z-10 pointer-events-none"}),r.jsx("input",{type:"email",required:!0,value:f,onChange:e=>j(e.target.value),className:"pl-11 pr-3 w-full rounded-md border border-gray-300 dark:border-gray-600 py-2.5 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter your email"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(l,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 z-10 pointer-events-none"}),r.jsx("input",{type:w?"text":"password",required:!0,value:k,onChange:e=>v(e.target.value),className:"pl-11 pr-11 w-full rounded-md border border-gray-300 dark:border-gray-600 py-2.5 dark:bg-gray-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter your password"}),r.jsx("button",{type:"button",onClick:()=>N(!w),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 z-10",children:w?r.jsx(d,{className:"h-4 w-4"}):r.jsx(i,{className:"h-4 w-4"})})]})]}),z&&r.jsx("div",{className:"text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 p-3 rounded-lg text-sm",children:z}),r.jsx("button",{type:"submit",disabled:P,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"rgb(75,151,201)"},onMouseEnter:e=>!e.currentTarget.disabled&&(e.currentTarget.style.backgroundColor="rgb(60,120,160)"),onMouseLeave:e=>!e.currentTarget.disabled&&(e.currentTarget.style.backgroundColor="rgb(75,151,201)"),onFocus:e=>e.currentTarget.style.outline="2px solid rgb(75,151,201)",onBlur:e=>e.currentTarget.style.outline="none",children:P?"Signing In...":"Sign In"})]}),r.jsx("div",{className:"text-center mt-4",children:r.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[h?"Already have an account?":"Don't have an account?"," ",r.jsx("button",{onClick:()=>p(!h),className:"font-medium text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300",children:h?"Sign in":"Sign up"})]})})]})})}),r.jsx("div",{className:"text-center py-12 px-4",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"w-16 h-16 bg-orange-100 dark:bg-orange-900 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(c,{className:"w-8 h-8 text-orange-600 dark:text-orange-400"})}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Login Required"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Please login or create an account to purchase products and access your cart."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[r.jsx("button",{onClick:()=>{p(!1),y(!0)},className:"px-6 py-3 text-white rounded-lg transition-colors font-medium",style:{backgroundColor:"rgb(75,151,201)"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="rgb(60,120,160)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="rgb(75,151,201)",children:"Sign In"}),r.jsx("button",{onClick:()=>{p(!0),y(!0)},className:"px-6 py-3 border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors font-medium",children:"Create Account"})]})]})})]})}export{u as A};
