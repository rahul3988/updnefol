import{c as e,d as t,u as s,e as a,j as r}from"./index-NAoTB2tM.js";import{r as l}from"./react-vendor-D-XgqoRR.js";import{e as i,s as o,d,K as n}from"./ui-vendor-30WxTOTI.js";import"./socket-vendor-CUkmNz_4.js";function c(){const{items:c,loading:m,refreshWishlist:x,removeFromWishlist:h}=e(),{addItem:u}=t(),{isAuthenticated:g}=s(),{theme:b}=a(),[p,j]=l.useState(null);l.useEffect(()=>{x()},[]);return g?m?r.jsx("main",{className:"py-10 dark:bg-slate-900 min-h-screen",children:r.jsx("div",{className:"max-w-6xl mx-auto px-4",children:r.jsx("div",{className:"flex items-center justify-center py-16"})})}):r.jsx("main",{className:"py-10 dark:bg-slate-900 min-h-screen",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("a",{href:"#/user/profile",className:"inline-flex items-center text-slate-600 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 mb-4",children:[r.jsx(o,{className:"h-5 w-5 mr-2"}),"Back to Profile"]}),r.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100 mb-2",children:"My Wishlist"}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:0===c.length?"You have no items in your wishlist yet":`${c.length} item${c.length>1?"s":""} saved for later`})]}),0===c.length?r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm p-12 text-center",children:[r.jsx(i,{className:"h-20 w-20 text-slate-300 dark:text-slate-600 mx-auto mb-6"}),r.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 mb-2",children:"Your Wishlist is Empty"}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"Start saving products you love to your wishlist!"}),r.jsx("a",{href:"#/user/shop",className:"inline-block px-6 py-3 text-white rounded-lg transition-colors",style:{backgroundColor:"rgb(75,151,201)"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="rgb(60,120,160)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="rgb(75,151,201)",children:"Start Shopping"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(e=>r.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm overflow-hidden hover:shadow-md transition-shadow",children:[r.jsx("a",{href:`#/user/product/${e.slug}`,children:r.jsx("div",{className:"relative",children:r.jsx("img",{src:e.list_image||"",alt:e.title,className:"w-full h-64 object-cover",onError:e=>{e.target.style.display="none"}})})}),r.jsxs("div",{className:"p-5",children:[r.jsx("a",{href:`#/user/product/${e.slug}`,children:r.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-2 line-clamp-2 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:e.title})}),r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsxs("span",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["â‚¹",e.price]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>(async e=>{try{j(e.id);const t={id:e.product_id,slug:e.slug,title:e.title,category:e.category,price:e.price,listImage:e.list_image,pdpImages:[],description:e.description};await u(t,1),alert(`${e.title} added to cart!`)}catch(t){alert(t.message||"Failed to add to cart")}finally{j(null)}})(e),disabled:p===e.id,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"rgb(75,151,201)",color:"#FFFFFF"},onMouseEnter:e=>{e.currentTarget.disabled||(e.currentTarget.style.backgroundColor="#3d7ba8")},onMouseLeave:e=>{e.currentTarget.disabled||(e.currentTarget.style.backgroundColor="rgb(75,151,201)")},children:[r.jsx(d,{className:"h-4 w-4"}),p===e.id?"Adding...":"Add to Cart"]}),r.jsx("button",{onClick:()=>(async e=>{if(confirm("Remove this item from your wishlist?"))try{await h(e)}catch(t){alert(t.message||"Failed to remove from wishlist")}})(e.product_id),className:"px-4 py-2 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors",title:"Remove from wishlist",children:r.jsx(n,{className:"h-4 w-4"})})]})]})]},e.id))})]})}):r.jsx("main",{className:"py-10 dark:bg-slate-900 min-h-screen",children:r.jsx("div",{className:"max-w-6xl mx-auto px-4",children:r.jsxs("div",{className:"text-center py-16",children:[r.jsx(i,{className:"h-16 w-16 text-slate-400 mx-auto mb-4"}),r.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 mb-4",children:"Please Login to View Your Wishlist"}),r.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"Sign in to save and manage your favorite products"}),r.jsx("a",{href:"#/user/login",className:"inline-block px-6 py-3 text-white rounded-lg transition-colors",style:{backgroundColor:"rgb(75,151,201)"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="rgb(60,120,160)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="rgb(75,151,201)",children:"Go to Login"})]})})})}export{c as default};
