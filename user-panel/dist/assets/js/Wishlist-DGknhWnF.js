import{c as e,d as s,u as t,e as a,j as l}from"./index-DrrFAOTZ.js";import{r as i}from"./react-vendor-D-XgqoRR.js";import{e as r,s as d,d as o,K as c}from"./ui-vendor-30WxTOTI.js";import"./socket-vendor-CUkmNz_4.js";function n(){const{items:n,loading:m,refreshWishlist:x,removeFromWishlist:h}=e(),{addItem:u}=s(),{isAuthenticated:g}=t(),{theme:b}=a(),[p,j]=i.useState(null);i.useEffect(()=>{x()},[]);return g?m?l.jsx("main",{className:"py-10 dark:bg-slate-900 min-h-screen",children:l.jsx("div",{className:"max-w-6xl mx-auto px-4",children:l.jsx("div",{className:"flex items-center justify-center py-16"})})}):l.jsx("main",{className:"py-10 dark:bg-slate-900 min-h-screen",children:l.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("a",{href:"#/user/profile",className:"inline-flex items-center text-slate-600 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 mb-4",children:[l.jsx(d,{className:"h-5 w-5 mr-2"}),"Back to Profile"]}),l.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100 mb-2",children:"My Wishlist"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:0===n.length?"You have no items in your wishlist yet":`${n.length} item${n.length>1?"s":""} saved for later`})]}),0===n.length?l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm p-12 text-center",children:[l.jsx(r,{className:"h-20 w-20 text-slate-300 dark:text-slate-600 mx-auto mb-6"}),l.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 mb-2",children:"Your Wishlist is Empty"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"Start saving products you love to your wishlist!"}),l.jsx("a",{href:"#/user/shop",className:"inline-block px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Start Shopping"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(e=>l.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm overflow-hidden hover:shadow-md transition-shadow",children:[l.jsx("a",{href:`#/user/product/${e.slug}`,children:l.jsx("div",{className:"relative",children:l.jsx("img",{src:e.list_image||"",alt:e.title,className:"w-full h-64 object-cover",onError:e=>{e.target.style.display="none"}})})}),l.jsxs("div",{className:"p-5",children:[l.jsx("a",{href:`#/user/product/${e.slug}`,children:l.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-2 line-clamp-2 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:e.title})}),l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("span",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["â‚¹",e.price]})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>(async e=>{try{j(e.id);const s={id:e.product_id,slug:e.slug,title:e.title,category:e.category,price:e.price,listImage:e.list_image,pdpImages:[],description:e.description};await u(s,1),alert(`${e.title} added to cart!`)}catch(s){alert(s.message||"Failed to add to cart")}finally{j(null)}})(e),disabled:p===e.id,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(o,{className:"h-4 w-4"}),p===e.id?"Adding...":"Add to Cart"]}),l.jsx("button",{onClick:()=>(async e=>{if(confirm("Remove this item from your wishlist?"))try{await h(e)}catch(s){alert(s.message||"Failed to remove from wishlist")}})(e.product_id),className:"px-4 py-2 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors",title:"Remove from wishlist",children:l.jsx(c,{className:"h-4 w-4"})})]})]})]},e.id))})]})}):l.jsx("main",{className:"py-10 dark:bg-slate-900 min-h-screen",children:l.jsx("div",{className:"max-w-6xl mx-auto px-4",children:l.jsxs("div",{className:"text-center py-16",children:[l.jsx(r,{className:"h-16 w-16 text-slate-400 mx-auto mb-4"}),l.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 mb-4",children:"Please Login to View Your Wishlist"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"Sign in to save and manage your favorite products"}),l.jsx("a",{href:"#/user/login",className:"inline-block px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Go to Login"})]})})})}export{n as default};
