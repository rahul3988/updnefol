import{b as e,g as t,j as s}from"./index-B8_a-Eni.js";import{r as l}from"./react-vendor-D-XgqoRR.js";import{P as a}from"./PricingDisplay-BS4C3-bW.js";import"./socket-vendor-CUkmNz_4.js";import"./ui-vendor-CK_V9qH3.js";function r(){const[r,i]=l.useState([]),[o,n]=l.useState(!0),[d,c]=l.useState(null);l.useEffect(()=>{m()},[]);const m=async()=>{try{n(!0),c(null);const s=await e.collections.getCollections("new_arrivals",!0);if(s.success&&s.data&&s.data.length>0){const e=t(),l=t=>{if(!t)return"";if(/^https?:\/\//i.test(t))return t;return`${e.replace(/\/$/,"")}${t.startsWith("/")?t:`/${t}`}`},a=s.data.filter(e=>e.is_published&&e.product_id).map(e=>{const t=e.image_url||e.product_image||"";return{id:e.product_id,slug:e.product_slug||"",title:e.product_title||e.title||"",category:e.product_category||"",price:e.product_price||"",listImage:l(t),list_image:l(t),created_at:e.created_at||e.updated_at||(new Date).toISOString(),details:{},order_index:e.order_index||0}});i(a)}else i([])}catch(s){c("Unable to load new arrivals. Please try again later."),i([])}finally{n(!1)}},x=l.useMemo(()=>Array.isArray(r)?[...r].sort((e,t)=>{const s=e.order_index??999,l=t.order_index??999;if(s!==l)return s-l;const a=new Date(e.created_at||0).getTime();return new Date(t.created_at||0).getTime()-a}).slice(0,12):[],[r]);return s.jsx("main",{className:"min-h-screen bg-gradient-to-b from-white to-slate-100 py-12",children:s.jsxs("div",{className:"mx-auto max-w-7xl px-4",children:[s.jsxs("header",{className:"mb-10 text-center",children:[s.jsx("span",{className:"inline-flex items-center rounded-full bg-emerald-100 px-4 py-1 text-sm font-semibold text-emerald-600",children:"Fresh Launches"}),s.jsx("h1",{className:"mt-4 text-4xl font-bold tracking-tight text-slate-900",children:"New Arrivals"}),s.jsx("p",{className:"mx-auto mt-3 max-w-2xl text-lg text-slate-600",children:"Inspired by launchpads from Lakmé, Sugar, and Minimalist, discover the newest clean formulations and limited collections added to Nefol this month."})]}),d&&s.jsx("div",{className:"mb-8 rounded-xl border border-red-200 bg-red-50 p-4 text-red-700",children:d}),0===x.length&&!o&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-lg text-slate-600",children:"No new arrivals at the moment."}),s.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Check back soon for exciting new products!"})]}),s.jsx("section",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:o?Array.from({length:9}).map((e,t)=>s.jsx("div",{className:"h-80 animate-pulse rounded-3xl bg-slate-100"},t)):x.length>0?x.map(e=>s.jsxs("article",{className:"group flex h-full flex-col overflow-hidden rounded-3xl border border-slate-200 bg-white shadow-sm transition hover:-translate-y-1 hover:shadow-lg",children:[s.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-slate-100",children:[s.jsx("img",{src:e.listImage||e.list_image||"",alt:e.title,className:"w-full h-full object-cover transition duration-700 group-hover:scale-105",style:{aspectRatio:"4/3"},onError:e=>{e.currentTarget.style.display="none"}}),s.jsx("span",{className:"absolute left-5 top-5 rounded-full bg-emerald-500 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-white",children:"Just Dropped"})]}),s.jsxs("div",{className:"flex flex-1 flex-col p-6",children:[s.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-emerald-600",children:e.category||"New in Skincare"}),s.jsx("h2",{className:"mt-2 text-xl font-semibold text-slate-900",children:e.title}),s.jsx("div",{className:"mt-3 text-sm text-slate-500",children:s.jsx(a,{product:{price:e.price,details:e.details},csvProduct:e.csvProduct})}),s.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[s.jsx("button",{onClick:()=>window.location.hash=`#/user/product/${e.slug}`,className:"rounded-full border border-slate-200 px-4 py-2 text-sm font-medium text-slate-700 transition hover:border-slate-900 hover:text-slate-900",children:"View Details"}),s.jsx("button",{onClick:()=>window.location.hash="#/user/checkout?buy="+e.slug,className:"rounded-full bg-slate-900 px-4 py-2 text-sm font-semibold text-white transition hover:bg-slate-700",children:"Shop Now"})]})]})]},e.slug)):null}),s.jsx("section",{className:"mt-16 rounded-3xl border border-slate-200 bg-white p-8 shadow-sm",children:s.jsxs("div",{className:"grid gap-8 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-slate-900",children:"Launch Alerts & Early Access"}),s.jsx("p",{className:"mt-3 text-slate-600",children:"Subscribe for early-bird drops, limited collaborations, and backstage launch events similar to Forest Essentials Ritual Drops and Kama Ayurveda Heritage Edits."}),s.jsxs("form",{className:"mt-6 flex flex-col gap-3 sm:flex-row",children:[s.jsx("input",{type:"email",placeholder:"Enter email for launch alerts",className:"w-full rounded-full border border-slate-200 px-4 py-3 text-sm focus:border-slate-900 focus:outline-none focus:ring-2 focus:ring-slate-200"}),s.jsx("button",{className:"rounded-full bg-slate-900 px-6 py-3 text-sm font-semibold text-white transition hover:bg-slate-700",children:"Notify Me"})]})]}),s.jsxs("div",{className:"rounded-3xl bg-slate-900 p-6 text-white",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Pro Tip"}),s.jsx("p",{className:"mt-3 text-sm text-slate-200",children:"Pair new arrivals with our hero staples for 360° rituals. Earn double Nefol Coins when you checkout with any launch bundles during the first 14 days."}),s.jsx("button",{onClick:()=>window.location.hash="#/user/loyalty-rewards",className:"mt-5 rounded-full bg-white px-4 py-2 text-sm font-semibold text-slate-900 transition hover:bg-slate-100",children:"See Loyalty Perks"})]})]})})]})})}export{r as default};
