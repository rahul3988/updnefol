import{d as e,u as a,b as t,g as s,i as r,r as l,j as i,p as n,n as d}from"./index-9SM8fWk5.js";import{r as o}from"./react-vendor-D-XgqoRR.js";import{P as c}from"./PricingDisplay-Cen2RbhY.js";import{A as m}from"./AuthGuard-DUYQLthZ.js";import{P as u}from"./PhoneInput-CslHQCQp.js";import{j as x,q as h}from"./ui-vendor-upD1L4Zc.js";import"./socket-vendor-CUkmNz_4.js";const p={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};function g({affiliateId:g}){var b,v;const j=e(),y=(null==j?void 0:j.items)||[],f=(null==j?void 0:j.subtotal)||0,k=(null==j?void 0:j.tax)||0;null==j||j.total;const N=null==j?void 0:j.clear,{user:P,isAuthenticated:w}=a(),[S,C]=o.useState(null),[M,_]=o.useState(!1),[A,I]=o.useState(null),[L,q]=o.useState("cod"),[D,z]=o.useState("prepaid"),[$,T]=o.useState([]),[U,R]=o.useState(0),[O,B]=o.useState(0),[E,H]=o.useState(0),[F,G]=o.useState(!1),[K,W]=o.useState(""),[J,V]=o.useState(null),[Z,Y]=o.useState({}),[Q,X]=o.useState(""),[ee,ae]=o.useState(""),[te,se]=o.useState(""),[re,le]=o.useState(""),[ie,ne]=o.useState(""),[de,oe]=o.useState("+91"),[ce,me]=o.useState(""),[ue,xe]=o.useState(""),[he,pe]=o.useState(""),[ge,be]=o.useState("Uttar Pradesh"),[ve,je]=o.useState(""),[ye,fe]=o.useState("India"),[ke,Ne]=o.useState(!1),[Pe,we]=o.useState(!1),[Se,Ce]=o.useState(""),[Me,_e]=o.useState(!0),[Ae,Ie]=o.useState(""),[Le,qe]=o.useState(""),[De,ze]=o.useState(""),[$e,Te]=o.useState(""),[Ue,Re]=o.useState(""),[Oe,Be]=o.useState(""),[Ee,He]=o.useState("Uttar Pradesh"),[Fe,Ge]=o.useState(""),[Ke,We]=o.useState("India"),[Je,Ve]=o.useState(""),[Ze,Ye]=o.useState("+91"),[Qe,Xe]=o.useState([]),[ea,aa]=o.useState(""),ta=e=>{if(!e)return"";const a=e.replace(/\D/g,"");return a.length<=10?a:a.slice(-10)};o.useEffect(()=>{var e,a,t,s;const r=new URL(window.location.href).hash.split("?")[1]||"",l=new URLSearchParams(r).get("buy");if(C(l),w&&P){const r=(P.name||"").split(" ");X(r[0]||""),ae(r.slice(1).join(" ")||""),le(P.email||""),ne(ta(P.phone||"")),me((null==(e=P.address)?void 0:e.street)||""),pe((null==(a=P.address)?void 0:a.city)||""),be((null==(t=P.address)?void 0:t.state)||"Uttar Pradesh"),je((null==(s=P.address)?void 0:s.zip)||""),fe("India"),R(P.loyalty_points||0)}da(),ia(),w&&(la(),sa())},[w,P]);const sa=async()=>{try{const e=await t.user.getAddresses();if(e&&e.length>0){Xe(e);const a=e.find(e=>e.is_default);a&&(aa(String(a.id)),ra(a))}}catch(e){}},ra=e=>{const a=(e.name||"").split(" ");X(a[0]||""),ae(a.slice(1).join(" ")||""),ne(ta(e.phone||"")),me(e.street||""),xe(e.area||""),pe(e.city||""),be(e.state||"Uttar Pradesh"),je(e.zip||""),fe(e.country||"India")},la=async()=>{try{const a=localStorage.getItem("token");if(!a)return;const t=s(),r=await fetch(`${t}/api/nefol-coins`,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});let l=0;if(r.ok){l=(await r.json()).nefol_coins||0}let i=0;if(w&&a)try{const e=await fetch(`${t}/api/affiliate/dashboard`,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(e.ok){const a=await e.json();a.total_earnings&&(i=Math.floor(10*a.total_earnings))}else e.status}catch(e){e instanceof TypeError&&e.message.includes("fetch")}B(l+i)}catch(e){}},ia=async()=>{try{const e=s(),a=await fetch(`${e}/api/products-csv`);if(a.ok){const e=await a.json(),t={};e.forEach(e=>{var a;const s={};Object.keys(e).forEach(a=>{const t=a.trim();s[t]=e[a]});const r=s.Slug||(null==(a=s["Product Name"])?void 0:a.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""))||"";r&&(t[r]=s)}),Y(t)}}catch(e){}},na=o.useMemo(()=>(S?y.filter(e=>e.slug===S):y).map(e=>{const a=Z[e.slug];return{...e,csvProduct:a||null}}),[S,y,Z]),da=async()=>{try{(null==p?void 0:p.VITE_BACKEND_HOST)||(null==p?void 0:p.VITE_API_HOST)||window.location.hostname;const e=s(),a=await fetch(`${e}/api/payment-gateways`);if(a.ok){const e=await a.json();T(e.filter(e=>e.is_active))}}catch(e){}},oa=o.useMemo(()=>{if(S){const e=na.reduce((e,a)=>e+r(a.price)*(a.quantity||1),0);return l(e)}return l(f)},[S,na,f]),ca=()=>{if(!J)return 0;if(void 0!==J.discountAmount)return l(J.discountAmount);if("percentage"===J.type){let e=oa*J.value/100;return J.maxDiscount&&e>J.maxDiscount&&(e=J.maxDiscount),l(e)}return l(J.value)},ma=l((()=>{if(S){const e=na[0];if(!e)return 0;const a=r(e.price),t=(e.category||"").toLowerCase().includes("hair")?.05:.18;return l((a-a/(1+t))*(e.quantity||1))}return l(k)})()),ua=ca(),xa=na.reduce((e,a)=>{var t,s,i;let n=null;if(a.mrp)n=a.mrp;else if(null==(t=a.details)?void 0:t.mrp)n=a.details.mrp;else if(null==(i=null==(s=a.product)?void 0:s.details)?void 0:i.mrp)n=a.product.details.mrp;else if(a.csvProduct){const e=a.csvProduct;n=e["MRP (₹)"]||e["MRP "]||e.MRP||e.mrp||e["MRP(₹)"]||e["MRP(₹) "]}n||(n=a.price);const d=r(n||"0");return e+l(d*(a.quantity||1))},0),ha=na.reduce((e,a)=>{var t,s,i;let n=null;if(a.mrp)n=a.mrp;else if(null==(t=a.details)?void 0:t.mrp)n=a.details.mrp;else if(null==(i=null==(s=a.product)?void 0:s.details)?void 0:i.mrp)n=a.product.details.mrp;else if(a.csvProduct){const e=a.csvProduct;n=e["MRP (₹)"]||e["MRP "]||e.MRP||e.mrp||e["MRP(₹)"]||e["MRP(₹) "]}n||(n=a.price);const d=(r(n||"0")-r(a.price))*(a.quantity||1);return e+Math.max(0,l(d))},0),pa=F?l(Math.min(E/10,oa-ua)):0,ga=l(oa-ua-pa),ba=l(S?Math.max(0,ga+0):Math.max(0,f-ua-pa+0)),va=ba<1e3,ja="cod"===L;o.useEffect(()=>{va||z("prepaid")},[va]);const ya=()=>na.map(e=>{const a=Z[e.slug]||{};return{...e,csvProduct:{"Brand Name":a["Brand Name"],SKU:a.SKU,"HSN Code":a["HSN Code"],"Net Quantity (Content)":a["Net Quantity (Content)"],"Unit Count (Pack of)":a["Unit Count (Pack of)"],"Net Weight (Product Only)":a["Net Weight (Product Only)"],"Dead Weight (Packaging Only)":a["Dead Weight (Packaging Only)"],"GST %":a["GST %"],"Country of Origin":a["Country of Origin"],"Manufacturer / Packer / Importer":a["Manufacturer / Packer / Importer"],"Key Ingredients":a["Key Ingredients"],"Ingredient Benefits":a["Ingredient Benefits"],"How to Use (Steps)":a["How to Use (Steps)"],"Package Content Details":a["Package Content Details"],"Inner Packaging Type":a["Inner Packaging Type"],"Outer Packaging Type":a["Outer Packaging Type"],"Hazardous / Fragile (Y/N)":a["Hazardous / Fragile (Y/N)"],"Special Attributes (Badges)":a["Special Attributes (Badges)"],"Product Category":a["Product Category"],"Product Sub-Category":a["Product Sub-Category"],"Product Type":a["Product Type"],"Skin/Hair Type":a["Skin/Hair Type"],MRP:a.MRP,"website price":a["website price"],discount:a.discount,"Image Links":a["Image Links"],"Video Links":a["Video Links"]}}}),fa=(e,a)=>{const t=e.replace(/\D/g,"");return t.length>10?t.slice(-10):10===t.length?t:t.padStart(10,"0").slice(-10)};return na.length?i.jsx(m,{children:i.jsx("main",{className:"py-10 dark:bg-slate-900 w-full overflow-x-hidden",children:i.jsxs("div",{className:"mx-auto max-w-5xl px-4 sm:px-6 lg:px-8 grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8 w-full",children:[i.jsxs("form",{onSubmit:async e=>{e.preventDefault(),I(null);const a=(()=>{if(!(null==Q?void 0:Q.trim()))return"First name is required for shipping";if(!(null==ee?void 0:ee.trim()))return"Last name is required for shipping (Shiprocket requirement)";if(!(null==ce?void 0:ce.trim()))return"Address is required for shipping";if(!(null==he?void 0:he.trim()))return"City is required for shipping";if(!(null==ge?void 0:ge.trim())||""===ge)return"State is required for shipping";if(!(null==ve?void 0:ve.trim())||6!==ve.length)return"Valid 6-digit PIN code is required for shipping";if(!(null==ie?void 0:ie.trim()))return"Phone number is required for shipping";if(!(null==re?void 0:re.trim()))return"Email is required for shipping";if(10!==ie.replace(/\D/g,"").length)return"Please enter a valid 10-digit phone number";if(!Me){if(!(null==Ae?void 0:Ae.trim()))return"Billing first name is required";if(!(null==Le?void 0:Le.trim()))return"Billing last name is required (Shiprocket requirement)";if(!(null==$e?void 0:$e.trim()))return"Billing address is required";if(!(null==Oe?void 0:Oe.trim()))return"Billing city is required";if(!(null==Ee?void 0:Ee.trim())||""===Ee)return"Billing state is required";if(!(null==Fe?void 0:Fe.trim())||6!==Fe.length)return"Valid 6-digit billing PIN code is required";if(!(null==Je?void 0:Je.trim()))return"Billing phone number is required";if(10!==Je.replace(/\D/g,"").length)return"Please enter a valid 10-digit billing phone number"}const e=/^\d{6}$/,a=ve.replace(/\D/g,"");if(6!==a.length||!e.test(a))return"Please enter a valid 6-digit PIN code (required for shipping)";if(!Me&&Fe){const a=Fe.replace(/\D/g,"");if(6!==a.length||!e.test(a))return"Please enter a valid 6-digit billing PIN code"}return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(re)?null:"Please enter a valid email address"})();if(a)I(a);else if(F&&E/10<ga&&!L)I("Please select a payment method for the remaining amount");else{_(!0);try{if("razorpay"===L)return void(await(async()=>{var e;try{const e=ya(),r=ca(),i={customer_name:`${Q} ${ee}`.trim(),customer_email:re,shipping_address:{firstName:Q.trim(),lastName:ee.trim(),company:te.trim()||void 0,gst_number:te.trim()?Se.trim():void 0,address:ce.trim(),apartment:ue.trim()||void 0,city:he.trim(),state:ge.trim(),zip:ve.trim(),pincode:ve.trim(),phone:fa(ie,de),country:ye||"India",email:re.trim()},billing_address:Me?{firstName:Q.trim(),lastName:ee.trim(),company:te.trim()||void 0,address:ce.trim(),apartment:ue.trim()||void 0,city:he.trim(),state:ge.trim(),zip:ve.trim(),country:ye||"India",phone:fa(ie,de),email:re.trim()}:{firstName:Ae.trim(),lastName:Le.trim(),company:De.trim()||void 0,address:$e.trim(),apartment:Ue.trim()||void 0,city:Oe.trim(),state:Ee.trim(),zip:Fe.trim(),pincode:Fe.trim(),country:Ke||"India",phone:fa(Je||ie,Ze||de),email:re.trim()},items:e,subtotal:l(oa),shipping:l(0),tax:l(ma),total:l(ba),payment_method:F&&E>0?"coins+razorpay":"razorpay",payment_type:D,status:"created",affiliate_id:g,discount_code:(null==J?void 0:J.code)||null,discount_amount:r>0?l(r):0,coins_used:F?E:0},o=(await t.orders.createOrder(i)).order_number;if(!o)throw new Error("Failed to get order number from backend");const c=await t.payment.createRazorpayOrder({amount:ba,currency:"INR",order_number:o,customer_name:`${Q} ${ee}`.trim(),customer_email:re,customer_phone:`${de}${fa(ie,de)}`});if(!c||!c.id||!c.key_id)return I("Failed to initialize payment gateway. Please try again."),void _(!1);if(!c.id.startsWith("order_"))return I("Invalid payment order. Please try again."),void _(!1);const m={key:c.key_id,amount:c.amount,currency:c.currency,name:"Nefol",description:`Order ${o}`,order_id:c.id,prefill:{name:`${Q} ${ee}`.trim(),email:re,contact:`${de}${fa(ie,de)}`},handler:async function(a){var s;try{if(!a.razorpay_order_id||!a.razorpay_payment_id||!a.razorpay_signature)return I("Payment verification failed: Invalid payment response"),void _(!1);if(!o)return I("Payment verification failed: Order number is missing"),void _(!1);if(await t.payment.verifyRazorpayPayment({razorpay_order_id:a.razorpay_order_id,razorpay_payment_id:a.razorpay_payment_id,razorpay_signature:a.razorpay_signature,order_number:o}),n.purchase(d({...i,order_number:o,items:e})),ke&&w)try{await t.user.createAddress({name:`${Q} ${ee}`.trim(),phone:fa(ie,de),street:ce.trim(),area:ue.trim()||void 0,city:he.trim(),state:ge.trim(),zip:ve.trim(),country:ye||"India",is_default:!0})}catch(r){}if(Pe&&ie)try{await t.whatsapp.subscribe(`${de}${fa(ie,de)}`,`${Q} ${ee}`.trim(),"checkout")}catch(r){}N&&N(),window.location.hash=`#/user/confirmation?order=${encodeURIComponent(o)}`}catch(r){const e=(null==r?void 0:r.message)||(null==(s=null==r?void 0:r.error)?void 0:s.message)||"Payment verification failed. Please contact support if payment was deducted.";I(e),_(!1);try{await t.orders.updatePaymentCancelled(o)}catch(l){}}},modal:{ondismiss:async function(){_(!1);try{await t.orders.updatePaymentCancelled(o)}catch(e){}}}},u=window.Razorpay(m);u.on("payment.failed",function(e){var a,t;I(`Payment failed: ${(null==(a=e.error)?void 0:a.description)||(null==(t=e.error)?void 0:t.reason)||"Unknown error"}`),_(!1)}),u.on("payment.error",function(e){var a,t;I(`Payment error: ${(null==(a=e.error)?void 0:a.description)||(null==(t=e.error)?void 0:t.reason)||"Unknown error"}`),_(!1)});try{u.open()}catch(a){I(`Failed to open payment gateway: ${(null==a?void 0:a.message)||"Unknown error"}`),_(!1);try{await t.orders.updatePaymentCancelled(o)}catch(s){}}}catch(r){I((null==r?void 0:r.message)||(null==(e=null==r?void 0:r.error)?void 0:e.message)||"Payment initiation failed"),_(!1)}})());const e=ya(),a=ca(),r={customer_name:`${Q} ${ee}`.trim(),customer_email:re,shipping_address:{firstName:Q.trim(),lastName:ee.trim(),company:te.trim()||void 0,gst_number:te.trim()?Se.trim():void 0,address:ce.trim(),apartment:ue.trim()||void 0,city:he.trim(),state:ge.trim(),zip:ve.trim(),pincode:ve.trim(),phone:fa(ie,de),country:ye||"India",email:re.trim()},billing_address:Me?{firstName:Q.trim(),lastName:ee.trim(),company:te.trim()||void 0,address:ce.trim(),apartment:ue.trim()||void 0,city:he.trim(),state:ge.trim(),zip:ve.trim(),country:ye||"India",phone:fa(ie,de),email:re.trim()}:{firstName:Ae.trim(),lastName:Le.trim(),company:De.trim()||void 0,address:$e.trim(),apartment:Ue.trim()||void 0,city:Oe.trim(),state:Ee.trim(),zip:Fe.trim(),pincode:Fe.trim(),country:Ke||"India",phone:fa(Je||ie,Ze||de),email:re.trim()},items:e,subtotal:l(oa),shipping:l(0),tax:l(ma),total:l(ba),payment_method:F&&E/10>=ga?"coins":L,payment_type:ja?"cod":F&&E/10>=ga?"prepaid":D,status:"created",affiliate_id:g,discount_code:(null==J?void 0:J.code)||null,discount_amount:a>0?l(a):0,coins_used:F?E:0},i=(await t.orders.createOrder(r)).order_number;if(!i)throw new Error("Failed to get order number from backend");if(n.purchase(d({...r,order_number:i,items:e})),ke&&w)try{await t.user.createAddress({name:`${Q} ${ee}`.trim(),phone:fa(ie,de),street:ce.trim(),area:ue.trim()||void 0,city:he.trim(),state:ge.trim(),zip:ve.trim(),country:ye||"India",is_default:!0})}catch(s){}if(Pe&&ie)try{await t.whatsapp.subscribe(`${de}${fa(ie,de)}`,`${Q} ${ee}`.trim(),"checkout")}catch(s){}N&&N(),window.location.hash=`#/user/confirmation?order=${encodeURIComponent(i)}`}catch(s){I((null==s?void 0:s.message)||"Order failed")}finally{_(!1)}}},className:"md:col-span-2 space-y-4 sm:space-y-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold dark:text-slate-100 mb-3 sm:mb-4",children:"Delivery"}),i.jsxs("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400 mb-3 sm:mb-4",children:["Fields marked with ",i.jsx("span",{className:"text-red-500",children:"*"})," are required for shipping. Please ensure all information is accurate."]}),w&&i.jsxs("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(x,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),i.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Use Saved Address"})]}),Qe.length>0?i.jsxs(i.Fragment,{children:[i.jsxs("select",{value:ea,onChange:e=>(e=>{aa(e);const a=Qe.find(a=>String(a.id)===e);a&&ra(a)})(e.target.value),className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-slate-700 dark:text-slate-100 mb-2 font-medium",children:[i.jsx("option",{value:"",children:"Select a saved address..."}),Qe.map(e=>i.jsxs("option",{value:String(e.id),children:[e.name||"Unnamed"," - ",e.street,", ",e.city,", ",e.state," ",e.zip,e.is_default&&" (Default)"]},e.id))]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Select a saved address to autofill the form below"}),i.jsx("a",{href:"#/user/manage-address",className:"text-xs text-blue-600 dark:text-blue-400 hover:underline font-medium",children:"Manage Addresses"})]}),ea&&i.jsx("button",{type:"button",onClick:()=>{aa(""),X(""),ae(""),ne(""),me(""),xe(""),pe(""),be("Uttar Pradesh"),je("")},className:"mt-3 text-sm text-blue-600 dark:text-blue-400 hover:underline font-medium",children:"Use new address instead"})]}):i.jsxs("div",{className:"text-center py-3",children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:"No saved addresses found"}),i.jsx("a",{href:"#/user/manage-address",className:"text-sm text-blue-600 dark:text-blue-400 hover:underline font-medium",children:"Add an address to save time"})]})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Country"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"IN"}),i.jsx("input",{type:"text",className:"flex-1 rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-100",value:ye,readOnly:!0,disabled:!0})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-3 w-full",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["First name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{className:"w-full rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-100",placeholder:"First name",value:Q,onChange:e=>X(e.target.value),required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["Last name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{className:"w-full rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-100",placeholder:"Last name",value:ee,onChange:e=>ae(e.target.value),required:!0,minLength:1}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Required for shipping (Shiprocket requirement)"})]})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Company (optional)"}),i.jsx("input",{className:"w-full rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-100",placeholder:"Company",value:te,onChange:e=>se(e.target.value)})]}),te.trim()&&i.jsxs("div",{className:"mb-3",children:[i.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["GST Number ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{className:"w-full rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-100",placeholder:"15-character GSTIN (e.g. 27ABCDE1234F1Z5)",value:Se,onChange:e=>Ce(e.target.value.toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,15)),required:""!==te.trim(),pattern:"[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}",minLength:15,maxLength:15}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:'Enter standard 15-character GSTIN: 2-digit state code, PAN, entity code, default "Z", checksum.'})]}),i.jsxs("div",{className:"mb-3",children:[i.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["Address ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{className:"w-full rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-100",placeholder:"Street address",value:ce,onChange:e=>me(e.target.value),required:!0})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Apartment, suite, etc."}),i.jsx("input",{className:"w-full rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-100",placeholder:"Apartment, suite, etc.",value:ue,onChange:e=>xe(e.target.value)})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 mb-3 w-full",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["City ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{className:"w-full rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-100",placeholder:"City",value:he,onChange:e=>pe(e.target.value),required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["State ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{className:"w-full rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-100",value:ge,onChange:e=>be(e.target.value),required:!0,children:[i.jsx("option",{value:"",children:"Select State"}),i.jsx("option",{value:"Andhra Pradesh",children:"Andhra Pradesh"}),i.jsx("option",{value:"Arunachal Pradesh",children:"Arunachal Pradesh"}),i.jsx("option",{value:"Assam",children:"Assam"}),i.jsx("option",{value:"Bihar",children:"Bihar"}),i.jsx("option",{value:"Chhattisgarh",children:"Chhattisgarh"}),i.jsx("option",{value:"Goa",children:"Goa"}),i.jsx("option",{value:"Gujarat",children:"Gujarat"}),i.jsx("option",{value:"Haryana",children:"Haryana"}),i.jsx("option",{value:"Himachal Pradesh",children:"Himachal Pradesh"}),i.jsx("option",{value:"Jharkhand",children:"Jharkhand"}),i.jsx("option",{value:"Karnataka",children:"Karnataka"}),i.jsx("option",{value:"Kerala",children:"Kerala"}),i.jsx("option",{value:"Madhya Pradesh",children:"Madhya Pradesh"}),i.jsx("option",{value:"Maharashtra",children:"Maharashtra"}),i.jsx("option",{value:"Manipur",children:"Manipur"}),i.jsx("option",{value:"Meghalaya",children:"Meghalaya"}),i.jsx("option",{value:"Mizoram",children:"Mizoram"}),i.jsx("option",{value:"Nagaland",children:"Nagaland"}),i.jsx("option",{value:"Odisha",children:"Odisha"}),i.jsx("option",{value:"Punjab",children:"Punjab"}),i.jsx("option",{value:"Rajasthan",children:"Rajasthan"}),i.jsx("option",{value:"Sikkim",children:"Sikkim"}),i.jsx("option",{value:"Tamil Nadu",children:"Tamil Nadu"}),i.jsx("option",{value:"Telangana",children:"Telangana"}),i.jsx("option",{value:"Tripura",children:"Tripura"}),i.jsx("option",{value:"Uttar Pradesh",children:"Uttar Pradesh"}),i.jsx("option",{value:"Uttarakhand",children:"Uttarakhand"}),i.jsx("option",{value:"West Bengal",children:"West Bengal"}),i.jsx("option",{value:"Andaman and Nicobar Islands",children:"Andaman and Nicobar Islands"}),i.jsx("option",{value:"Chandigarh",children:"Chandigarh"}),i.jsx("option",{value:"Dadra and Nagar Haveli and Daman and Diu",children:"Dadra and Nagar Haveli and Daman and Diu"}),i.jsx("option",{value:"Delhi",children:"Delhi"}),i.jsx("option",{value:"Jammu and Kashmir",children:"Jammu and Kashmir"}),i.jsx("option",{value:"Ladakh",children:"Ladakh"}),i.jsx("option",{value:"Lakshadweep",children:"Lakshadweep"}),i.jsx("option",{value:"Puducherry",children:"Puducherry"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["PIN code ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{className:"w-full rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-100",placeholder:"6-digit PIN code",value:ve,onChange:e=>je(e.target.value.replace(/\D/g,"").slice(0,6)),required:!0,pattern:"\\d{6}",minLength:6,maxLength:6}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Required for shipping"})]})]}),i.jsxs("div",{className:"mb-3",children:[i.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["Email ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"email",className:"w-full rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-100",placeholder:"your@email.com",value:re,onChange:e=>le(e.target.value),required:!0})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx(u,{value:ie,onChange:e=>{const a=e.replace(/\D/g,"").slice(0,10);ne(a)},onCountryCodeChange:oe,defaultCountry:de,placeholder:"Enter 10-digit phone number",required:!0,showLabel:!0,label:"Phone",className:"mb-3"}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Enter exactly 10 digits (required for shipping)"})]}),i.jsxs("div",{className:"space-y-2 mb-3",children:[i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",className:"mr-2 rounded border-slate-300",checked:ke,onChange:e=>Ne(e.target.checked)}),i.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Save this information for next time"})]}),i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",className:"mr-2 rounded border-slate-300",checked:Pe,onChange:e=>we(e.target.checked)}),i.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Text me with news and offers"})]})]})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold dark:text-slate-100 mb-4",children:"Shipping method"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Enter your shipping address to view available shipping methods."})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold dark:text-slate-100 mb-4",children:"Coupon Code"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",className:"flex-1 rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600",placeholder:"Enter coupon code",value:K,onChange:e=>W(e.target.value.toUpperCase()),disabled:!!J}),J?i.jsx("button",{type:"button",onClick:()=>{V(null),W(""),I(null)},className:"rounded bg-red-600 px-4 py-2 font-semibold text-white hover:bg-red-700 transition-colors",children:"Remove"}):i.jsx("button",{type:"button",onClick:async()=>{try{if(!K||""===K.trim())return void I("Please enter a discount code");if(!oa||oa<=0)return void I("Order amount must be greater than zero");const e=s(),a=await fetch(`${e}/api/discounts/apply`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:K.trim(),amount:oa})});if(a.ok){const e=await a.json(),t=e.data||e;V(t),I(null)}else{const e=await a.json().catch(()=>({message:"Failed to apply discount code"})),t=e.message||e.error||"Invalid discount code";I(t),V(null)}}catch(e){I((null==e?void 0:e.message)||"Failed to apply discount code. Please try again."),V(null)}},className:"rounded bg-green-600 px-4 py-2 font-semibold text-white hover:bg-green-700 disabled:opacity-50 transition-colors",disabled:!K.trim(),children:"Apply"})]}),J&&i.jsx("div",{className:"mt-2 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3",children:i.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:["✅ Coupon applied: ",J.code," - Save ₹",l(ua).toLocaleString()]})})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold dark:text-slate-100 mb-4",children:"Payment"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:"All transactions are secure and encrypted."}),i.jsxs("div",{className:"space-y-3 mb-4",children:[w&&O>0&&i.jsx("div",{className:"p-4 rounded-lg border-2 border-yellow-200 dark:border-yellow-800 bg-yellow-50 dark:bg-yellow-900/20 mb-4",children:i.jsxs("label",{className:"flex items-start cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:F,onChange:e=>{if(G(e.target.checked),e.target.checked){const e=Math.min(O,Math.ceil(10*ga));H(e),e/10<ga&&q("razorpay")}else H(0),q("cod")},className:"mt-1 mr-3"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(h,{className:"w-5 h-5 text-yellow-600"}),i.jsx("div",{className:"font-medium text-slate-700 dark:text-slate-300",children:"Use Nefol Coins"})]}),i.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:["Available: ",O," coins (1 rupee = 10 coins)"]}),F&&i.jsxs("div",{className:"mt-3 space-y-2",children:[i.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:["Coins to Use (Max: ",Math.min(O,Math.ceil(10*ga))," coins)"]}),i.jsx("input",{type:"number",min:"0",max:Math.min(O,Math.ceil(10*ga)),value:E,onChange:e=>{const a=parseInt(e.target.value)||0,t=Math.min(O,Math.ceil(10*ga));H(Math.max(0,Math.min(a,t))),a/10<ga&&"coins"===L&&q("razorpay")},className:"w-full px-3 py-2 rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"}),i.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[i.jsxs("p",{children:["Coins value: ₹",l(E/10).toLocaleString()]}),i.jsxs("p",{className:"font-semibold",children:["Remaining to pay: ₹",l(Math.max(0,ga-E/10)).toLocaleString()]}),E/10>=ga&&i.jsx("p",{className:"text-green-600 dark:text-green-400 font-semibold",children:"✓ Order fully paid with coins! No additional payment needed."})]})]})]})]})}),F&&E/10<ga&&i.jsx("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:i.jsxs("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-200 mb-3",children:["Select Payment Method for Remaining Amount: ₹",l(Math.max(0,ga-E/10)).toLocaleString()]})}),(!F||E/10<ga)&&i.jsxs("label",{className:"flex items-start p-4 rounded-lg border-2 cursor-pointer transition-all "+("razorpay"===L?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-slate-300 dark:border-slate-600 hover:border-slate-400"),children:[i.jsx("input",{type:"radio",name:"paymentMethod",value:"razorpay",checked:"razorpay"===L,onChange:e=>q(e.target.value),disabled:F&&E/10>=ga,className:"mt-1 mr-3"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"font-medium text-slate-700 dark:text-slate-300",children:["Razorpay Secure (UPI, Cards, Int'l Cards, Wallets)",F&&E/10<ga&&i.jsxs("span",{className:"text-xs text-slate-500 ml-2",children:["(Pay ₹",l(Math.max(0,ga-E/10)).toLocaleString(),")"]})]}),i.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1 flex items-center gap-1",children:F&&E/10<ga?i.jsxs("span",{children:["Pay remaining ₹",l(Math.max(0,ga-E/10)).toLocaleString()," via Razorpay"]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{children:"UPI"}),i.jsx("span",{children:"•"}),i.jsx("span",{children:"Visa"}),i.jsx("span",{children:"•"}),i.jsx("span",{children:"Mastercard"}),i.jsx("span",{children:"•"}),i.jsx("span",{children:"Net Banking"}),i.jsx("span",{className:"ml-1",children:"+18"})]})})]})]}),(!F||E/10<ga)&&i.jsxs("label",{className:"flex items-start p-4 rounded-lg border-2 cursor-pointer transition-all "+("cod"===L?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-slate-300 dark:border-slate-600 hover:border-slate-400"),children:[i.jsx("input",{type:"radio",name:"paymentMethod",value:"cod",checked:"cod"===L,onChange:e=>q(e.target.value),disabled:F&&E/10>=ga,className:"mt-1 mr-3"}),i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"font-medium text-slate-700 dark:text-slate-300",children:["Cash on Delivery",F&&E/10<ga&&i.jsxs("span",{className:"text-xs text-slate-500 ml-2",children:["(Pay ₹",l(Math.max(0,ba)).toLocaleString()," on delivery)"]})]})})]})]})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold dark:text-slate-100 mb-4",children:"Billing address"}),i.jsxs("label",{className:"flex items-center mb-4",children:[i.jsx("input",{type:"radio",name:"billingAddress",checked:Me,onChange:()=>_e(!0),className:"mr-2"}),i.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Same as shipping address"})]}),i.jsxs("label",{className:"flex items-center mb-4",children:[i.jsx("input",{type:"radio",name:"billingAddress",checked:!Me,onChange:()=>_e(!1),className:"mr-2"}),i.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Use a different billing address"})]}),!Me&&i.jsxs("div",{className:"mt-4 space-y-4 pl-4 sm:pl-6 border-l-2 border-slate-300 dark:border-slate-600 w-full",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 w-full",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"First name"}),i.jsx("input",{className:"w-full rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-100",placeholder:"First name",value:Ae,onChange:e=>Ie(e.target.value),required:!Me})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Last name"}),i.jsx("input",{className:"w-full rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-100",placeholder:"Last name",value:Le,onChange:e=>qe(e.target.value),required:!Me})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Company (optional)"}),i.jsx("input",{className:"w-full rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-100",placeholder:"Company",value:De,onChange:e=>ze(e.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Address"}),i.jsx("input",{className:"w-full rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-100",placeholder:"Address",value:$e,onChange:e=>Te(e.target.value),required:!Me})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Apartment, suite, etc."}),i.jsx("input",{className:"w-full rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-100",placeholder:"Apartment, suite, etc.",value:Ue,onChange:e=>Re(e.target.value)})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 w-full",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"City"}),i.jsx("input",{className:"w-full rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-100",placeholder:"City",value:Oe,onChange:e=>Be(e.target.value),required:!Me})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"State"}),i.jsxs("select",{className:"w-full rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-100",value:Ee,onChange:e=>He(e.target.value),required:!Me,children:[i.jsx("option",{value:"",children:"Select State"}),i.jsx("option",{value:"Andhra Pradesh",children:"Andhra Pradesh"}),i.jsx("option",{value:"Arunachal Pradesh",children:"Arunachal Pradesh"}),i.jsx("option",{value:"Assam",children:"Assam"}),i.jsx("option",{value:"Bihar",children:"Bihar"}),i.jsx("option",{value:"Chhattisgarh",children:"Chhattisgarh"}),i.jsx("option",{value:"Goa",children:"Goa"}),i.jsx("option",{value:"Gujarat",children:"Gujarat"}),i.jsx("option",{value:"Haryana",children:"Haryana"}),i.jsx("option",{value:"Himachal Pradesh",children:"Himachal Pradesh"}),i.jsx("option",{value:"Jharkhand",children:"Jharkhand"}),i.jsx("option",{value:"Karnataka",children:"Karnataka"}),i.jsx("option",{value:"Kerala",children:"Kerala"}),i.jsx("option",{value:"Madhya Pradesh",children:"Madhya Pradesh"}),i.jsx("option",{value:"Maharashtra",children:"Maharashtra"}),i.jsx("option",{value:"Manipur",children:"Manipur"}),i.jsx("option",{value:"Meghalaya",children:"Meghalaya"}),i.jsx("option",{value:"Mizoram",children:"Mizoram"}),i.jsx("option",{value:"Nagaland",children:"Nagaland"}),i.jsx("option",{value:"Odisha",children:"Odisha"}),i.jsx("option",{value:"Punjab",children:"Punjab"}),i.jsx("option",{value:"Rajasthan",children:"Rajasthan"}),i.jsx("option",{value:"Sikkim",children:"Sikkim"}),i.jsx("option",{value:"Tamil Nadu",children:"Tamil Nadu"}),i.jsx("option",{value:"Telangana",children:"Telangana"}),i.jsx("option",{value:"Tripura",children:"Tripura"}),i.jsx("option",{value:"Uttar Pradesh",children:"Uttar Pradesh"}),i.jsx("option",{value:"Uttarakhand",children:"Uttarakhand"}),i.jsx("option",{value:"West Bengal",children:"West Bengal"}),i.jsx("option",{value:"Andaman and Nicobar Islands",children:"Andaman and Nicobar Islands"}),i.jsx("option",{value:"Chandigarh",children:"Chandigarh"}),i.jsx("option",{value:"Dadra and Nagar Haveli and Daman and Diu",children:"Dadra and Nagar Haveli and Daman and Diu"}),i.jsx("option",{value:"Delhi",children:"Delhi"}),i.jsx("option",{value:"Jammu and Kashmir",children:"Jammu and Kashmir"}),i.jsx("option",{value:"Ladakh",children:"Ladakh"}),i.jsx("option",{value:"Lakshadweep",children:"Lakshadweep"}),i.jsx("option",{value:"Puducherry",children:"Puducherry"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["PIN code ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{className:"w-full rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-100",placeholder:"6-digit PIN code",value:Fe,onChange:e=>Ge(e.target.value.replace(/\D/g,"").slice(0,6)),required:!Me,pattern:"\\d{6}",minLength:6,maxLength:6}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Required for shipping"})]})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx(u,{value:Je,onChange:e=>{const a=e.replace(/\D/g,"").slice(0,10);Ve(a)},onCountryCodeChange:Ye,defaultCountry:Ze,placeholder:"Enter 10-digit phone number",required:!Me,showLabel:!0,label:"Billing Phone",className:"mb-3"}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Enter exactly 10 digits (required for shipping)"})]})]})]}),A&&i.jsx("div",{className:"text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 p-3 rounded-lg",children:A}),i.jsx("button",{type:"submit",disabled:M,className:"w-full rounded px-5 py-3 font-semibold text-white disabled:opacity-50 transition-colors",style:{backgroundColor:"rgb(75,151,201)"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="rgb(60,120,160)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="rgb(75,151,201)",children:M?"Processing Order...":F&&E/10>=ga?`Place Order (Paid with ${E} Coins)`:F&&E/10<ga?`Use ${E} Coins + Pay ₹${l(ba).toLocaleString()} ${ja?"(Cash on Delivery)":"razorpay"===L?"Now":""}`:ja?`Place Order (Cash on Delivery) - ₹${l(ba).toLocaleString()}`:"Pay now"})]}),i.jsxs("aside",{className:"w-full md:w-auto",children:[i.jsx("h2",{className:"text-xl font-semibold mb-3 dark:text-slate-100",children:"Order Summary"}),i.jsxs("div",{className:"space-y-3",children:[na.map(e=>i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsxs("div",{children:[i.jsxs("span",{className:"dark:text-slate-300",children:[e.title," × ",e.quantity]}),i.jsx("div",{className:"text-xs",children:i.jsx(c,{product:e,csvProduct:e.csvProduct,className:"text-xs"})})]}),i.jsxs("span",{className:"dark:text-slate-100",children:["₹",l(r(e.price)*e.quantity).toLocaleString()]})]},e.slug)),i.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-3 text-sm space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"MRP"}),i.jsxs("span",{className:"dark:text-slate-100",children:["₹",l(xa).toLocaleString()]})]}),ha>0&&i.jsxs("div",{className:"flex justify-between text-green-600 dark:text-green-400",children:[i.jsx("span",{children:"Product Discount"}),i.jsxs("span",{children:["-₹",l(ha).toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between font-medium",children:[i.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Subtotal"}),i.jsxs("span",{className:"dark:text-slate-100",children:["₹",l(oa).toLocaleString()]})]}),J&&ua>0&&i.jsxs("div",{className:"flex justify-between text-green-600 dark:text-green-400",children:[i.jsxs("span",{children:["Coupon Code (",J.code,")"]}),i.jsxs("span",{children:["-₹",l(ua).toLocaleString()]})]}),F&&E>0&&i.jsxs("div",{className:"flex justify-between text-yellow-600 dark:text-yellow-400",children:[i.jsxs("span",{children:["Nefol Coins Used (",E," coins = ₹",l(E/10).toLocaleString(),")"]}),i.jsxs("span",{children:["-₹",l(pa).toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Shipping Charges"}),i.jsx("span",{className:"text-green-600 dark:text-green-400",children:"Free"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:["GST (",S?(null==(v=null==(b=na[0])?void 0:b.category)?void 0:v.toLowerCase().includes("hair"))?"5%":"18%":"Mixed",")",i.jsx("span",{className:"text-xs ml-1",children:"(Inclusive)"})]}),i.jsxs("span",{className:"dark:text-slate-100",children:["₹",l(ma).toLocaleString()]})]}),i.jsx("div",{className:"border-t border-slate-300 dark:border-slate-600 pt-2 mt-2",children:i.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[i.jsx("span",{className:"dark:text-slate-100",children:"Grand Total"}),i.jsxs("span",{className:"dark:text-slate-100",children:["₹",l(ba).toLocaleString()]})]})}),i.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"* MRP includes GST"})]})]})]})]})})}):i.jsx(m,{children:i.jsx("main",{className:"py-10 dark:bg-slate-900 overflow-x-hidden",children:i.jsxs("div",{className:"mx-auto max-w-3xl px-4 sm:px-6 lg:px-8",children:[i.jsx("h1",{className:"text-xl sm:text-2xl font-bold dark:text-slate-100",children:"Checkout"}),i.jsx("p",{className:"mt-2 text-sm sm:text-base text-slate-600 dark:text-slate-400",children:"Your cart is empty."})]})})})}export{g as default};
