import{u as e,j as t,a as s}from"./index-NAoTB2tM.js";import{r as a}from"./react-vendor-D-XgqoRR.js";import{P as l}from"./PhoneInput-B75fhpRU.js";import{M as r,U as n,h as i,i as o,j as d,E as c,k as u}from"./ui-vendor-30WxTOTI.js";import"./socket-vendor-CUkmNz_4.js";function p(){const[p,m]=a.useState(""),[x,g]=a.useState(""),[h,f]=a.useState(!1),[b,y]=a.useState(!1),[v,j]=a.useState(!1),[w,N]=a.useState(!1),[S,k]=a.useState(!1),[C,P]=a.useState(""),[T,O]=a.useState(0),[A,E]=a.useState(""),[q,I]=a.useState({name:"",email:"",password:"",confirmPassword:"",phone:"",address:{street:"",city:"",state:"",zip:""}}),[L,W]=a.useState("+91"),[$,D]=a.useState(!1),[F,M]=a.useState(""),{login:z,loginWithWhatsApp:V,signup:U,error:J}=e();return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white py-12 px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"max-w-md w-full space-y-8",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"mt-6 text-center text-3xl sm:text-4xl font-light tracking-[0.15em]",style:{color:"#1a1a1a",fontFamily:"var(--font-heading-family)",letterSpacing:"0.15em"},children:b?"Create your account":"Sign in to your account"}),t.jsx("p",{className:"mt-2 text-center text-sm font-light tracking-wide",style:{color:"#666",letterSpacing:"0.05em"},children:b?"Join Nefol and start your beauty journey":"Welcome back to Nefol"})]}),t.jsxs("div",{className:"mt-8 space-y-6",children:[t.jsxs("div",{className:"flex rounded-lg bg-slate-100 p-1",children:[t.jsx("button",{onClick:()=>y(!1),className:"flex-1 py-2 px-4 rounded-md text-xs font-light transition-all duration-300 tracking-[0.1em] uppercase "+(b?"text-slate-600 hover:text-slate-900":"bg-white text-slate-900 shadow-sm"),style:{letterSpacing:"0.1em"},children:"Sign In"}),t.jsx("button",{onClick:()=>y(!0),className:"flex-1 py-2 px-4 rounded-md text-xs font-light transition-all duration-300 tracking-[0.1em] uppercase "+(b?"bg-white text-slate-900 shadow-sm":"text-slate-600 hover:text-slate-900"),style:{letterSpacing:"0.1em"},children:"Sign Up"})]}),b?t.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),M(""),v)if(S){if(!C||6!==C.length)return void M("Please enter a valid 6-digit OTP");if(!q.name)return void M("Please enter your name");D(!0);try{const e=`${L}${q.phone.replace(/\D/g,"")}`,t=await s.verifyOTPSignup({phone:e,otp:C,name:q.name,email:q.email||void 0,address:q.address});t.token&&t.user?(localStorage.setItem("token",t.token),localStorage.setItem("user",JSON.stringify(t.user)),window.location.hash="#/user/"):M("Signup failed. Please try again.")}catch(t){M((null==t?void 0:t.message)||"Invalid OTP or signup failed. Please try again.")}finally{D(!1)}}else{if(!q.phone)return void M("Please enter your phone number");D(!0);try{const e=L.replace(/[^0-9]/g,""),t=`${e}${q.phone.replace(/\D/g,"")}`;await s.sendOTP(t),k(!0),O(600);const a=setInterval(()=>{O(e=>e<=1?(clearInterval(a),0):e-1)},1e3)}catch(t){M((null==t?void 0:t.message)||"Failed to send OTP. Please try again.")}finally{D(!1)}}else{if(q.password!==q.confirmPassword)return void M("Passwords do not match");D(!0);try{await U({name:q.name,email:q.email,password:q.password,phone:`${L}${q.phone.replace(/\D/g,"")}`,address:q.address})?window.location.hash="#/user/":M(J||"Signup failed")}catch(t){M("Signup failed. Please try again.")}finally{D(!1)}}},className:"space-y-6",children:[t.jsxs("div",{className:"flex rounded-lg bg-slate-100 p-1 mb-4",children:[t.jsx("button",{type:"button",onClick:()=>{j(!1),k(!1),P(""),M("")},className:"flex-1 py-2 px-4 rounded-md text-xs font-light transition-all duration-300 tracking-[0.1em] uppercase "+(v?"text-slate-600 hover:text-slate-900":"bg-white text-slate-900 shadow-sm"),style:{letterSpacing:"0.1em"},children:"Email Signup"}),t.jsxs("button",{type:"button",onClick:()=>{j(!0),k(!1),P(""),M("")},className:"flex-1 py-2 px-4 rounded-md text-xs font-light transition-all duration-300 tracking-[0.1em] uppercase "+(v?"bg-white text-slate-900 shadow-sm":"text-slate-600 hover:text-slate-900"),style:{letterSpacing:"0.1em"},children:[t.jsx(r,{className:"inline-block w-3 h-3 mr-1"}),"WhatsApp OTP"]})]}),v&&t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3 mb-4",children:t.jsx("p",{className:"text-xs font-light text-blue-800",style:{letterSpacing:"0.02em"},children:S?"Enter the 6-digit OTP sent to your WhatsApp number":"Sign up quickly with WhatsApp OTP verification. No password required!"})}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-light text-slate-700 mb-2 uppercase tracking-[0.1em]",style:{letterSpacing:"0.1em"},children:"Full Name"}),t.jsxs("div",{className:"relative",children:[t.jsx(n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400"}),t.jsx("input",{type:"text",required:!0,value:q.name,onChange:e=>I(t=>({...t,name:e.target.value})),className:"pl-10 w-full rounded-md border border-slate-200 bg-white px-3 py-2.5 text-sm font-light text-slate-900 focus:outline-none focus:ring-1 focus:ring-slate-900 focus:border-slate-900 transition-all",style:{letterSpacing:"0.02em"},placeholder:"Enter your full name"})]})]}),!v&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-light text-slate-700 mb-2 uppercase tracking-[0.1em]",style:{letterSpacing:"0.1em"},children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx(i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400"}),t.jsx("input",{type:"email",required:!0,value:q.email,onChange:e=>I(t=>({...t,email:e.target.value})),className:"pl-10 w-full rounded-md border border-slate-200 bg-white px-3 py-2.5 text-sm font-light text-slate-900 focus:outline-none focus:ring-1 focus:ring-slate-900 focus:border-slate-900 transition-all",style:{letterSpacing:"0.02em"},placeholder:"Enter your email"})]})]}),v&&!S&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-light text-slate-700 mb-2 uppercase tracking-[0.1em]",style:{letterSpacing:"0.1em"},children:"Email Address (Optional)"}),t.jsxs("div",{className:"relative",children:[t.jsx(i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400"}),t.jsx("input",{type:"email",value:q.email,onChange:e=>I(t=>({...t,email:e.target.value})),className:"pl-10 w-full rounded-md border border-slate-200 bg-white px-3 py-2.5 text-sm font-light text-slate-900 focus:outline-none focus:ring-1 focus:ring-slate-900 focus:border-slate-900 transition-all",style:{letterSpacing:"0.02em"},placeholder:"Enter your email (optional)"})]})]}),t.jsx("div",{children:t.jsx(l,{value:q.phone,onChange:e=>I(t=>({...t,phone:e})),onCountryCodeChange:W,defaultCountry:L,placeholder:"Enter your phone number",required:!0,showLabel:!0,label:"Phone Number",disabled:S})}),v&&S&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-light text-slate-700 mb-2 uppercase tracking-[0.1em]",style:{letterSpacing:"0.1em"},children:"Enter OTP"}),t.jsxs("div",{className:"relative",children:[t.jsx(r,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400"}),t.jsx("input",{type:"text",required:!0,maxLength:6,value:C,onChange:e=>{const t=e.target.value.replace(/\D/g,"");P(t),M("")},className:"pl-10 w-full rounded-md border border-slate-200 bg-white px-3 py-2.5 text-sm font-light text-slate-900 focus:outline-none focus:ring-1 focus:ring-slate-900 focus:border-slate-900 transition-all text-center text-2xl tracking-widest",style:{letterSpacing:"0.1em"},placeholder:"000000"})]}),T>0&&t.jsxs("p",{className:"text-xs text-slate-500 mt-2 text-center",children:["OTP expires in ",Math.floor(T/60),":",(T%60).toString().padStart(2,"0")]}),t.jsx("button",{type:"button",onClick:()=>{k(!1),P(""),O(0),M("")},className:"text-xs text-slate-600 hover:text-slate-900 mt-2 underline",children:"Resend OTP"})]}),!v&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-light text-slate-700 mb-2 uppercase tracking-[0.1em]",style:{letterSpacing:"0.1em"},children:"Address"}),t.jsxs("div",{className:"relative mb-2",children:[t.jsx(o,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400"}),t.jsx("input",{type:"text",required:!0,value:q.address.street,onChange:e=>I(t=>({...t,address:{...t.address,street:e.target.value}})),className:"pl-10 w-full rounded-md border border-slate-200 bg-white px-3 py-2.5 text-sm font-light text-slate-900 focus:outline-none focus:ring-1 focus:ring-slate-900 focus:border-slate-900 transition-all",style:{letterSpacing:"0.02em"},placeholder:"Street Address"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[t.jsx("input",{type:"text",required:!0,value:q.address.city,onChange:e=>I(t=>({...t,address:{...t.address,city:e.target.value}})),className:"rounded-md border border-slate-200 bg-white px-3 py-2.5 text-sm font-light text-slate-900 focus:outline-none focus:ring-1 focus:ring-slate-900 focus:border-slate-900 transition-all",style:{letterSpacing:"0.02em"},placeholder:"City"}),t.jsx("input",{type:"text",required:!0,value:q.address.state,onChange:e=>I(t=>({...t,address:{...t.address,state:e.target.value}})),className:"rounded-md border border-slate-200 bg-white px-3 py-2.5 text-sm font-light text-slate-900 focus:outline-none focus:ring-1 focus:ring-slate-900 focus:border-slate-900 transition-all",style:{letterSpacing:"0.02em"},placeholder:"State"})]}),t.jsx("input",{type:"text",required:!0,value:q.address.zip,onChange:e=>I(t=>({...t,address:{...t.address,zip:e.target.value}})),className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2.5 text-sm font-light text-slate-900 focus:outline-none focus:ring-1 focus:ring-slate-900 focus:border-slate-900 transition-all",style:{letterSpacing:"0.02em"},placeholder:"ZIP Code"})]}),v&&!S&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-light text-slate-700 mb-2 uppercase tracking-[0.1em]",style:{letterSpacing:"0.1em"},children:"Address (Optional)"}),t.jsxs("div",{className:"relative mb-2",children:[t.jsx(o,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400"}),t.jsx("input",{type:"text",value:q.address.street,onChange:e=>I(t=>({...t,address:{...t.address,street:e.target.value}})),className:"pl-10 w-full rounded-md border border-slate-200 bg-white px-3 py-2.5 text-sm font-light text-slate-900 focus:outline-none focus:ring-1 focus:ring-slate-900 focus:border-slate-900 transition-all",style:{letterSpacing:"0.02em"},placeholder:"Street Address (optional)"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[t.jsx("input",{type:"text",value:q.address.city,onChange:e=>I(t=>({...t,address:{...t.address,city:e.target.value}})),className:"rounded-md border border-slate-200 bg-white px-3 py-2.5 text-sm font-light text-slate-900 focus:outline-none focus:ring-1 focus:ring-slate-900 focus:border-slate-900 transition-all",style:{letterSpacing:"0.02em"},placeholder:"City (optional)"}),t.jsx("input",{type:"text",value:q.address.state,onChange:e=>I(t=>({...t,address:{...t.address,state:e.target.value}})),className:"rounded-md border border-slate-200 bg-white px-3 py-2.5 text-sm font-light text-slate-900 focus:outline-none focus:ring-1 focus:ring-slate-900 focus:border-slate-900 transition-all",style:{letterSpacing:"0.02em"},placeholder:"State (optional)"})]}),t.jsx("input",{type:"text",value:q.address.zip,onChange:e=>I(t=>({...t,address:{...t.address,zip:e.target.value}})),className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2.5 text-sm font-light text-slate-900 focus:outline-none focus:ring-1 focus:ring-slate-900 focus:border-slate-900 transition-all",style:{letterSpacing:"0.02em"},placeholder:"ZIP Code (optional)"})]}),!v&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-light text-slate-700 mb-2 uppercase tracking-[0.1em]",style:{letterSpacing:"0.1em"},children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(d,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400"}),t.jsx("input",{type:h?"text":"password",required:!0,value:q.password,onChange:e=>I(t=>({...t,password:e.target.value})),className:"pl-10 pr-10 w-full rounded-md border border-slate-200 bg-white px-3 py-2.5 text-sm font-light text-slate-900 focus:outline-none focus:ring-1 focus:ring-slate-900 focus:border-slate-900 transition-all",style:{letterSpacing:"0.02em"},placeholder:"Create a password"}),t.jsx("button",{type:"button",onClick:()=>f(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600 transition-colors",children:h?t.jsx(c,{className:"h-5 w-5"}):t.jsx(u,{className:"h-5 w-5"})})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-light text-slate-700 mb-2 uppercase tracking-[0.1em]",style:{letterSpacing:"0.1em"},children:"Confirm Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(d,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400"}),t.jsx("input",{type:"password",required:!0,value:q.confirmPassword,onChange:e=>I(t=>({...t,confirmPassword:e.target.value})),className:"pl-10 w-full rounded-md border border-slate-200 bg-white px-3 py-2.5 text-sm font-light text-slate-900 focus:outline-none focus:ring-1 focus:ring-slate-900 focus:border-slate-900 transition-all",style:{letterSpacing:"0.02em"},placeholder:"Confirm your password"})]})]})]}),F&&t.jsx("div",{className:"text-slate-600 bg-slate-50 p-3 rounded-md text-sm font-light",style:{letterSpacing:"0.02em"},children:F}),t.jsx("button",{type:"submit",disabled:$,className:"w-full flex justify-center py-3 px-6 border border-transparent text-xs font-light tracking-[0.15em] uppercase text-white transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--arctic-blue-primary)",letterSpacing:"0.15em"},onMouseEnter:e=>{$||(e.currentTarget.style.backgroundColor="var(--arctic-blue-primary-hover)")},onMouseLeave:e=>{$||(e.currentTarget.style.backgroundColor="var(--arctic-blue-primary)")},children:$?v&&!S?"Sending OTP...":v&&S?"Verifying...":"Creating Account...":v&&!S?"Send OTP via WhatsApp":v&&S?"Verify OTP & Sign Up":"Create Account"})]}):t.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),M(""),D(!0),w)if(S){if(!C||6!==C.length)return M("Please enter a valid 6-digit OTP"),void D(!1);try{const e=`${L}${A.replace(/\D/g,"")}`;await V(e,C)?window.location.hash="#/user/":M(J||"Login failed")}catch(t){M((null==t?void 0:t.message)||"Invalid OTP or login failed. Please try again.")}finally{D(!1)}}else{if(!A)return M("Please enter your phone number"),void D(!1);try{const e=L.replace(/[^0-9]/g,""),t=`${e}${A.replace(/\D/g,"")}`;await s.sendOTPLogin(t),k(!0),O(600);const a=setInterval(()=>{O(e=>e<=1?(clearInterval(a),0):e-1)},1e3)}catch(t){M((null==t?void 0:t.message)||"Failed to send OTP. Please try again.")}finally{D(!1)}}else try{await z(p,x)?window.location.hash="#/user/":M(J||"Login failed")}catch(t){M("Login failed. Please try again.")}finally{D(!1)}},className:"space-y-6",children:[t.jsxs("div",{className:"flex rounded-lg bg-slate-100 p-1 mb-4",children:[t.jsx("button",{type:"button",onClick:()=>{N(!1),k(!1),P(""),E(""),M("")},className:"flex-1 py-2 px-4 rounded-md text-xs font-light transition-all duration-300 tracking-[0.1em] uppercase "+(w?"text-slate-600 hover:text-slate-900":"bg-white text-slate-900 shadow-sm"),style:{letterSpacing:"0.1em"},children:"Email Login"}),t.jsxs("button",{type:"button",onClick:()=>{N(!0),k(!1),P(""),m(""),g(""),M("")},className:"flex-1 py-2 px-4 rounded-md text-xs font-light transition-all duration-300 tracking-[0.1em] uppercase "+(w?"bg-white text-slate-900 shadow-sm":"text-slate-600 hover:text-slate-900"),style:{letterSpacing:"0.1em"},children:[t.jsx(r,{className:"inline-block w-3 h-3 mr-1"}),"WhatsApp Login"]})]}),w&&t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3 mb-4",children:t.jsx("p",{className:"text-xs font-light text-blue-800",style:{letterSpacing:"0.02em"},children:S?"Enter the 6-digit OTP sent to your WhatsApp number":"Login quickly with WhatsApp OTP verification. No password required!"})}),w?t.jsx(t.Fragment,{children:S?t.jsx(t.Fragment,{children:t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-light text-slate-700 mb-2 uppercase tracking-[0.1em]",style:{letterSpacing:"0.1em"},children:"Enter OTP"}),t.jsxs("div",{className:"relative",children:[t.jsx(r,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400"}),t.jsx("input",{type:"text",required:!0,maxLength:6,value:C,onChange:e=>{const t=e.target.value.replace(/\D/g,"");P(t),M("")},className:"pl-10 w-full rounded-md border border-slate-200 bg-white px-3 py-2.5 text-sm font-light text-slate-900 focus:outline-none focus:ring-1 focus:ring-slate-900 focus:border-slate-900 transition-all text-center text-2xl tracking-widest",style:{letterSpacing:"0.1em"},placeholder:"000000"})]}),T>0&&t.jsxs("p",{className:"text-xs text-slate-500 mt-2 text-center",children:["OTP expires in ",Math.floor(T/60),":",(T%60).toString().padStart(2,"0")]}),t.jsx("button",{type:"button",onClick:()=>{k(!1),P(""),O(0),M("")},className:"text-xs text-slate-600 hover:text-slate-900 mt-2 underline",children:"Resend OTP"})]})}):t.jsx("div",{children:t.jsx(l,{value:A,onChange:e=>E(e),onCountryCodeChange:W,defaultCountry:L,placeholder:"Enter your phone number",required:!0,showLabel:!0,label:"Phone Number"})})}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-light text-slate-700 mb-2 uppercase tracking-[0.1em]",style:{letterSpacing:"0.1em"},children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx(i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400"}),t.jsx("input",{type:"email",required:!0,value:p,onChange:e=>m(e.target.value),className:"pl-10 w-full rounded-md border border-slate-200 bg-white px-3 py-2.5 text-sm font-light text-slate-900 focus:outline-none focus:ring-1 focus:ring-slate-900 focus:border-slate-900 transition-all",style:{letterSpacing:"0.02em"},placeholder:"Enter your email"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-light text-slate-700 mb-2 uppercase tracking-[0.1em]",style:{letterSpacing:"0.1em"},children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(d,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400"}),t.jsx("input",{type:h?"text":"password",required:!0,value:x,onChange:e=>g(e.target.value),className:"pl-10 pr-10 w-full rounded-md border border-slate-200 bg-white px-3 py-2.5 text-sm font-light text-slate-900 focus:outline-none focus:ring-1 focus:ring-slate-900 focus:border-slate-900 transition-all",style:{letterSpacing:"0.02em"},placeholder:"Enter your password"}),t.jsx("button",{type:"button",onClick:()=>f(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600 transition-colors",children:h?t.jsx(c,{className:"h-5 w-5"}):t.jsx(u,{className:"h-5 w-5"})})]}),t.jsx("div",{className:"mt-2 flex justify-end",children:t.jsx("button",{type:"button",onClick:()=>{window.location.hash="#/user/reset-password"},className:"text-xs font-light text-slate-600 hover:text-slate-900 underline tracking-[0.08em]",style:{letterSpacing:"0.08em"},children:"Forgot password?"})})]})]}),F&&t.jsx("div",{className:"text-slate-600 bg-slate-50 p-3 rounded-md text-sm font-light",style:{letterSpacing:"0.02em"},children:F}),t.jsx("button",{type:"submit",disabled:$,className:"w-full flex justify-center py-3 px-6 border border-transparent text-xs font-light tracking-[0.15em] uppercase text-white transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--arctic-blue-primary)",letterSpacing:"0.15em"},onMouseEnter:e=>{$||(e.currentTarget.style.backgroundColor="var(--arctic-blue-primary-hover)")},onMouseLeave:e=>{$||(e.currentTarget.style.backgroundColor="var(--arctic-blue-primary)")},children:$?w&&!S?"Sending OTP...":w&&S?"Verifying...":"Signing In...":w&&!S?"Send OTP via WhatsApp":w&&S?"Verify OTP & Sign In":"Sign In"})]}),t.jsx("div",{className:"text-center",children:t.jsxs("p",{className:"text-sm font-light text-slate-600",style:{letterSpacing:"0.02em"},children:[b?"Already have an account?":"Don't have an account?"," ",t.jsx("button",{onClick:()=>y(!b),className:"font-light text-slate-900 hover:underline transition-all",style:{letterSpacing:"0.05em"},children:b?"Sign in":"Sign up"})]})})]})]})})}export{p as default};
