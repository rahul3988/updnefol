import{d as e,u as a,b as t,g as s,i as r,j as l,p as i,n as d}from"./index-BGPhOdHQ.js";import{r as n}from"./react-vendor-D-XgqoRR.js";import{P as o}from"./PricingDisplay-BbK4X6GY.js";import{A as c}from"./AuthGuard-BUbN7oDp.js";import{P as m}from"./PhoneInput-DY_dlGxq.js";import{h as u,p as x}from"./ui-vendor-CK_V9qH3.js";import"./socket-vendor-CUkmNz_4.js";const h={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};function p({affiliateId:p}){var b,g;const v=e(),j=(null==v?void 0:v.items)||[],y=(null==v?void 0:v.subtotal)||0,f=(null==v?void 0:v.tax)||0;null==v||v.total;const k=null==v?void 0:v.clear,{user:N,isAuthenticated:P}=a(),[w,C]=n.useState(null),[S,M]=n.useState(!1),[_,A]=n.useState(null),[I,q]=n.useState("cod"),[D,z]=n.useState("prepaid"),[$,F]=n.useState([]),[U,T]=n.useState(0),[R,L]=n.useState(0),[O,B]=n.useState(0),[E,H]=n.useState(!1),[G,K]=n.useState(""),[W,J]=n.useState(null),[V,Z]=n.useState({}),[Y,Q]=n.useState(""),[X,ee]=n.useState(""),[ae,te]=n.useState(""),[se,re]=n.useState(""),[le,ie]=n.useState(""),[de,ne]=n.useState("+91"),[oe,ce]=n.useState(""),[me,ue]=n.useState(""),[xe,he]=n.useState(""),[pe,be]=n.useState("Uttar Pradesh"),[ge,ve]=n.useState(""),[je,ye]=n.useState("India"),[fe,ke]=n.useState(!1),[Ne,Pe]=n.useState(!1),[we,Ce]=n.useState(""),[Se,Me]=n.useState(!0),[_e,Ae]=n.useState(""),[Ie,qe]=n.useState(""),[De,ze]=n.useState(""),[$e,Fe]=n.useState(""),[Ue,Te]=n.useState(""),[Re,Le]=n.useState(""),[Oe,Be]=n.useState("Uttar Pradesh"),[Ee,He]=n.useState(""),[Ge,Ke]=n.useState("India"),[We,Je]=n.useState(""),[Ve,Ze]=n.useState("+91"),[Ye,Qe]=n.useState([]),[Xe,ea]=n.useState(""),aa=e=>{if(!e)return"";const a=e.replace(/\D/g,"");return a.length<=10?a:a.slice(-10)};n.useEffect(()=>{var e,a,t,s;const r=new URL(window.location.href).hash.split("?")[1]||"",l=new URLSearchParams(r).get("buy");if(C(l),P&&N){const r=(N.name||"").split(" ");Q(r[0]||""),ee(r.slice(1).join(" ")||""),re(N.email||""),ie(aa(N.phone||"")),ce((null==(e=N.address)?void 0:e.street)||""),he((null==(a=N.address)?void 0:a.city)||""),be((null==(t=N.address)?void 0:t.state)||"Uttar Pradesh"),ve((null==(s=N.address)?void 0:s.zip)||""),ye("India"),T(N.loyalty_points||0)}da(),la(),P&&(ra(),ta())},[P,N]);const ta=async()=>{try{const e=await t.user.getAddresses();if(e&&e.length>0){Qe(e);const a=e.find(e=>e.is_default);a&&(ea(String(a.id)),sa(a))}}catch(e){}},sa=e=>{const a=(e.name||"").split(" ");Q(a[0]||""),ee(a.slice(1).join(" ")||""),ie(aa(e.phone||"")),ce(e.street||""),ue(e.area||""),he(e.city||""),be(e.state||"Uttar Pradesh"),ve(e.zip||""),ye(e.country||"India")},ra=async()=>{try{const a=localStorage.getItem("token");if(!a)return;const t=s(),r=await fetch(`${t}/api/nefol-coins`,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});let l=0;if(r.ok){l=(await r.json()).nefol_coins||0}let i=0;if(P&&a)try{const e=await fetch(`${t}/api/affiliate/dashboard`,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(e.ok){const a=await e.json();a.total_earnings&&(i=Math.floor(10*a.total_earnings))}else e.status}catch(e){e instanceof TypeError&&e.message.includes("fetch")}L(l+i)}catch(e){}},la=async()=>{try{const e=s(),a=await fetch(`${e}/api/products-csv`);if(a.ok){const e=await a.json(),t={};e.forEach(e=>{var a;const s={};Object.keys(e).forEach(a=>{const t=a.trim();s[t]=e[a]});const r=s.Slug||(null==(a=s["Product Name"])?void 0:a.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""))||"";r&&(t[r]=s)}),Z(t)}}catch(e){}},ia=n.useMemo(()=>(w?j.filter(e=>e.slug===w):j).map(e=>{const a=V[e.slug];return{...e,csvProduct:a||null}}),[w,j,V]),da=async()=>{try{(null==h?void 0:h.VITE_BACKEND_HOST)||(null==h?void 0:h.VITE_API_HOST)||window.location.hostname;const e=s(),a=await fetch(`${e}/api/payment-gateways`);if(a.ok){const e=await a.json();F(e.filter(e=>e.is_active))}}catch(e){}},na=n.useMemo(()=>w?ia.reduce((e,a)=>e+r(a.price)*(a.quantity||1),0):y,[w,ia,y]),oa=()=>{if(!W)return 0;if(void 0!==W.discountAmount)return W.discountAmount;if("percentage"===W.type){let e=na*W.value/100;return W.maxDiscount&&e>W.maxDiscount&&(e=W.maxDiscount),e}return W.value},ca=(()=>{if(w){const e=ia[0];if(!e)return 0;const a=r(e.price);return(a-a/(1+((e.category||"").toLowerCase().includes("hair")?.05:.18)))*(e.quantity||1)}return f})(),ma=oa(),ua=ia.reduce((e,a)=>{var t,s,l;let i=null;if(a.mrp)i=a.mrp;else if(null==(t=a.details)?void 0:t.mrp)i=a.details.mrp;else if(null==(l=null==(s=a.product)?void 0:s.details)?void 0:l.mrp)i=a.product.details.mrp;else if(a.csvProduct){const e=a.csvProduct;i=e["MRP (₹)"]||e["MRP "]||e.MRP||e.mrp||e["MRP(₹)"]||e["MRP(₹) "]}i||(i=a.price);const d=r(i||"0");return e+d*(a.quantity||1)},0),xa=ia.reduce((e,a)=>{var t,s,l;let i=null;if(a.mrp)i=a.mrp;else if(null==(t=a.details)?void 0:t.mrp)i=a.details.mrp;else if(null==(l=null==(s=a.product)?void 0:s.details)?void 0:l.mrp)i=a.product.details.mrp;else if(a.csvProduct){const e=a.csvProduct;i=e["MRP (₹)"]||e["MRP "]||e.MRP||e.mrp||e["MRP(₹)"]||e["MRP(₹) "]}i||(i=a.price);const d=(r(i||"0")-r(a.price))*(a.quantity||1);return e+Math.max(0,d)},0),ha=E?Math.min(O/10,na-ma):0,pa=na-ma-ha,ba=w?Math.max(0,pa+0):Math.max(0,y-ma-ha+0),ga=ba<1e3,va="cod"===I;n.useEffect(()=>{ga||z("prepaid")},[ga]);const ja=()=>ia.map(e=>{const a=V[e.slug]||{};return{...e,csvProduct:{"Brand Name":a["Brand Name"],SKU:a.SKU,"HSN Code":a["HSN Code"],"Net Quantity (Content)":a["Net Quantity (Content)"],"Unit Count (Pack of)":a["Unit Count (Pack of)"],"Net Weight (Product Only)":a["Net Weight (Product Only)"],"Dead Weight (Packaging Only)":a["Dead Weight (Packaging Only)"],"GST %":a["GST %"],"Country of Origin":a["Country of Origin"],"Manufacturer / Packer / Importer":a["Manufacturer / Packer / Importer"],"Key Ingredients":a["Key Ingredients"],"Ingredient Benefits":a["Ingredient Benefits"],"How to Use (Steps)":a["How to Use (Steps)"],"Package Content Details":a["Package Content Details"],"Inner Packaging Type":a["Inner Packaging Type"],"Outer Packaging Type":a["Outer Packaging Type"],"Hazardous / Fragile (Y/N)":a["Hazardous / Fragile (Y/N)"],"Special Attributes (Badges)":a["Special Attributes (Badges)"],"Product Category":a["Product Category"],"Product Sub-Category":a["Product Sub-Category"],"Product Type":a["Product Type"],"Skin/Hair Type":a["Skin/Hair Type"],MRP:a.MRP,"website price":a["website price"],discount:a.discount,"Image Links":a["Image Links"],"Video Links":a["Video Links"]}}}),ya=(e,a)=>{const t=e.replace(/\D/g,"");return t.length>10?t.slice(-10):10===t.length?t:t.padStart(10,"0").slice(-10)};return ia.length?l.jsx(c,{children:l.jsx("main",{className:"py-10 dark:bg-slate-900 w-full overflow-x-hidden",children:l.jsxs("div",{className:"mx-auto max-w-5xl px-4 sm:px-6 lg:px-8 grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8 w-full",children:[l.jsxs("form",{onSubmit:async e=>{e.preventDefault(),A(null);const a=(()=>{if(!(null==Y?void 0:Y.trim()))return"First name is required for shipping";if(!(null==X?void 0:X.trim()))return"Last name is required for shipping (Shiprocket requirement)";if(!(null==oe?void 0:oe.trim()))return"Address is required for shipping";if(!(null==xe?void 0:xe.trim()))return"City is required for shipping";if(!(null==pe?void 0:pe.trim())||""===pe)return"State is required for shipping";if(!(null==ge?void 0:ge.trim())||6!==ge.length)return"Valid 6-digit PIN code is required for shipping";if(!(null==le?void 0:le.trim()))return"Phone number is required for shipping";if(!(null==se?void 0:se.trim()))return"Email is required for shipping";if(10!==le.replace(/\D/g,"").length)return"Please enter a valid 10-digit phone number";if(!Se){if(!(null==_e?void 0:_e.trim()))return"Billing first name is required";if(!(null==Ie?void 0:Ie.trim()))return"Billing last name is required (Shiprocket requirement)";if(!(null==$e?void 0:$e.trim()))return"Billing address is required";if(!(null==Re?void 0:Re.trim()))return"Billing city is required";if(!(null==Oe?void 0:Oe.trim())||""===Oe)return"Billing state is required";if(!(null==Ee?void 0:Ee.trim())||6!==Ee.length)return"Valid 6-digit billing PIN code is required";if(!(null==We?void 0:We.trim()))return"Billing phone number is required";if(10!==We.replace(/\D/g,"").length)return"Please enter a valid 10-digit billing phone number"}const e=/^\d{6}$/,a=ge.replace(/\D/g,"");if(6!==a.length||!e.test(a))return"Please enter a valid 6-digit PIN code (required for shipping)";if(!Se&&Ee){const a=Ee.replace(/\D/g,"");if(6!==a.length||!e.test(a))return"Please enter a valid 6-digit billing PIN code"}return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(se)?null:"Please enter a valid email address"})();if(a)A(a);else if(E&&O/10<pa&&!I)A("Please select a payment method for the remaining amount");else{M(!0);try{if("razorpay"===I)return void(await(async()=>{var e;try{const e=ja(),r=oa(),l={customer_name:`${Y} ${X}`.trim(),customer_email:se,shipping_address:{firstName:Y.trim(),lastName:X.trim(),company:ae.trim()||void 0,gst_number:ae.trim()?we.trim():void 0,address:oe.trim(),apartment:me.trim()||void 0,city:xe.trim(),state:pe.trim(),zip:ge.trim(),pincode:ge.trim(),phone:ya(le,de),country:je||"India",email:se.trim()},billing_address:Se?{firstName:Y.trim(),lastName:X.trim(),company:ae.trim()||void 0,address:oe.trim(),apartment:me.trim()||void 0,city:xe.trim(),state:pe.trim(),zip:ge.trim(),country:je||"India",phone:ya(le,de),email:se.trim()}:{firstName:_e.trim(),lastName:Ie.trim(),company:De.trim()||void 0,address:$e.trim(),apartment:Ue.trim()||void 0,city:Re.trim(),state:Oe.trim(),zip:Ee.trim(),pincode:Ee.trim(),country:Ge||"India",phone:ya(We||le,Ve||de),email:se.trim()},items:e,subtotal:Number(na.toFixed(2)),shipping:0,tax:ca,total:Number(ba.toFixed(2)),payment_method:E&&O>0?"coins+razorpay":"razorpay",payment_type:D,status:"created",affiliate_id:p,discount_code:(null==W?void 0:W.code)||null,discount_amount:r>0?Number(r.toFixed(2)):0,coins_used:E?O:0},n=(await t.orders.createOrder(l)).order_number;if(!n)throw new Error("Failed to get order number from backend");const o=await t.payment.createRazorpayOrder({amount:ba,currency:"INR",order_number:n,customer_name:`${Y} ${X}`.trim(),customer_email:se,customer_phone:`${de}${ya(le,de)}`});if(!o||!o.id||!o.key_id)return A("Failed to initialize payment gateway. Please try again."),void M(!1);if(!o.id.startsWith("order_"))return A("Invalid payment order. Please try again."),void M(!1);const c={key:o.key_id,amount:o.amount,currency:o.currency,name:"Nefol",description:`Order ${n}`,order_id:o.id,prefill:{name:`${Y} ${X}`.trim(),email:se,contact:`${de}${ya(le,de)}`},handler:async function(a){var s;try{if(!a.razorpay_order_id||!a.razorpay_payment_id||!a.razorpay_signature)return A("Payment verification failed: Invalid payment response"),void M(!1);if(!n)return A("Payment verification failed: Order number is missing"),void M(!1);if(await t.payment.verifyRazorpayPayment({razorpay_order_id:a.razorpay_order_id,razorpay_payment_id:a.razorpay_payment_id,razorpay_signature:a.razorpay_signature,order_number:n}),i.purchase(d({...l,order_number:n,items:e})),fe&&P)try{await t.user.createAddress({name:`${Y} ${X}`.trim(),phone:ya(le,de),street:oe.trim(),area:me.trim()||void 0,city:xe.trim(),state:pe.trim(),zip:ge.trim(),country:je||"India",is_default:!0})}catch(r){}if(Ne&&le)try{await t.whatsapp.subscribe(`${de}${ya(le,de)}`,`${Y} ${X}`.trim(),"checkout")}catch(r){}k&&k(),window.location.hash=`#/user/confirmation?order=${encodeURIComponent(n)}`}catch(r){const e=(null==r?void 0:r.message)||(null==(s=null==r?void 0:r.error)?void 0:s.message)||"Payment verification failed. Please contact support if payment was deducted.";A(e),M(!1);try{await t.orders.updatePaymentCancelled(n)}catch(o){}}},modal:{ondismiss:async function(){M(!1);try{await t.orders.updatePaymentCancelled(n)}catch(e){}}}},m=window.Razorpay(c);m.on("payment.failed",function(e){var a,t;A(`Payment failed: ${(null==(a=e.error)?void 0:a.description)||(null==(t=e.error)?void 0:t.reason)||"Unknown error"}`),M(!1)}),m.on("payment.error",function(e){var a,t;A(`Payment error: ${(null==(a=e.error)?void 0:a.description)||(null==(t=e.error)?void 0:t.reason)||"Unknown error"}`),M(!1)});try{m.open()}catch(a){A(`Failed to open payment gateway: ${(null==a?void 0:a.message)||"Unknown error"}`),M(!1);try{await t.orders.updatePaymentCancelled(n)}catch(s){}}}catch(r){A((null==r?void 0:r.message)||(null==(e=null==r?void 0:r.error)?void 0:e.message)||"Payment initiation failed"),M(!1)}})());const e=ja(),a=oa(),r={customer_name:`${Y} ${X}`.trim(),customer_email:se,shipping_address:{firstName:Y.trim(),lastName:X.trim(),company:ae.trim()||void 0,gst_number:ae.trim()?we.trim():void 0,address:oe.trim(),apartment:me.trim()||void 0,city:xe.trim(),state:pe.trim(),zip:ge.trim(),pincode:ge.trim(),phone:ya(le,de),country:je||"India",email:se.trim()},billing_address:Se?{firstName:Y.trim(),lastName:X.trim(),company:ae.trim()||void 0,address:oe.trim(),apartment:me.trim()||void 0,city:xe.trim(),state:pe.trim(),zip:ge.trim(),country:je||"India",phone:ya(le,de),email:se.trim()}:{firstName:_e.trim(),lastName:Ie.trim(),company:De.trim()||void 0,address:$e.trim(),apartment:Ue.trim()||void 0,city:Re.trim(),state:Oe.trim(),zip:Ee.trim(),pincode:Ee.trim(),country:Ge||"India",phone:ya(We||le,Ve||de),email:se.trim()},items:e,subtotal:Number(na.toFixed(2)),shipping:0,tax:ca,total:Number(ba.toFixed(2)),payment_method:E&&O/10>=pa?"coins":I,payment_type:va?"cod":E&&O/10>=pa?"prepaid":D,status:"created",affiliate_id:p,discount_code:(null==W?void 0:W.code)||null,discount_amount:a>0?Number(a.toFixed(2)):0,coins_used:E?O:0},l=(await t.orders.createOrder(r)).order_number;if(!l)throw new Error("Failed to get order number from backend");if(i.purchase(d({...r,order_number:l,items:e})),fe&&P)try{await t.user.createAddress({name:`${Y} ${X}`.trim(),phone:ya(le,de),street:oe.trim(),area:me.trim()||void 0,city:xe.trim(),state:pe.trim(),zip:ge.trim(),country:je||"India",is_default:!0})}catch(s){}if(Ne&&le)try{await t.whatsapp.subscribe(`${de}${ya(le,de)}`,`${Y} ${X}`.trim(),"checkout")}catch(s){}k&&k(),window.location.hash=`#/user/confirmation?order=${encodeURIComponent(l)}`}catch(s){A((null==s?void 0:s.message)||"Order failed")}finally{M(!1)}}},className:"md:col-span-2 space-y-4 sm:space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl sm:text-2xl font-bold dark:text-slate-100 mb-3 sm:mb-4",children:"Delivery"}),l.jsxs("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400 mb-3 sm:mb-4",children:["Fields marked with ",l.jsx("span",{className:"text-red-500",children:"*"})," are required for shipping. Please ensure all information is accurate."]}),P&&l.jsxs("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(u,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),l.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300",children:"Use Saved Address"})]}),Ye.length>0?l.jsxs(l.Fragment,{children:[l.jsxs("select",{value:Xe,onChange:e=>(e=>{ea(e);const a=Ye.find(a=>String(a.id)===e);a&&sa(a)})(e.target.value),className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-slate-700 dark:text-slate-100 mb-2 font-medium",children:[l.jsx("option",{value:"",children:"Select a saved address..."}),Ye.map(e=>l.jsxs("option",{value:String(e.id),children:[e.name||"Unnamed"," - ",e.street,", ",e.city,", ",e.state," ",e.zip,e.is_default&&" (Default)"]},e.id))]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Select a saved address to autofill the form below"}),l.jsx("a",{href:"#/user/manage-address",className:"text-xs text-blue-600 dark:text-blue-400 hover:underline font-medium",children:"Manage Addresses"})]}),Xe&&l.jsx("button",{type:"button",onClick:()=>{ea(""),Q(""),ee(""),ie(""),ce(""),ue(""),he(""),be("Uttar Pradesh"),ve("")},className:"mt-3 text-sm text-blue-600 dark:text-blue-400 hover:underline font-medium",children:"Use new address instead"})]}):l.jsxs("div",{className:"text-center py-3",children:[l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:"No saved addresses found"}),l.jsx("a",{href:"#/user/manage-address",className:"text-sm text-blue-600 dark:text-blue-400 hover:underline font-medium",children:"Add an address to save time"})]})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Country"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"IN"}),l.jsx("input",{type:"text",className:"flex-1 rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-100",value:je,readOnly:!0,disabled:!0})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-3 w-full",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["First name ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{className:"w-full rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-100",placeholder:"First name",value:Y,onChange:e=>Q(e.target.value),required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["Last name ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{className:"w-full rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-100",placeholder:"Last name",value:X,onChange:e=>ee(e.target.value),required:!0,minLength:1}),l.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Required for shipping (Shiprocket requirement)"})]})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Company (optional)"}),l.jsx("input",{className:"w-full rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-100",placeholder:"Company",value:ae,onChange:e=>te(e.target.value)})]}),ae.trim()&&l.jsxs("div",{className:"mb-3",children:[l.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["GST Number ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{className:"w-full rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-100",placeholder:"15-character GSTIN (e.g. 27ABCDE1234F1Z5)",value:we,onChange:e=>Ce(e.target.value.toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,15)),required:""!==ae.trim(),pattern:"[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}",minLength:15,maxLength:15}),l.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:'Enter standard 15-character GSTIN: 2-digit state code, PAN, entity code, default "Z", checksum.'})]}),l.jsxs("div",{className:"mb-3",children:[l.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["Address ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{className:"w-full rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-100",placeholder:"Street address",value:oe,onChange:e=>ce(e.target.value),required:!0})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Apartment, suite, etc."}),l.jsx("input",{className:"w-full rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-100",placeholder:"Apartment, suite, etc.",value:me,onChange:e=>ue(e.target.value)})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 mb-3 w-full",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["City ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{className:"w-full rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-100",placeholder:"City",value:xe,onChange:e=>he(e.target.value),required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["State ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{className:"w-full rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-100",value:pe,onChange:e=>be(e.target.value),required:!0,children:[l.jsx("option",{value:"",children:"Select State"}),l.jsx("option",{value:"Andhra Pradesh",children:"Andhra Pradesh"}),l.jsx("option",{value:"Arunachal Pradesh",children:"Arunachal Pradesh"}),l.jsx("option",{value:"Assam",children:"Assam"}),l.jsx("option",{value:"Bihar",children:"Bihar"}),l.jsx("option",{value:"Chhattisgarh",children:"Chhattisgarh"}),l.jsx("option",{value:"Goa",children:"Goa"}),l.jsx("option",{value:"Gujarat",children:"Gujarat"}),l.jsx("option",{value:"Haryana",children:"Haryana"}),l.jsx("option",{value:"Himachal Pradesh",children:"Himachal Pradesh"}),l.jsx("option",{value:"Jharkhand",children:"Jharkhand"}),l.jsx("option",{value:"Karnataka",children:"Karnataka"}),l.jsx("option",{value:"Kerala",children:"Kerala"}),l.jsx("option",{value:"Madhya Pradesh",children:"Madhya Pradesh"}),l.jsx("option",{value:"Maharashtra",children:"Maharashtra"}),l.jsx("option",{value:"Manipur",children:"Manipur"}),l.jsx("option",{value:"Meghalaya",children:"Meghalaya"}),l.jsx("option",{value:"Mizoram",children:"Mizoram"}),l.jsx("option",{value:"Nagaland",children:"Nagaland"}),l.jsx("option",{value:"Odisha",children:"Odisha"}),l.jsx("option",{value:"Punjab",children:"Punjab"}),l.jsx("option",{value:"Rajasthan",children:"Rajasthan"}),l.jsx("option",{value:"Sikkim",children:"Sikkim"}),l.jsx("option",{value:"Tamil Nadu",children:"Tamil Nadu"}),l.jsx("option",{value:"Telangana",children:"Telangana"}),l.jsx("option",{value:"Tripura",children:"Tripura"}),l.jsx("option",{value:"Uttar Pradesh",children:"Uttar Pradesh"}),l.jsx("option",{value:"Uttarakhand",children:"Uttarakhand"}),l.jsx("option",{value:"West Bengal",children:"West Bengal"}),l.jsx("option",{value:"Andaman and Nicobar Islands",children:"Andaman and Nicobar Islands"}),l.jsx("option",{value:"Chandigarh",children:"Chandigarh"}),l.jsx("option",{value:"Dadra and Nagar Haveli and Daman and Diu",children:"Dadra and Nagar Haveli and Daman and Diu"}),l.jsx("option",{value:"Delhi",children:"Delhi"}),l.jsx("option",{value:"Jammu and Kashmir",children:"Jammu and Kashmir"}),l.jsx("option",{value:"Ladakh",children:"Ladakh"}),l.jsx("option",{value:"Lakshadweep",children:"Lakshadweep"}),l.jsx("option",{value:"Puducherry",children:"Puducherry"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["PIN code ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{className:"w-full rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-100",placeholder:"6-digit PIN code",value:ge,onChange:e=>ve(e.target.value.replace(/\D/g,"").slice(0,6)),required:!0,pattern:"\\d{6}",minLength:6,maxLength:6}),l.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Required for shipping"})]})]}),l.jsxs("div",{className:"mb-3",children:[l.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["Email ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"email",className:"w-full rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-100",placeholder:"your@email.com",value:se,onChange:e=>re(e.target.value),required:!0})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx(m,{value:le,onChange:e=>{const a=e.replace(/\D/g,"").slice(0,10);ie(a)},onCountryCodeChange:ne,defaultCountry:de,placeholder:"Enter 10-digit phone number",required:!0,showLabel:!0,label:"Phone",className:"mb-3"}),l.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Enter exactly 10 digits (required for shipping)"})]}),l.jsxs("div",{className:"space-y-2 mb-3",children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",className:"mr-2 rounded border-slate-300",checked:fe,onChange:e=>ke(e.target.checked)}),l.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Save this information for next time"})]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",className:"mr-2 rounded border-slate-300",checked:Ne,onChange:e=>Pe(e.target.checked)}),l.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Text me with news and offers"})]})]})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold dark:text-slate-100 mb-4",children:"Shipping method"}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Enter your shipping address to view available shipping methods."})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold dark:text-slate-100 mb-4",children:"Coupon Code"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",className:"flex-1 rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600",placeholder:"Enter coupon code",value:G,onChange:e=>K(e.target.value.toUpperCase()),disabled:!!W}),W?l.jsx("button",{type:"button",onClick:()=>{J(null),K(""),A(null)},className:"rounded bg-red-600 px-4 py-2 font-semibold text-white hover:bg-red-700 transition-colors",children:"Remove"}):l.jsx("button",{type:"button",onClick:async()=>{try{if(!G||""===G.trim())return void A("Please enter a discount code");if(!na||na<=0)return void A("Order amount must be greater than zero");const e=s(),a=await fetch(`${e}/api/discounts/apply`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:G.trim(),amount:na})});if(a.ok){const e=await a.json(),t=e.data||e;J(t),A(null)}else{const e=await a.json().catch(()=>({message:"Failed to apply discount code"})),t=e.message||e.error||"Invalid discount code";A(t),J(null)}}catch(e){A((null==e?void 0:e.message)||"Failed to apply discount code. Please try again."),J(null)}},className:"rounded bg-green-600 px-4 py-2 font-semibold text-white hover:bg-green-700 disabled:opacity-50 transition-colors",disabled:!G.trim(),children:"Apply"})]}),W&&l.jsx("div",{className:"mt-2 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3",children:l.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:["✅ Coupon applied: ",W.code," - Save ₹",ma.toFixed(2)]})})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold dark:text-slate-100 mb-4",children:"Payment"}),l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:"All transactions are secure and encrypted."}),l.jsxs("div",{className:"space-y-3 mb-4",children:[P&&R>0&&l.jsx("div",{className:"p-4 rounded-lg border-2 border-yellow-200 dark:border-yellow-800 bg-yellow-50 dark:bg-yellow-900/20 mb-4",children:l.jsxs("label",{className:"flex items-start cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:E,onChange:e=>{if(H(e.target.checked),e.target.checked){const e=Math.min(R,Math.ceil(10*pa));B(e),e/10<pa&&q("razorpay")}else B(0),q("cod")},className:"mt-1 mr-3"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(x,{className:"w-5 h-5 text-yellow-600"}),l.jsx("div",{className:"font-medium text-slate-700 dark:text-slate-300",children:"Use Nefol Coins"})]}),l.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:["Available: ",R," coins (1 rupee = 10 coins)"]}),E&&l.jsxs("div",{className:"mt-3 space-y-2",children:[l.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:["Coins to Use (Max: ",Math.min(R,Math.ceil(10*pa))," coins)"]}),l.jsx("input",{type:"number",min:"0",max:Math.min(R,Math.ceil(10*pa)),value:O,onChange:e=>{const a=parseInt(e.target.value)||0,t=Math.min(R,Math.ceil(10*pa));B(Math.max(0,Math.min(a,t))),a/10<pa&&"coins"===I&&q("razorpay")},className:"w-full px-3 py-2 rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100"}),l.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[l.jsxs("p",{children:["Coins value: ₹",(O/10).toFixed(2)]}),l.jsxs("p",{className:"font-semibold",children:["Remaining to pay: ₹",Math.max(0,pa-O/10).toFixed(2)]}),O/10>=pa&&l.jsx("p",{className:"text-green-600 dark:text-green-400 font-semibold",children:"✓ Order fully paid with coins! No additional payment needed."})]})]})]})]})}),E&&O/10<pa&&l.jsx("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:l.jsxs("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-200 mb-3",children:["Select Payment Method for Remaining Amount: ₹",Math.max(0,pa-O/10).toFixed(2)]})}),(!E||O/10<pa)&&l.jsxs("label",{className:"flex items-start p-4 rounded-lg border-2 cursor-pointer transition-all "+("razorpay"===I?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-slate-300 dark:border-slate-600 hover:border-slate-400"),children:[l.jsx("input",{type:"radio",name:"paymentMethod",value:"razorpay",checked:"razorpay"===I,onChange:e=>q(e.target.value),disabled:E&&O/10>=pa,className:"mt-1 mr-3"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"font-medium text-slate-700 dark:text-slate-300",children:["Razorpay Secure (UPI, Cards, Int'l Cards, Wallets)",E&&O/10<pa&&l.jsxs("span",{className:"text-xs text-slate-500 ml-2",children:["(Pay ₹",Math.max(0,pa-O/10).toFixed(2),")"]})]}),l.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1 flex items-center gap-1",children:E&&O/10<pa?l.jsxs("span",{children:["Pay remaining ₹",Math.max(0,pa-O/10).toFixed(2)," via Razorpay"]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{children:"UPI"}),l.jsx("span",{children:"•"}),l.jsx("span",{children:"Visa"}),l.jsx("span",{children:"•"}),l.jsx("span",{children:"Mastercard"}),l.jsx("span",{children:"•"}),l.jsx("span",{children:"Net Banking"}),l.jsx("span",{className:"ml-1",children:"+18"})]})})]})]}),(!E||O/10<pa)&&l.jsxs("label",{className:"flex items-start p-4 rounded-lg border-2 cursor-pointer transition-all "+("cod"===I?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-slate-300 dark:border-slate-600 hover:border-slate-400"),children:[l.jsx("input",{type:"radio",name:"paymentMethod",value:"cod",checked:"cod"===I,onChange:e=>q(e.target.value),disabled:E&&O/10>=pa,className:"mt-1 mr-3"}),l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"font-medium text-slate-700 dark:text-slate-300",children:["Cash on Delivery",E&&O/10<pa&&l.jsxs("span",{className:"text-xs text-slate-500 ml-2",children:["(Pay ₹",Math.max(0,ba).toFixed(2)," on delivery)"]})]})})]})]})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold dark:text-slate-100 mb-4",children:"Billing address"}),l.jsxs("label",{className:"flex items-center mb-4",children:[l.jsx("input",{type:"radio",name:"billingAddress",checked:Se,onChange:()=>Me(!0),className:"mr-2"}),l.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Same as shipping address"})]}),l.jsxs("label",{className:"flex items-center mb-4",children:[l.jsx("input",{type:"radio",name:"billingAddress",checked:!Se,onChange:()=>Me(!1),className:"mr-2"}),l.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Use a different billing address"})]}),!Se&&l.jsxs("div",{className:"mt-4 space-y-4 pl-4 sm:pl-6 border-l-2 border-slate-300 dark:border-slate-600 w-full",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 w-full",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"First name"}),l.jsx("input",{className:"w-full rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-100",placeholder:"First name",value:_e,onChange:e=>Ae(e.target.value),required:!Se})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Last name"}),l.jsx("input",{className:"w-full rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-100",placeholder:"Last name",value:Ie,onChange:e=>qe(e.target.value),required:!Se})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Company (optional)"}),l.jsx("input",{className:"w-full rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-100",placeholder:"Company",value:De,onChange:e=>ze(e.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Address"}),l.jsx("input",{className:"w-full rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-100",placeholder:"Address",value:$e,onChange:e=>Fe(e.target.value),required:!Se})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Apartment, suite, etc."}),l.jsx("input",{className:"w-full rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-100",placeholder:"Apartment, suite, etc.",value:Ue,onChange:e=>Te(e.target.value)})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 w-full",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"City"}),l.jsx("input",{className:"w-full rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-100",placeholder:"City",value:Re,onChange:e=>Le(e.target.value),required:!Se})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"State"}),l.jsxs("select",{className:"w-full rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-100",value:Oe,onChange:e=>Be(e.target.value),required:!Se,children:[l.jsx("option",{value:"",children:"Select State"}),l.jsx("option",{value:"Andhra Pradesh",children:"Andhra Pradesh"}),l.jsx("option",{value:"Arunachal Pradesh",children:"Arunachal Pradesh"}),l.jsx("option",{value:"Assam",children:"Assam"}),l.jsx("option",{value:"Bihar",children:"Bihar"}),l.jsx("option",{value:"Chhattisgarh",children:"Chhattisgarh"}),l.jsx("option",{value:"Goa",children:"Goa"}),l.jsx("option",{value:"Gujarat",children:"Gujarat"}),l.jsx("option",{value:"Haryana",children:"Haryana"}),l.jsx("option",{value:"Himachal Pradesh",children:"Himachal Pradesh"}),l.jsx("option",{value:"Jharkhand",children:"Jharkhand"}),l.jsx("option",{value:"Karnataka",children:"Karnataka"}),l.jsx("option",{value:"Kerala",children:"Kerala"}),l.jsx("option",{value:"Madhya Pradesh",children:"Madhya Pradesh"}),l.jsx("option",{value:"Maharashtra",children:"Maharashtra"}),l.jsx("option",{value:"Manipur",children:"Manipur"}),l.jsx("option",{value:"Meghalaya",children:"Meghalaya"}),l.jsx("option",{value:"Mizoram",children:"Mizoram"}),l.jsx("option",{value:"Nagaland",children:"Nagaland"}),l.jsx("option",{value:"Odisha",children:"Odisha"}),l.jsx("option",{value:"Punjab",children:"Punjab"}),l.jsx("option",{value:"Rajasthan",children:"Rajasthan"}),l.jsx("option",{value:"Sikkim",children:"Sikkim"}),l.jsx("option",{value:"Tamil Nadu",children:"Tamil Nadu"}),l.jsx("option",{value:"Telangana",children:"Telangana"}),l.jsx("option",{value:"Tripura",children:"Tripura"}),l.jsx("option",{value:"Uttar Pradesh",children:"Uttar Pradesh"}),l.jsx("option",{value:"Uttarakhand",children:"Uttarakhand"}),l.jsx("option",{value:"West Bengal",children:"West Bengal"}),l.jsx("option",{value:"Andaman and Nicobar Islands",children:"Andaman and Nicobar Islands"}),l.jsx("option",{value:"Chandigarh",children:"Chandigarh"}),l.jsx("option",{value:"Dadra and Nagar Haveli and Daman and Diu",children:"Dadra and Nagar Haveli and Daman and Diu"}),l.jsx("option",{value:"Delhi",children:"Delhi"}),l.jsx("option",{value:"Jammu and Kashmir",children:"Jammu and Kashmir"}),l.jsx("option",{value:"Ladakh",children:"Ladakh"}),l.jsx("option",{value:"Lakshadweep",children:"Lakshadweep"}),l.jsx("option",{value:"Puducherry",children:"Puducherry"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:["PIN code ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{className:"w-full rounded border border-slate-300 px-3 py-2 dark:bg-slate-800 dark:border-slate-600 dark:text-slate-100",placeholder:"6-digit PIN code",value:Ee,onChange:e=>He(e.target.value.replace(/\D/g,"").slice(0,6)),required:!Se,pattern:"\\d{6}",minLength:6,maxLength:6}),l.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Required for shipping"})]})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx(m,{value:We,onChange:e=>{const a=e.replace(/\D/g,"").slice(0,10);Je(a)},onCountryCodeChange:Ze,defaultCountry:Ve,placeholder:"Enter 10-digit phone number",required:!Se,showLabel:!0,label:"Billing Phone",className:"mb-3"}),l.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Enter exactly 10 digits (required for shipping)"})]})]})]}),_&&l.jsx("div",{className:"text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 p-3 rounded-lg",children:_}),l.jsx("button",{type:"submit",disabled:S,className:"w-full rounded bg-blue-600 px-5 py-3 font-semibold text-white hover:bg-blue-700 disabled:opacity-50 transition-colors",children:S?"Processing Order...":E&&O/10>=pa?`Place Order (Paid with ${O} Coins)`:E&&O/10<pa?`Use ${O} Coins + Pay ₹${ba.toFixed(2)} ${va?"(Cash on Delivery)":"razorpay"===I?"Now":""}`:va?`Place Order (Cash on Delivery) - ₹${ba.toFixed(2)}`:"Pay now"})]}),l.jsxs("aside",{className:"w-full md:w-auto",children:[l.jsx("h2",{className:"text-xl font-semibold mb-3 dark:text-slate-100",children:"Order Summary"}),l.jsxs("div",{className:"space-y-3",children:[ia.map(e=>l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsxs("div",{children:[l.jsxs("span",{className:"dark:text-slate-300",children:[e.title," × ",e.quantity]}),l.jsx("div",{className:"text-xs",children:l.jsx(o,{product:e,csvProduct:e.csvProduct,className:"text-xs"})})]}),l.jsxs("span",{className:"dark:text-slate-100",children:["₹",(r(e.price)*e.quantity).toFixed(2)]})]},e.slug)),l.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-3 text-sm space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"MRP"}),l.jsxs("span",{className:"dark:text-slate-100",children:["₹",ua.toFixed(2)]})]}),xa>0&&l.jsxs("div",{className:"flex justify-between text-green-600 dark:text-green-400",children:[l.jsx("span",{children:"Product Discount"}),l.jsxs("span",{children:["-₹",xa.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between font-medium",children:[l.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Subtotal"}),l.jsxs("span",{className:"dark:text-slate-100",children:["₹",na.toFixed(2)]})]}),W&&ma>0&&l.jsxs("div",{className:"flex justify-between text-green-600 dark:text-green-400",children:[l.jsxs("span",{children:["Coupon Code (",W.code,")"]}),l.jsxs("span",{children:["-₹",ma.toFixed(2)]})]}),E&&O>0&&l.jsxs("div",{className:"flex justify-between text-yellow-600 dark:text-yellow-400",children:[l.jsxs("span",{children:["Nefol Coins Used (",O," coins = ₹",(O/10).toFixed(2),")"]}),l.jsxs("span",{children:["-₹",ha.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Shipping Charges"}),l.jsx("span",{className:"text-green-600 dark:text-green-400",children:"Free"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:["GST (",w?(null==(g=null==(b=ia[0])?void 0:b.category)?void 0:g.toLowerCase().includes("hair"))?"5%":"18%":"Mixed",")",l.jsx("span",{className:"text-xs ml-1",children:"(Inclusive)"})]}),l.jsxs("span",{className:"dark:text-slate-100",children:["₹",ca.toFixed(2)]})]}),l.jsx("div",{className:"border-t border-slate-300 dark:border-slate-600 pt-2 mt-2",children:l.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[l.jsx("span",{className:"dark:text-slate-100",children:"Grand Total"}),l.jsxs("span",{className:"dark:text-slate-100",children:["₹",ba.toFixed(2)]})]})}),l.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"* MRP includes GST"})]})]})]})]})})}):l.jsx(c,{children:l.jsx("main",{className:"py-10 dark:bg-slate-900 overflow-x-hidden",children:l.jsxs("div",{className:"mx-auto max-w-3xl px-4 sm:px-6 lg:px-8",children:[l.jsx("h1",{className:"text-xl sm:text-2xl font-bold dark:text-slate-100",children:"Checkout"}),l.jsx("p",{className:"mt-2 text-sm sm:text-base text-slate-600 dark:text-slate-400",children:"Your cart is empty."})]})})})}export{p as default};
